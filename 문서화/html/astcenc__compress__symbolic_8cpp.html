<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project1: C:/Users/inhyu/OneDrive/바탕 화면/랩실 내용/astc-encoder-main/Source/astcenc_compress_symbolic.cpp 파일 참조</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Project1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('astcenc__compress__symbolic_8cpp.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">함수</a>  </div>
  <div class="headertitle"><div class="title">astcenc_compress_symbolic.cpp 파일 참조</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="astcenc__internal_8h_source.html">astcenc_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="astcenc__diagnostic__trace_8h_source.html">astcenc_diagnostic_trace.h</a>&quot;</code><br />
<code>#include &lt;cassert&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
astcenc_compress_symbolic.cpp에 대한 include 의존 그래프</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp__incl.png" border="0" usemap="#a_c_1_2_users_2inhyu_2_one_drive_2_xEB_xB0_x94_xED_x83_x95_01_xED_x99_x94_xEB_xA9_xB4_2_xEB_x9E_xA9_xEC_x8B_xA4_01_xEB_x82_xB4_xEC_x9A_xA9_2astc-encoder-main_2_source_2astcenc__compress__symbolic_8cpp" alt=""/></div>
<map name="a_c_1_2_users_2inhyu_2_one_drive_2_xEB_xB0_x94_xED_x83_x95_01_xED_x99_x94_xEB_xA9_xB4_2_xEB_x9E_xA9_xEC_x8B_xA4_01_xEB_x82_xB4_xEC_x9A_xA9_2astc-encoder-main_2_source_2astcenc__compress__symbolic_8cpp" id="a_c_1_2_users_2inhyu_2_one_drive_2_xEB_xB0_x94_xED_x83_x95_01_xED_x99_x94_xEB_xA9_xB4_2_xEB_x9E_xA9_xEC_x8B_xA4_01_xEB_x82_xB4_xEC_x9A_xA9_2astc-encoder-main_2_source_2astcenc__compress__symbolic_8cpp">
<area shape="rect" title=" " alt="" coords="294,5,475,89"/>
<area shape="rect" href="astcenc__internal_8h.html" title=" " alt="" coords="321,145,449,170"/>
<area shape="poly" title=" " alt="" coords="387,90,387,131,382,131,382,90"/>
<area shape="rect" title=" " alt="" coords="5,299,71,324"/>
<area shape="poly" title=" " alt="" coords="301,92,200,150,148,187,100,227,73,258,53,288,49,285,69,254,96,223,145,183,197,146,298,87"/>
<area shape="rect" href="astcenc__diagnostic__trace_8h.html" title=" " alt="" coords="473,137,608,177"/>
<area shape="poly" title=" " alt="" coords="446,87,503,127,500,131,443,92"/>
<area shape="rect" title=" " alt="" coords="530,460,605,485"/>
<area shape="poly" title=" " alt="" coords="432,167,534,196,578,211,601,223,617,251,624,281,625,312,621,344,604,403,583,448,578,446,599,401,616,343,620,312,619,282,612,253,597,227,576,216,533,201,430,173"/>
<area shape="rect" title=" " alt="" coords="527,299,591,324"/>
<area shape="poly" title=" " alt="" coords="426,167,519,196,559,211,580,224,587,239,587,256,576,287,571,286,581,255,581,240,576,227,557,216,518,201,425,173"/>
<area shape="rect" title=" " alt="" coords="418,299,479,324"/>
<area shape="poly" title=" " alt="" coords="395,169,426,224,445,284,440,286,421,226,390,171"/>
<area shape="rect" title=" " alt="" coords="273,225,333,251"/>
<area shape="poly" title=" " alt="" coords="375,172,327,218,323,214,371,168"/>
<area shape="rect" title=" " alt="" coords="358,225,411,251"/>
<area shape="poly" title=" " alt="" coords="387,170,387,211,382,211,382,170"/>
<area shape="rect" href="astcenc_8h.html" title=" " alt="" coords="487,225,565,251"/>
<area shape="poly" title=" " alt="" coords="407,168,494,216,492,221,404,173"/>
<area shape="rect" href="astcenc__mathlib_8h.html" title=" " alt="" coords="121,225,249,251"/>
<area shape="poly" title=" " alt="" coords="357,172,228,223,226,218,355,168"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html" title=" " alt="" coords="101,299,247,324"/>
<area shape="poly" title=" " alt="" coords="321,168,260,176,197,189,143,206,124,216,111,227,106,242,112,259,126,274,144,289,141,293,122,278,107,261,100,243,106,224,121,211,141,201,196,184,260,171,320,162"/>
<area shape="poly" title=" " alt="" coords="534,250,551,285,546,287,529,252"/>
<area shape="poly" title=" " alt="" coords="515,253,473,291,470,287,512,249"/>
<area shape="poly" title=" " alt="" coords="228,248,406,296,404,301,226,253"/>
<area shape="poly" title=" " alt="" coords="162,253,75,295,73,290,160,248"/>
<area shape="rect" title=" " alt="" coords="271,299,330,324"/>
<area shape="poly" title=" " alt="" coords="205,248,271,289,269,294,202,253"/>
<area shape="poly" title=" " alt="" coords="186,251,180,286,175,285,180,251"/>
<area shape="rect" href="astcenc__vecmathlib__none__4_8h.html" title=" " alt="" coords="266,372,402,412"/>
<area shape="poly" title=" " alt="" coords="198,322,284,363,282,368,196,326"/>
<area shape="rect" href="astcenc__vecmathlib__common__4_8h.html" title=" " alt="" coords="106,372,242,412"/>
<area shape="poly" title=" " alt="" coords="177,324,177,358,171,358,171,324"/>
<area shape="poly" title=" " alt="" coords="391,409,521,453,519,458,389,415"/>
<area shape="rect" title=" " alt="" coords="183,460,240,485"/>
<area shape="poly" title=" " alt="" coords="306,414,242,455,240,450,303,410"/>
<area shape="rect" title=" " alt="" coords="283,460,345,485"/>
<area shape="poly" title=" " alt="" coords="332,413,323,447,318,446,327,412"/>
<area shape="rect" title=" " alt="" coords="369,460,419,485"/>
<area shape="poly" title=" " alt="" coords="351,411,379,447,375,451,346,414"/>
<area shape="poly" title=" " alt="" coords="185,411,202,446,198,449,181,413"/>
</map>
</div>
</div>
<p><a href="astcenc__compress__symbolic_8cpp_source.html">이 파일의 소스 코드 페이지로 가기</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
함수</h2></td></tr>
<tr class="memitem:a7a73021370668773ad84b7a2f6285023" id="r_a7a73021370668773ad84b7a2f6285023"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a73021370668773ad84b7a2f6285023">merge_endpoints</a> (const <a class="el" href="structendpoints.html">endpoints</a> &amp;ep_plane1, const <a class="el" href="structendpoints.html">endpoints</a> &amp;ep_plane2, unsigned int component_plane2, <a class="el" href="structendpoints.html">endpoints</a> &amp;result)</td></tr>
<tr class="memdesc:a7a73021370668773ad84b7a2f6285023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functions to compress a symbolic block.  <br /></td></tr>
<tr class="separator:a7a73021370668773ad84b7a2f6285023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e5fa530ba0e492b85132e416a5ddf4" id="r_a91e5fa530ba0e492b85132e416a5ddf4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91e5fa530ba0e492b85132e416a5ddf4">realign_weights_undecimated</a> (<a class="el" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29">astcenc_profile</a> decode_mode, const <a class="el" href="structblock__size__descriptor.html">block_size_descriptor</a> &amp;bsd, const <a class="el" href="structimage__block.html">image_block</a> &amp;blk, <a class="el" href="structsymbolic__compressed__block.html">symbolic_compressed_block</a> &amp;scb)</td></tr>
<tr class="memdesc:a91e5fa530ba0e492b85132e416a5ddf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to improve weights given a chosen configuration.  <br /></td></tr>
<tr class="separator:a91e5fa530ba0e492b85132e416a5ddf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80747ee43aa6fda579161376205c294" id="r_af80747ee43aa6fda579161376205c294"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af80747ee43aa6fda579161376205c294">realign_weights_decimated</a> (<a class="el" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29">astcenc_profile</a> decode_mode, const <a class="el" href="structblock__size__descriptor.html">block_size_descriptor</a> &amp;bsd, const <a class="el" href="structimage__block.html">image_block</a> &amp;blk, <a class="el" href="structsymbolic__compressed__block.html">symbolic_compressed_block</a> &amp;scb)</td></tr>
<tr class="memdesc:af80747ee43aa6fda579161376205c294"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to improve weights given a chosen configuration.  <br /></td></tr>
<tr class="separator:af80747ee43aa6fda579161376205c294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5f518a15600c71922e69267dea2db99" id="r_af5f518a15600c71922e69267dea2db99"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5f518a15600c71922e69267dea2db99">compress_symbolic_block_for_partition_1plane</a> (const <a class="el" href="structastcenc__config.html">astcenc_config</a> &amp;config, const <a class="el" href="structblock__size__descriptor.html">block_size_descriptor</a> &amp;bsd, const <a class="el" href="structimage__block.html">image_block</a> &amp;blk, bool only_always, float tune_errorval_threshold, unsigned int partition_count, unsigned int partition_index, <a class="el" href="structsymbolic__compressed__block.html">symbolic_compressed_block</a> &amp;scb, <a class="el" href="structcompression__working__buffers.html">compression_working_buffers</a> &amp;tmpbuf, int quant_limit)</td></tr>
<tr class="memdesc:af5f518a15600c71922e69267dea2db99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress a block using a chosen partitioning and 1 plane of weights.  <br /></td></tr>
<tr class="separator:af5f518a15600c71922e69267dea2db99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af11a976c8ea386db054bef472ce0667c" id="r_af11a976c8ea386db054bef472ce0667c"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af11a976c8ea386db054bef472ce0667c">compress_symbolic_block_for_partition_2planes</a> (const <a class="el" href="structastcenc__config.html">astcenc_config</a> &amp;config, const <a class="el" href="structblock__size__descriptor.html">block_size_descriptor</a> &amp;bsd, const <a class="el" href="structimage__block.html">image_block</a> &amp;blk, float tune_errorval_threshold, unsigned int plane2_component, <a class="el" href="structsymbolic__compressed__block.html">symbolic_compressed_block</a> &amp;scb, <a class="el" href="structcompression__working__buffers.html">compression_working_buffers</a> &amp;tmpbuf, int quant_limit)</td></tr>
<tr class="memdesc:af11a976c8ea386db054bef472ce0667c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress a block using a chosen partitioning and 2 planes of weights.  <br /></td></tr>
<tr class="separator:af11a976c8ea386db054bef472ce0667c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ac5bc5977155d0c8433492cd1985ce6" id="r_a6ac5bc5977155d0c8433492cd1985ce6"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ac5bc5977155d0c8433492cd1985ce6">prepare_block_statistics</a> (int texels_per_block, const <a class="el" href="structimage__block.html">image_block</a> &amp;blk)</td></tr>
<tr class="memdesc:a6ac5bc5977155d0c8433492cd1985ce6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the lowest cross-channel correlation factor.  <br /></td></tr>
<tr class="separator:a6ac5bc5977155d0c8433492cd1985ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579b9a2ceeecda2fb3abe63b8311df1c" id="r_a579b9a2ceeecda2fb3abe63b8311df1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a579b9a2ceeecda2fb3abe63b8311df1c">compress_block</a> (const <a class="el" href="structastcenc__contexti.html">astcenc_contexti</a> &amp;ctx, const <a class="el" href="structimage__block.html">image_block</a> &amp;blk, uint8_t pcb[16], <a class="el" href="structcompression__working__buffers.html">compression_working_buffers</a> &amp;tmpbuf)</td></tr>
<tr class="memdesc:a579b9a2ceeecda2fb3abe63b8311df1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress an image block into a physical block.  <br /></td></tr>
<tr class="separator:a579b9a2ceeecda2fb3abe63b8311df1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">함수 문서화</h2>
<a id="a579b9a2ceeecda2fb3abe63b8311df1c" name="a579b9a2ceeecda2fb3abe63b8311df1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a579b9a2ceeecda2fb3abe63b8311df1c">&#9670;&#160;</a></span>compress_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compress_block </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structastcenc__contexti.html">astcenc_contexti</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structimage__block.html">image_block</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>blk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>pcb</em></span>[16], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcompression__working__buffers.html">compression_working_buffers</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>tmpbuf</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compress an image block into a physical block. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ctx</td><td>The compressor context and configuration. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">blk</td><td>The image block color data to compress. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pcb</td><td>The physical compressed block output. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tmpbuf</td><td>Preallocated scratch buffers for the compressor. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenc__compress__symbolic_8cpp_source.html">astcenc_compress_symbolic.cpp</a> 파일의 <a class="el" href="astcenc__compress__symbolic_8cpp_source.html#l01163">1163</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1168</span>{</div>
<div class="line"><span class="lineno"> 1169</span>    <a class="code hl_enumeration" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29">astcenc_profile</a> decode_mode = ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#ada0c6b7d066d933aa09a0c5e189a7856">profile</a>;</div>
<div class="line"><span class="lineno"> 1170</span>    <a class="code hl_struct" href="structsymbolic__compressed__block.html">symbolic_compressed_block</a> scb;</div>
<div class="line"><span class="lineno"> 1171</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structblock__size__descriptor.html">block_size_descriptor</a>&amp; bsd = *ctx.<a class="code hl_variable" href="structastcenc__contexti.html#ab1641619493f8b297d7442f5da7cd813">bsd</a>;</div>
<div class="line"><span class="lineno"> 1172</span>    <span class="keywordtype">float</span> lowest_correl;</div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#ae040957570ced46496efbca3b734cffa">TRACE_NODE</a>(node0, <span class="stringliteral">&quot;block&quot;</span>);</div>
<div class="line"><span class="lineno"> 1175</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;pos_x&quot;</span>, blk.<a class="code hl_variable" href="structimage__block.html#a352aaf95790a294ff0b8b037b49def86">xpos</a>);</div>
<div class="line"><span class="lineno"> 1176</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;pos_y&quot;</span>, blk.<a class="code hl_variable" href="structimage__block.html#a77a79aa3bc8909bb34673e86ee30584f">ypos</a>);</div>
<div class="line"><span class="lineno"> 1177</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;pos_z&quot;</span>, blk.<a class="code hl_variable" href="structimage__block.html#aef3e6199531833e9b855f7fde1d06593">zpos</a>);</div>
<div class="line"><span class="lineno"> 1178</span> </div>
<div class="line"><span class="lineno"> 1179</span>    <span class="comment">// Set stricter block targets for luminance data as we have more bits to play with</span></div>
<div class="line"><span class="lineno"> 1180</span>    <span class="keywordtype">bool</span> block_is_l = blk.<a class="code hl_function" href="structimage__block.html#ac3e154e58086017c6e405b8cc7e52c9f">is_luminance</a>();</div>
<div class="line"><span class="lineno"> 1181</span>    <span class="keywordtype">float</span> block_is_l_scale = block_is_l ? 1.0f / 1.5f : 1.0f;</div>
<div class="line"><span class="lineno"> 1182</span> </div>
<div class="line"><span class="lineno"> 1183</span>    <span class="comment">// Set slightly stricter block targets for lumalpha data as we have more bits to play with</span></div>
<div class="line"><span class="lineno"> 1184</span>    <span class="keywordtype">bool</span> block_is_la = blk.<a class="code hl_function" href="structimage__block.html#aa7f3d29c2f755e47a887d090c5997880">is_luminancealpha</a>();</div>
<div class="line"><span class="lineno"> 1185</span>    <span class="keywordtype">float</span> block_is_la_scale = block_is_la ? 1.0f / 1.05f : 1.0f;</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>    <span class="keywordtype">bool</span> block_skip_two_plane = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1188</span>    <span class="keywordtype">int</span> max_partitions = ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#aa7930792899cf0f4e06d0443e7c7c376">tune_partition_count_limit</a>;</div>
<div class="line"><span class="lineno"> 1189</span> </div>
<div class="line"><span class="lineno"> 1190</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> requested_partition_indices[3] {</div>
<div class="line"><span class="lineno"> 1191</span>        ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#a13172c9ee7823e27bcc760748bbca7ec">tune_2partition_index_limit</a>,</div>
<div class="line"><span class="lineno"> 1192</span>        ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#a9f7de080850731a6ee84e3c8ec9c7084">tune_3partition_index_limit</a>,</div>
<div class="line"><span class="lineno"> 1193</span>        ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#a378d1dd2bf306399c29a5f7883565c3c">tune_4partition_index_limit</a></div>
<div class="line"><span class="lineno"> 1194</span>    };</div>
<div class="line"><span class="lineno"> 1195</span> </div>
<div class="line"><span class="lineno"> 1196</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> requested_partition_trials[3] {</div>
<div class="line"><span class="lineno"> 1197</span>        ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#a841535a5913a073022ab7098a0f329ac">tune_2partitioning_candidate_limit</a>,</div>
<div class="line"><span class="lineno"> 1198</span>        ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#a076f40134b7cefe41079e8a3aa8899f6">tune_3partitioning_candidate_limit</a>,</div>
<div class="line"><span class="lineno"> 1199</span>        ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#afc8d64039868048fef1e1a9749737528">tune_4partitioning_candidate_limit</a></div>
<div class="line"><span class="lineno"> 1200</span>    };</div>
<div class="line"><span class="lineno"> 1201</span> </div>
<div class="line"><span class="lineno"> 1202</span><span class="preprocessor">#if defined(ASTCENC_DIAGNOSTICS)</span></div>
<div class="line"><span class="lineno"> 1203</span>    <span class="comment">// Do this early in diagnostic builds so we can dump uniform metrics</span></div>
<div class="line"><span class="lineno"> 1204</span>    <span class="comment">// for every block. Do it later in release builds to avoid redundant work!</span></div>
<div class="line"><span class="lineno"> 1205</span>    <span class="keywordtype">float</span> error_weight_sum = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898">hadd_s</a>(blk.<a class="code hl_variable" href="structimage__block.html#a6fd749c93e25e5e96748a10387c24a77">channel_weight</a>) * bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a0df466b2eda6958f2e5f8a4f147367e4">texel_count</a>;</div>
<div class="line"><span class="lineno"> 1206</span>    <span class="keywordtype">float</span> error_threshold = ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#a2065412aaae88cff4e1f648946e13181">tune_db_limit</a></div>
<div class="line"><span class="lineno"> 1207</span>                          * error_weight_sum</div>
<div class="line"><span class="lineno"> 1208</span>                          * block_is_l_scale</div>
<div class="line"><span class="lineno"> 1209</span>                          * block_is_la_scale;</div>
<div class="line"><span class="lineno"> 1210</span> </div>
<div class="line"><span class="lineno"> 1211</span>    lowest_correl = <a class="code hl_function" href="#a6ac5bc5977155d0c8433492cd1985ce6">prepare_block_statistics</a>(bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a0df466b2eda6958f2e5f8a4f147367e4">texel_count</a>, blk);</div>
<div class="line"><span class="lineno"> 1212</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;lowest_correl&quot;</span>, lowest_correl);</div>
<div class="line"><span class="lineno"> 1213</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;tune_error_threshold&quot;</span>, error_threshold);</div>
<div class="line"><span class="lineno"> 1214</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1215</span> </div>
<div class="line"><span class="lineno"> 1216</span>    <span class="comment">// Detected a constant-color block</span></div>
<div class="line"><span class="lineno"> 1217</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad93dff3341cbbeed568d4bd6dc4ef87c">all</a>(blk.<a class="code hl_variable" href="structimage__block.html#a4222fc6e5a97194fd342700adff483db">data_min</a> == blk.<a class="code hl_variable" href="structimage__block.html#af1b03600b295cf8dc02a333db04871fc">data_max</a>))</div>
<div class="line"><span class="lineno"> 1218</span>    {</div>
<div class="line"><span class="lineno"> 1219</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#ae040957570ced46496efbca3b734cffa">TRACE_NODE</a>(node1, <span class="stringliteral">&quot;pass&quot;</span>);</div>
<div class="line"><span class="lineno"> 1220</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;partition_count&quot;</span>, 0);</div>
<div class="line"><span class="lineno"> 1221</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;plane_count&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 1222</span> </div>
<div class="line"><span class="lineno"> 1223</span>        scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a6ac68bba1c38975e28fb3e67e974c551">partition_count</a> = 0;</div>
<div class="line"><span class="lineno"> 1224</span> </div>
<div class="line"><span class="lineno"> 1225</span>        <span class="comment">// Encode as FP16 if using HDR</span></div>
<div class="line"><span class="lineno"> 1226</span>        <span class="keywordflow">if</span> ((decode_mode == <a class="code hl_enumvalue" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29a4493639842d745d4bccd6a94836d2ca9">ASTCENC_PRF_HDR</a>) ||</div>
<div class="line"><span class="lineno"> 1227</span>            (decode_mode == <a class="code hl_enumvalue" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29a9043bc19a890aeff156f664ccbef677f">ASTCENC_PRF_HDR_RGB_LDR_A</a>))</div>
<div class="line"><span class="lineno"> 1228</span>        {</div>
<div class="line"><span class="lineno"> 1229</span>            scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ac4c50ed170ee1fdbf19d288af74a8909">block_type</a> = <a class="code hl_variable" href="astcenc__internal_8h.html#aebc278aa5ca9c97969af61d9186f9172">SYM_BTYPE_CONST_F16</a>;</div>
<div class="line"><span class="lineno"> 1230</span>            <a class="code hl_struct" href="structvint4.html">vint4</a> color_f16 = <a class="code hl_function" href="astcenc__vecmathlib__neon__4_8h.html#ae8701a3f44d7b99016d54c3d6ee27581">float_to_float16</a>(blk.<a class="code hl_variable" href="structimage__block.html#a111c7f9821d5ebe6e9d0140f800c6bc2">origin_texel</a>);</div>
<div class="line"><span class="lineno"> 1231</span>            <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a61add2970baac5cf6b04177472ae1ed1">store</a>(color_f16, scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#abb86a3a9a9bf54d5138c1883ed6159a5">constant_color</a>);</div>
<div class="line"><span class="lineno"> 1232</span>        }</div>
<div class="line"><span class="lineno"> 1233</span>        <span class="comment">// Encode as UNORM16 if NOT using HDR</span></div>
<div class="line"><span class="lineno"> 1234</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1235</span>        {</div>
<div class="line"><span class="lineno"> 1236</span>            scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ac4c50ed170ee1fdbf19d288af74a8909">block_type</a> = <a class="code hl_variable" href="astcenc__internal_8h.html#adb59df7fefb94a8c52948d49ce70b1f5">SYM_BTYPE_CONST_U16</a>;</div>
<div class="line"><span class="lineno"> 1237</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color_f32 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e">clamp</a>(0.0f, 1.0f, blk.<a class="code hl_variable" href="structimage__block.html#a111c7f9821d5ebe6e9d0140f800c6bc2">origin_texel</a>) * 65535.0f;</div>
<div class="line"><span class="lineno"> 1238</span>            <a class="code hl_struct" href="structvint4.html">vint4</a> color_u16 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a598d6ea3ba27a788b12341a5263c7881">float_to_int_rtn</a>(color_f32);</div>
<div class="line"><span class="lineno"> 1239</span>            <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a61add2970baac5cf6b04177472ae1ed1">store</a>(color_u16, scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#abb86a3a9a9bf54d5138c1883ed6159a5">constant_color</a>);</div>
<div class="line"><span class="lineno"> 1240</span>        }</div>
<div class="line"><span class="lineno"> 1241</span> </div>
<div class="line"><span class="lineno"> 1242</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;exit&quot;</span>, <span class="stringliteral">&quot;quality hit&quot;</span>);</div>
<div class="line"><span class="lineno"> 1243</span> </div>
<div class="line"><span class="lineno"> 1244</span>        <a class="code hl_function" href="astcenc__internal_8h.html#af7b1f1696c0ee5cbfd6f2546fa400011">symbolic_to_physical</a>(bsd, scb, pcb);</div>
<div class="line"><span class="lineno"> 1245</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1246</span>    }</div>
<div class="line"><span class="lineno"> 1247</span> </div>
<div class="line"><span class="lineno"> 1248</span><span class="preprocessor">#if !defined(ASTCENC_DIAGNOSTICS)</span></div>
<div class="line"><span class="lineno"> 1249</span>    <span class="keywordtype">float</span> error_weight_sum = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898">hadd_s</a>(blk.<a class="code hl_variable" href="structimage__block.html#a6fd749c93e25e5e96748a10387c24a77">channel_weight</a>) * bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a0df466b2eda6958f2e5f8a4f147367e4">texel_count</a>;</div>
<div class="line"><span class="lineno"> 1250</span>    <span class="keywordtype">float</span> error_threshold = ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#a2065412aaae88cff4e1f648946e13181">tune_db_limit</a></div>
<div class="line"><span class="lineno"> 1251</span>                          * error_weight_sum</div>
<div class="line"><span class="lineno"> 1252</span>                          * block_is_l_scale</div>
<div class="line"><span class="lineno"> 1253</span>                          * block_is_la_scale;</div>
<div class="line"><span class="lineno"> 1254</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1255</span> </div>
<div class="line"><span class="lineno"> 1256</span>    <span class="comment">// Set SCB and mode errors to a very high error value</span></div>
<div class="line"><span class="lineno"> 1257</span>    scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4ed0a59a081d379e15d29e29f761d105">errorval</a> = <a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a>;</div>
<div class="line"><span class="lineno"> 1258</span>    scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ac4c50ed170ee1fdbf19d288af74a8909">block_type</a> = <a class="code hl_variable" href="astcenc__internal_8h.html#abbaedf878cfb7c16b1d10b72128b5ee7">SYM_BTYPE_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1259</span> </div>
<div class="line"><span class="lineno"> 1260</span>    <span class="keywordtype">float</span> best_errorvals_for_pcount[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>] {</div>
<div class="line"><span class="lineno"> 1261</span>        <a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a>, <a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a>, <a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a>, <a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a></div>
<div class="line"><span class="lineno"> 1262</span>    };</div>
<div class="line"><span class="lineno"> 1263</span> </div>
<div class="line"><span class="lineno"> 1264</span>    <span class="keywordtype">float</span> exit_thresholds_for_pcount[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>] {</div>
<div class="line"><span class="lineno"> 1265</span>        0.0f,</div>
<div class="line"><span class="lineno"> 1266</span>        ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#a428f0ba612186c229f66865dd615d567">tune_2partition_early_out_limit_factor</a>,</div>
<div class="line"><span class="lineno"> 1267</span>        ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#adb6bf5fd3979c612e5c6b377c6aca281">tune_3partition_early_out_limit_factor</a>,</div>
<div class="line"><span class="lineno"> 1268</span>        0.0f</div>
<div class="line"><span class="lineno"> 1269</span>    };</div>
<div class="line"><span class="lineno"> 1270</span> </div>
<div class="line"><span class="lineno"> 1271</span>    <span class="comment">// Trial using 1 plane of weights and 1 partition.</span></div>
<div class="line"><span class="lineno"> 1272</span> </div>
<div class="line"><span class="lineno"> 1273</span>    <span class="comment">// Most of the time we test it twice, first with a mode cutoff of 0 and then with the specified</span></div>
<div class="line"><span class="lineno"> 1274</span>    <span class="comment">// mode cutoff. This causes an early-out that speeds up encoding of easy blocks. However, this</span></div>
<div class="line"><span class="lineno"> 1275</span>    <span class="comment">// optimization is disabled for 4x4 and 5x4 blocks where it nearly always slows down the</span></div>
<div class="line"><span class="lineno"> 1276</span>    <span class="comment">// compression and slightly reduces image quality.</span></div>
<div class="line"><span class="lineno"> 1277</span> </div>
<div class="line"><span class="lineno"> 1278</span>    <span class="keywordtype">float</span> errorval_mult[2] {</div>
<div class="line"><span class="lineno"> 1279</span>        1.0f / ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#a1ca7ffa6cf39b0236c3ac07a81e41748">tune_mse_overshoot</a>,</div>
<div class="line"><span class="lineno"> 1280</span>        1.0f</div>
<div class="line"><span class="lineno"> 1281</span>    };</div>
<div class="line"><span class="lineno"> 1282</span> </div>
<div class="line"><span class="lineno"> 1283</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> errorval_overshoot = 1.0f / ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#a1ca7ffa6cf39b0236c3ac07a81e41748">tune_mse_overshoot</a>;</div>
<div class="line"><span class="lineno"> 1284</span> </div>
<div class="line"><span class="lineno"> 1285</span>    <span class="comment">// Only enable MODE0 fast path if enabled</span></div>
<div class="line"><span class="lineno"> 1286</span>    <span class="comment">// Never enable for 3D blocks as no &quot;always&quot; block modes are available</span></div>
<div class="line"><span class="lineno"> 1287</span>    <span class="keywordtype">int</span> start_trial = 1;</div>
<div class="line"><span class="lineno"> 1288</span>    <span class="keywordflow">if</span> ((ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#a00c34d7b516c391a763592497da58312">tune_search_mode0_enable</a> &gt;= <a class="code hl_variable" href="astcenc__internal_8h.html#a77719561fe7247229ad508e772123418">TUNE_MIN_SEARCH_MODE0</a>) &amp;&amp; (bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#afc7428efe69cba2425ae335d9d266714">zdim</a> == 1))</div>
<div class="line"><span class="lineno"> 1289</span>    {</div>
<div class="line"><span class="lineno"> 1290</span>        start_trial = 0;</div>
<div class="line"><span class="lineno"> 1291</span>    }</div>
<div class="line"><span class="lineno"> 1292</span> </div>
<div class="line"><span class="lineno"> 1293</span>    <span class="keywordtype">int</span> quant_limit = <a class="code hl_enumvalue" href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75a740abcbb2f534ff0c4cf49053e7f507b">QUANT_32</a>;</div>
<div class="line"><span class="lineno"> 1294</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = start_trial; i &lt; 2; i++)</div>
<div class="line"><span class="lineno"> 1295</span>    {</div>
<div class="line"><span class="lineno"> 1296</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#ae040957570ced46496efbca3b734cffa">TRACE_NODE</a>(node1, <span class="stringliteral">&quot;pass&quot;</span>);</div>
<div class="line"><span class="lineno"> 1297</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;partition_count&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 1298</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;plane_count&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 1299</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;search_mode&quot;</span>, i);</div>
<div class="line"><span class="lineno"> 1300</span> </div>
<div class="line"><span class="lineno"> 1301</span>        <span class="keywordtype">float</span> errorval = <a class="code hl_function" href="#af5f518a15600c71922e69267dea2db99">compress_symbolic_block_for_partition_1plane</a>(</div>
<div class="line"><span class="lineno"> 1302</span>            ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>, bsd, blk, i == 0,</div>
<div class="line"><span class="lineno"> 1303</span>            error_threshold * errorval_mult[i] * errorval_overshoot,</div>
<div class="line"><span class="lineno"> 1304</span>            1, 0,  scb, tmpbuf, <a class="code hl_enumvalue" href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75a740abcbb2f534ff0c4cf49053e7f507b">QUANT_32</a>);</div>
<div class="line"><span class="lineno"> 1305</span> </div>
<div class="line"><span class="lineno"> 1306</span>        <span class="comment">// Record the quant level so we can use the filter later searches</span></div>
<div class="line"><span class="lineno"> 1307</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; bm = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#a13608eb55e48c96b6243f4830278ebf3">get_block_mode</a>(scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a7ba54ca805498286add2148b3b86546b">block_mode</a>);</div>
<div class="line"><span class="lineno"> 1308</span>        quant_limit = bm.<a class="code hl_function" href="structblock__mode.html#a760578093fb16da4932bc26d2d5c1837">get_weight_quant_mode</a>();</div>
<div class="line"><span class="lineno"> 1309</span> </div>
<div class="line"><span class="lineno"> 1310</span>        best_errorvals_for_pcount[0] = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(best_errorvals_for_pcount[0], errorval);</div>
<div class="line"><span class="lineno"> 1311</span>        <span class="keywordflow">if</span> (errorval &lt; (error_threshold * errorval_mult[i]))</div>
<div class="line"><span class="lineno"> 1312</span>        {</div>
<div class="line"><span class="lineno"> 1313</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;exit&quot;</span>, <span class="stringliteral">&quot;quality hit&quot;</span>);</div>
<div class="line"><span class="lineno"> 1314</span>            <span class="keywordflow">goto</span> END_OF_TESTS;</div>
<div class="line"><span class="lineno"> 1315</span>        }</div>
<div class="line"><span class="lineno"> 1316</span>    }</div>
<div class="line"><span class="lineno"> 1317</span> </div>
<div class="line"><span class="lineno"> 1318</span><span class="preprocessor">#if !defined(ASTCENC_DIAGNOSTICS)</span></div>
<div class="line"><span class="lineno"> 1319</span>    lowest_correl = <a class="code hl_function" href="#a6ac5bc5977155d0c8433492cd1985ce6">prepare_block_statistics</a>(bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a0df466b2eda6958f2e5f8a4f147367e4">texel_count</a>, blk);</div>
<div class="line"><span class="lineno"> 1320</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1321</span> </div>
<div class="line"><span class="lineno"> 1322</span>    block_skip_two_plane = lowest_correl &gt; ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>.<a class="code hl_variable" href="structastcenc__config.html#a01cfcdc6f3903a6b7fc96ebda9550102">tune_2plane_early_out_limit_correlation</a>;</div>
<div class="line"><span class="lineno"> 1323</span> </div>
<div class="line"><span class="lineno"> 1324</span>    <span class="comment">// Test the four possible 1-partition, 2-planes modes. Do this in reverse, as</span></div>
<div class="line"><span class="lineno"> 1325</span>    <span class="comment">// alpha is the most likely to be non-correlated if it is present in the data.</span></div>
<div class="line"><span class="lineno"> 1326</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <a class="code hl_variable" href="astcenc__internal_8h.html#acfaa28ad6768cb0ebe7f535fc8a9e6df">BLOCK_MAX_COMPONENTS</a> - 1; i &gt;= 0; i--)</div>
<div class="line"><span class="lineno"> 1327</span>    {</div>
<div class="line"><span class="lineno"> 1328</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#ae040957570ced46496efbca3b734cffa">TRACE_NODE</a>(node1, <span class="stringliteral">&quot;pass&quot;</span>);</div>
<div class="line"><span class="lineno"> 1329</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;partition_count&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 1330</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;plane_count&quot;</span>, 2);</div>
<div class="line"><span class="lineno"> 1331</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;plane_component&quot;</span>, i);</div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span>        <span class="keywordflow">if</span> (block_skip_two_plane)</div>
<div class="line"><span class="lineno"> 1334</span>        {</div>
<div class="line"><span class="lineno"> 1335</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;skip&quot;</span>, <span class="stringliteral">&quot;tune_2plane_early_out_limit_correlation&quot;</span>);</div>
<div class="line"><span class="lineno"> 1336</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1337</span>        }</div>
<div class="line"><span class="lineno"> 1338</span> </div>
<div class="line"><span class="lineno"> 1339</span>        <span class="keywordflow">if</span> (blk.<a class="code hl_variable" href="structimage__block.html#a3250483facfd20ef4d418bd5f3ef4acb">grayscale</a> &amp;&amp; i != 3)</div>
<div class="line"><span class="lineno"> 1340</span>        {</div>
<div class="line"><span class="lineno"> 1341</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;skip&quot;</span>, <span class="stringliteral">&quot;grayscale block&quot;</span>);</div>
<div class="line"><span class="lineno"> 1342</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1343</span>        }</div>
<div class="line"><span class="lineno"> 1344</span> </div>
<div class="line"><span class="lineno"> 1345</span>        <span class="keywordflow">if</span> (blk.<a class="code hl_function" href="structimage__block.html#ae3c0735355d378591db6cb7a011e381a">is_constant_channel</a>(i))</div>
<div class="line"><span class="lineno"> 1346</span>        {</div>
<div class="line"><span class="lineno"> 1347</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;skip&quot;</span>, <span class="stringliteral">&quot;constant component&quot;</span>);</div>
<div class="line"><span class="lineno"> 1348</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1349</span>        }</div>
<div class="line"><span class="lineno"> 1350</span> </div>
<div class="line"><span class="lineno"> 1351</span>        <span class="keywordtype">float</span> errorval = <a class="code hl_function" href="#af11a976c8ea386db054bef472ce0667c">compress_symbolic_block_for_partition_2planes</a>(</div>
<div class="line"><span class="lineno"> 1352</span>            ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>, bsd, blk, error_threshold * errorval_overshoot,</div>
<div class="line"><span class="lineno"> 1353</span>            i, scb, tmpbuf, quant_limit);</div>
<div class="line"><span class="lineno"> 1354</span> </div>
<div class="line"><span class="lineno"> 1355</span>        <span class="comment">// If attempting two planes is much worse than the best one plane result</span></div>
<div class="line"><span class="lineno"> 1356</span>        <span class="comment">// then further two plane searches are unlikely to help so move on ...</span></div>
<div class="line"><span class="lineno"> 1357</span>        <span class="keywordflow">if</span> (errorval &gt; (best_errorvals_for_pcount[0] * 1.85f))</div>
<div class="line"><span class="lineno"> 1358</span>        {</div>
<div class="line"><span class="lineno"> 1359</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1360</span>        }</div>
<div class="line"><span class="lineno"> 1361</span> </div>
<div class="line"><span class="lineno"> 1362</span>        <span class="keywordflow">if</span> (errorval &lt; error_threshold)</div>
<div class="line"><span class="lineno"> 1363</span>        {</div>
<div class="line"><span class="lineno"> 1364</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;exit&quot;</span>, <span class="stringliteral">&quot;quality hit&quot;</span>);</div>
<div class="line"><span class="lineno"> 1365</span>            <span class="keywordflow">goto</span> END_OF_TESTS;</div>
<div class="line"><span class="lineno"> 1366</span>        }</div>
<div class="line"><span class="lineno"> 1367</span>    }</div>
<div class="line"><span class="lineno"> 1368</span> </div>
<div class="line"><span class="lineno"> 1369</span>    <span class="comment">// Find best blocks for 2, 3 and 4 partitions</span></div>
<div class="line"><span class="lineno"> 1370</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> partition_count = 2; partition_count &lt;= max_partitions; partition_count++)</div>
<div class="line"><span class="lineno"> 1371</span>    {</div>
<div class="line"><span class="lineno"> 1372</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partition_indices[<a class="code hl_variable" href="astcenc__internal_8h.html#a5ac3c00190d37f2011afffd4fe1f95b2">TUNE_MAX_PARTITIONING_CANDIDATES</a>];</div>
<div class="line"><span class="lineno"> 1373</span> </div>
<div class="line"><span class="lineno"> 1374</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> requested_indices = requested_partition_indices[partition_count - 2];</div>
<div class="line"><span class="lineno"> 1375</span> </div>
<div class="line"><span class="lineno"> 1376</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> requested_trials = requested_partition_trials[partition_count - 2];</div>
<div class="line"><span class="lineno"> 1377</span>        requested_trials = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(requested_trials, requested_indices);</div>
<div class="line"><span class="lineno"> 1378</span> </div>
<div class="line"><span class="lineno"> 1379</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> actual_trials = <a class="code hl_function" href="astcenc__find__best__partitioning_8cpp.html#a7577b3047a3f9f0fe44fd579f5450630">find_best_partition_candidates</a>(</div>
<div class="line"><span class="lineno"> 1380</span>            bsd, blk, partition_count, requested_indices, partition_indices, requested_trials);</div>
<div class="line"><span class="lineno"> 1381</span> </div>
<div class="line"><span class="lineno"> 1382</span>        <span class="keywordtype">float</span> best_error_in_prev = best_errorvals_for_pcount[partition_count - 2];</div>
<div class="line"><span class="lineno"> 1383</span> </div>
<div class="line"><span class="lineno"> 1384</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; actual_trials; i++)</div>
<div class="line"><span class="lineno"> 1385</span>        {</div>
<div class="line"><span class="lineno"> 1386</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#ae040957570ced46496efbca3b734cffa">TRACE_NODE</a>(node1, <span class="stringliteral">&quot;pass&quot;</span>);</div>
<div class="line"><span class="lineno"> 1387</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;partition_count&quot;</span>, partition_count);</div>
<div class="line"><span class="lineno"> 1388</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;partition_index&quot;</span>, partition_indices[i]);</div>
<div class="line"><span class="lineno"> 1389</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;plane_count&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 1390</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;search_mode&quot;</span>, i);</div>
<div class="line"><span class="lineno"> 1391</span> </div>
<div class="line"><span class="lineno"> 1392</span>            <span class="keywordtype">float</span> errorval = <a class="code hl_function" href="#af5f518a15600c71922e69267dea2db99">compress_symbolic_block_for_partition_1plane</a>(</div>
<div class="line"><span class="lineno"> 1393</span>                ctx.<a class="code hl_variable" href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">config</a>, bsd, blk, <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno"> 1394</span>                error_threshold * errorval_overshoot,</div>
<div class="line"><span class="lineno"> 1395</span>                partition_count, partition_indices[i],</div>
<div class="line"><span class="lineno"> 1396</span>                scb, tmpbuf, quant_limit);</div>
<div class="line"><span class="lineno"> 1397</span> </div>
<div class="line"><span class="lineno"> 1398</span>            best_errorvals_for_pcount[partition_count - 1] = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(best_errorvals_for_pcount[partition_count - 1], errorval);</div>
<div class="line"><span class="lineno"> 1399</span> </div>
<div class="line"><span class="lineno"> 1400</span>            <span class="comment">// If using N partitions doesn&#39;t improve much over using N-1 partitions then skip trying</span></div>
<div class="line"><span class="lineno"> 1401</span>            <span class="comment">// N+1. Error can dramatically improve if the data is correlated or non-correlated and</span></div>
<div class="line"><span class="lineno"> 1402</span>            <span class="comment">// aligns with a partitioning that suits that encoding, so for this inner loop check add</span></div>
<div class="line"><span class="lineno"> 1403</span>            <span class="comment">// a large error scale because the &quot;other&quot; trial could be a lot better.</span></div>
<div class="line"><span class="lineno"> 1404</span>            <span class="keywordtype">float</span> best_error = best_errorvals_for_pcount[partition_count - 1];</div>
<div class="line"><span class="lineno"> 1405</span>            <span class="keywordtype">float</span> best_error_scale = exit_thresholds_for_pcount[partition_count - 1] * 1.85f;</div>
<div class="line"><span class="lineno"> 1406</span>            <span class="keywordflow">if</span> (best_error &gt; (best_error_in_prev * best_error_scale))</div>
<div class="line"><span class="lineno"> 1407</span>            {</div>
<div class="line"><span class="lineno"> 1408</span>                <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;skip&quot;</span>, <span class="stringliteral">&quot;tune_partition_early_out_limit_factor&quot;</span>);</div>
<div class="line"><span class="lineno"> 1409</span>                <span class="keywordflow">goto</span> END_OF_TESTS;</div>
<div class="line"><span class="lineno"> 1410</span>            }</div>
<div class="line"><span class="lineno"> 1411</span> </div>
<div class="line"><span class="lineno"> 1412</span>            <span class="keywordflow">if</span> (errorval &lt; error_threshold)</div>
<div class="line"><span class="lineno"> 1413</span>            {</div>
<div class="line"><span class="lineno"> 1414</span>                <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;exit&quot;</span>, <span class="stringliteral">&quot;quality hit&quot;</span>);</div>
<div class="line"><span class="lineno"> 1415</span>                <span class="keywordflow">goto</span> END_OF_TESTS;</div>
<div class="line"><span class="lineno"> 1416</span>            }</div>
<div class="line"><span class="lineno"> 1417</span>        }</div>
<div class="line"><span class="lineno"> 1418</span> </div>
<div class="line"><span class="lineno"> 1419</span>        <span class="comment">// If using N partitions doesn&#39;t improve much over using N-1 partitions then skip trying N+1</span></div>
<div class="line"><span class="lineno"> 1420</span>        <span class="keywordtype">float</span> best_error = best_errorvals_for_pcount[partition_count - 1];</div>
<div class="line"><span class="lineno"> 1421</span>        <span class="keywordtype">float</span> best_error_scale = exit_thresholds_for_pcount[partition_count - 1];</div>
<div class="line"><span class="lineno"> 1422</span>        <span class="keywordflow">if</span> (best_error &gt; (best_error_in_prev * best_error_scale))</div>
<div class="line"><span class="lineno"> 1423</span>        {</div>
<div class="line"><span class="lineno"> 1424</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;skip&quot;</span>, <span class="stringliteral">&quot;tune_partition_early_out_limit_factor&quot;</span>);</div>
<div class="line"><span class="lineno"> 1425</span>            <span class="keywordflow">goto</span> END_OF_TESTS;</div>
<div class="line"><span class="lineno"> 1426</span>        }</div>
<div class="line"><span class="lineno"> 1427</span>    }</div>
<div class="line"><span class="lineno"> 1428</span> </div>
<div class="line"><span class="lineno"> 1429</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;exit&quot;</span>, <span class="stringliteral">&quot;quality not hit&quot;</span>);</div>
<div class="line"><span class="lineno"> 1430</span> </div>
<div class="line"><span class="lineno"> 1431</span>END_OF_TESTS:</div>
<div class="line"><span class="lineno"> 1432</span>    <span class="comment">// If we still have an error block then convert to something we can encode</span></div>
<div class="line"><span class="lineno"> 1433</span>    <span class="comment">// TODO: Do something more sensible here, such as average color block</span></div>
<div class="line"><span class="lineno"> 1434</span>    <span class="keywordflow">if</span> (scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ac4c50ed170ee1fdbf19d288af74a8909">block_type</a> == <a class="code hl_variable" href="astcenc__internal_8h.html#abbaedf878cfb7c16b1d10b72128b5ee7">SYM_BTYPE_ERROR</a>)</div>
<div class="line"><span class="lineno"> 1435</span>    {</div>
<div class="line"><span class="lineno"> 1436</span><span class="preprocessor">#if defined(ASTCENC_DIAGNOSTICS)</span></div>
<div class="line"><span class="lineno"> 1437</span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> printed_once = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1438</span>        <span class="keywordflow">if</span> (!printed_once)</div>
<div class="line"><span class="lineno"> 1439</span>        {</div>
<div class="line"><span class="lineno"> 1440</span>            printed_once = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1441</span>            printf(<span class="stringliteral">&quot;WARN: At least one block failed to find a valid encoding.\n&quot;</span></div>
<div class="line"><span class="lineno"> 1442</span>                   <span class="stringliteral">&quot;      Try increasing compression quality settings.\n\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1443</span>        }</div>
<div class="line"><span class="lineno"> 1444</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1445</span> </div>
<div class="line"><span class="lineno"> 1446</span>        scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ac4c50ed170ee1fdbf19d288af74a8909">block_type</a> = <a class="code hl_variable" href="astcenc__internal_8h.html#adb59df7fefb94a8c52948d49ce70b1f5">SYM_BTYPE_CONST_U16</a>;</div>
<div class="line"><span class="lineno"> 1447</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color_f32 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e">clamp</a>(0.0f, 1.0f, blk.<a class="code hl_variable" href="structimage__block.html#a111c7f9821d5ebe6e9d0140f800c6bc2">origin_texel</a>) * 65535.0f;</div>
<div class="line"><span class="lineno"> 1448</span>        <a class="code hl_struct" href="structvint4.html">vint4</a> color_u16 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a598d6ea3ba27a788b12341a5263c7881">float_to_int_rtn</a>(color_f32);</div>
<div class="line"><span class="lineno"> 1449</span>        <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a61add2970baac5cf6b04177472ae1ed1">store</a>(color_u16, scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#abb86a3a9a9bf54d5138c1883ed6159a5">constant_color</a>);</div>
<div class="line"><span class="lineno"> 1450</span>    }</div>
<div class="line"><span class="lineno"> 1451</span> </div>
<div class="line"><span class="lineno"> 1452</span>    <span class="comment">// Compress to a physical block</span></div>
<div class="line"><span class="lineno"> 1453</span>    <a class="code hl_function" href="astcenc__internal_8h.html#af7b1f1696c0ee5cbfd6f2546fa400011">symbolic_to_physical</a>(bsd, scb, pcb);</div>
<div class="line"><span class="lineno"> 1454</span>}</div>
<div class="ttc" id="aastcenc_8h_html_adf71df2e9f79916ccc02886ba1bdeb29"><div class="ttname"><a href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29">astcenc_profile</a></div><div class="ttdeci">astcenc_profile</div><div class="ttdoc">A codec color profile.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00229">astcenc.h:229</a></div></div>
<div class="ttc" id="aastcenc_8h_html_adf71df2e9f79916ccc02886ba1bdeb29a4493639842d745d4bccd6a94836d2ca9"><div class="ttname"><a href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29a4493639842d745d4bccd6a94836d2ca9">ASTCENC_PRF_HDR</a></div><div class="ttdeci">@ ASTCENC_PRF_HDR</div><div class="ttdoc">The HDR RGBA color profile.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00238">astcenc.h:237</a></div></div>
<div class="ttc" id="aastcenc_8h_html_adf71df2e9f79916ccc02886ba1bdeb29a9043bc19a890aeff156f664ccbef677f"><div class="ttname"><a href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29a9043bc19a890aeff156f664ccbef677f">ASTCENC_PRF_HDR_RGB_LDR_A</a></div><div class="ttdeci">@ ASTCENC_PRF_HDR_RGB_LDR_A</div><div class="ttdoc">The HDR RGB with LDR alpha color profile.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00235">astcenc.h:235</a></div></div>
<div class="ttc" id="aastcenc__compress__symbolic_8cpp_html_a6ac5bc5977155d0c8433492cd1985ce6"><div class="ttname"><a href="#a6ac5bc5977155d0c8433492cd1985ce6">prepare_block_statistics</a></div><div class="ttdeci">static float prepare_block_statistics(int texels_per_block, const image_block &amp;blk)</div><div class="ttdoc">Determine the lowest cross-channel correlation factor.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__compress__symbolic_8cpp_source.html#l01048">astcenc_compress_symbolic.cpp:1048</a></div></div>
<div class="ttc" id="aastcenc__compress__symbolic_8cpp_html_af11a976c8ea386db054bef472ce0667c"><div class="ttname"><a href="#af11a976c8ea386db054bef472ce0667c">compress_symbolic_block_for_partition_2planes</a></div><div class="ttdeci">static float compress_symbolic_block_for_partition_2planes(const astcenc_config &amp;config, const block_size_descriptor &amp;bsd, const image_block &amp;blk, float tune_errorval_threshold, unsigned int plane2_component, symbolic_compressed_block &amp;scb, compression_working_buffers &amp;tmpbuf, int quant_limit)</div><div class="ttdoc">Compress a block using a chosen partitioning and 2 planes of weights.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__compress__symbolic_8cpp_source.html#l00716">astcenc_compress_symbolic.cpp:716</a></div></div>
<div class="ttc" id="aastcenc__compress__symbolic_8cpp_html_af5f518a15600c71922e69267dea2db99"><div class="ttname"><a href="#af5f518a15600c71922e69267dea2db99">compress_symbolic_block_for_partition_1plane</a></div><div class="ttdeci">static float compress_symbolic_block_for_partition_1plane(const astcenc_config &amp;config, const block_size_descriptor &amp;bsd, const image_block &amp;blk, bool only_always, float tune_errorval_threshold, unsigned int partition_count, unsigned int partition_index, symbolic_compressed_block &amp;scb, compression_working_buffers &amp;tmpbuf, int quant_limit)</div><div class="ttdoc">Compress a block using a chosen partitioning and 1 plane of weights.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__compress__symbolic_8cpp_source.html#l00353">astcenc_compress_symbolic.cpp:353</a></div></div>
<div class="ttc" id="aastcenc__diagnostic__trace_8h_html_a76621371d2f495306f397fcfae2bd268"><div class="ttname"><a href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a></div><div class="ttdeci">#define trace_add_data(...)</div><div class="ttdef"><b>Definition</b> <a href="astcenc__diagnostic__trace_8h_source.html#l00215">astcenc_diagnostic_trace.h:215</a></div></div>
<div class="ttc" id="aastcenc__diagnostic__trace_8h_html_ae040957570ced46496efbca3b734cffa"><div class="ttname"><a href="astcenc__diagnostic__trace_8h.html#ae040957570ced46496efbca3b734cffa">TRACE_NODE</a></div><div class="ttdeci">#define TRACE_NODE(name,...)</div><div class="ttdoc">This module provides a set of diagnostic tracing utilities.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__diagnostic__trace_8h_source.html#l00213">astcenc_diagnostic_trace.h:213</a></div></div>
<div class="ttc" id="aastcenc__find__best__partitioning_8cpp_html_a7577b3047a3f9f0fe44fd579f5450630"><div class="ttname"><a href="astcenc__find__best__partitioning_8cpp.html#a7577b3047a3f9f0fe44fd579f5450630">find_best_partition_candidates</a></div><div class="ttdeci">unsigned int find_best_partition_candidates(const block_size_descriptor &amp;bsd, const image_block &amp;blk, unsigned int partition_count, unsigned int partition_search_limit, unsigned int best_partitions[TUNE_MAX_PARTITIONING_CANDIDATES], unsigned int requested_candidates)</div><div class="ttdoc">Find the best set of partitions to trial for a given block.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__find__best__partitioning_8cpp_source.html#l00551">astcenc_find_best_partitioning.cpp:551</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a31f42bb3da7abe95be4b6960feead130"><div class="ttname"><a href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a></div><div class="ttdeci">static constexpr unsigned int BLOCK_MAX_PARTITIONS</div><div class="ttdoc">The maximum number of partitions a block can support.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00078">astcenc_internal.h:78</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a5ac3c00190d37f2011afffd4fe1f95b2"><div class="ttname"><a href="astcenc__internal_8h.html#a5ac3c00190d37f2011afffd4fe1f95b2">TUNE_MAX_PARTITIONING_CANDIDATES</a></div><div class="ttdeci">static constexpr unsigned int TUNE_MAX_PARTITIONING_CANDIDATES</div><div class="ttdoc">The maximum number of candidate partitionings tested for each encoding mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00139">astcenc_internal.h:139</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a77719561fe7247229ad508e772123418"><div class="ttname"><a href="astcenc__internal_8h.html#a77719561fe7247229ad508e772123418">TUNE_MIN_SEARCH_MODE0</a></div><div class="ttdeci">static constexpr float TUNE_MIN_SEARCH_MODE0</div><div class="ttdoc">The minimum tuning setting threshold for the one partition fast path.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00125">astcenc_internal.h:125</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a806a5b8001942a6fa06d788ffec45a75a740abcbb2f534ff0c4cf49053e7f507b"><div class="ttname"><a href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75a740abcbb2f534ff0c4cf49053e7f507b">QUANT_32</a></div><div class="ttdeci">@ QUANT_32</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00216">astcenc_internal.h:216</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_aaa341023bf98401423daebc6795e2c83"><div class="ttname"><a href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a></div><div class="ttdeci">static constexpr float ERROR_CALC_DEFAULT</div><div class="ttdoc">The high default error used to initialize error trackers.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00120">astcenc_internal.h:120</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_abbaedf878cfb7c16b1d10b72128b5ee7"><div class="ttname"><a href="astcenc__internal_8h.html#abbaedf878cfb7c16b1d10b72128b5ee7">SYM_BTYPE_ERROR</a></div><div class="ttdeci">static constexpr uint8_t SYM_BTYPE_ERROR</div><div class="ttdoc">The block is an error block, and will return error color or NaN.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01054">astcenc_internal.h:1054</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_acfaa28ad6768cb0ebe7f535fc8a9e6df"><div class="ttname"><a href="astcenc__internal_8h.html#acfaa28ad6768cb0ebe7f535fc8a9e6df">BLOCK_MAX_COMPONENTS</a></div><div class="ttdeci">static constexpr unsigned int BLOCK_MAX_COMPONENTS</div><div class="ttdoc">The maximum number of components a block can support.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00075">astcenc_internal.h:75</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_adb59df7fefb94a8c52948d49ce70b1f5"><div class="ttname"><a href="astcenc__internal_8h.html#adb59df7fefb94a8c52948d49ce70b1f5">SYM_BTYPE_CONST_U16</a></div><div class="ttdeci">static constexpr uint8_t SYM_BTYPE_CONST_U16</div><div class="ttdoc">The block is a constant color block using UNORM16 colors.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01060">astcenc_internal.h:1060</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_aebc278aa5ca9c97969af61d9186f9172"><div class="ttname"><a href="astcenc__internal_8h.html#aebc278aa5ca9c97969af61d9186f9172">SYM_BTYPE_CONST_F16</a></div><div class="ttdeci">static constexpr uint8_t SYM_BTYPE_CONST_F16</div><div class="ttdoc">The block is a constant color block using FP16 colors.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01057">astcenc_internal.h:1057</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_af7b1f1696c0ee5cbfd6f2546fa400011"><div class="ttname"><a href="astcenc__internal_8h.html#af7b1f1696c0ee5cbfd6f2546fa400011">symbolic_to_physical</a></div><div class="ttdeci">void symbolic_to_physical(const block_size_descriptor &amp;bsd, const symbolic_compressed_block &amp;scb, uint8_t pcb[16])</div><div class="ttdoc">Convert a symbolic representation into a binary physical encoding.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__symbolic__physical_8cpp_source.html#l00102">astcenc_symbolic_physical.cpp:102</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a598d6ea3ba27a788b12341a5263c7881"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a598d6ea3ba27a788b12341a5263c7881">float_to_int_rtn</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vint8 float_to_int_rtn(vfloat8 a)</div><div class="ttdoc">Return a integer value for a float vector, using round-to-nearest.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l01009">astcenc_vecmathlib_avx2_8.h:1009</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a61add2970baac5cf6b04177472ae1ed1"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a61add2970baac5cf6b04177472ae1ed1">store</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE void store(vint8 a, int *p)</div><div class="ttdoc">Store a vector to an unaligned memory address.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00557">astcenc_vecmathlib_avx2_8.h:557</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_aacd26478e4fe1f97a5d47e8adaacc898"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898">hadd_s</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE float hadd_s(vfloat8 a)</div><div class="ttdoc">Return the horizontal sum of a vector.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00896">astcenc_vecmathlib_avx2_8.h:896</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_ad93dff3341cbbeed568d4bd6dc4ef87c"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#ad93dff3341cbbeed568d4bd6dc4ef87c">all</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE bool all(vmask8 a)</div><div class="ttdoc">True if all lanes are enabled, false otherwise.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00371">astcenc_vecmathlib_avx2_8.h:371</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_ae91c0bb0ebd82ed2a7fa7aa915f6e76e"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e">clamp</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vfloat8 clamp(float min, float max, vfloat8 a)</div><div class="ttdoc">Return the clamped value between min and max.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00781">astcenc_vecmathlib_avx2_8.h:781</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__neon__4_8h_html_ae8701a3f44d7b99016d54c3d6ee27581"><div class="ttname"><a href="astcenc__vecmathlib__neon__4_8h.html#ae8701a3f44d7b99016d54c3d6ee27581">float_to_float16</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vint4 float_to_float16(vfloat4 a)</div><div class="ttdoc">Return a float16 value for a float vector, using round-to-nearest.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00886">astcenc_vecmathlib_neon_4.h:886</a></div></div>
<div class="ttc" id="anamespaceastc_html_af78c0d31374aa9923633a3a2abf8d738"><div class="ttname"><a href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a></div><div class="ttdeci">static T min(T p, T q)</div><div class="ttdoc">Return the minimum of two values.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00159">astcenc_mathlib.h:159</a></div></div>
<div class="ttc" id="astructastcenc__config_html_a00c34d7b516c391a763592497da58312"><div class="ttname"><a href="structastcenc__config.html#a00c34d7b516c391a763592497da58312">astcenc_config::tune_search_mode0_enable</a></div><div class="ttdeci">float tune_search_mode0_enable</div><div class="ttdoc">The config enable for the mode0 fast-path search.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00572">astcenc.h:572</a></div></div>
<div class="ttc" id="astructastcenc__config_html_a01cfcdc6f3903a6b7fc96ebda9550102"><div class="ttname"><a href="structastcenc__config.html#a01cfcdc6f3903a6b7fc96ebda9550102">astcenc_config::tune_2plane_early_out_limit_correlation</a></div><div class="ttdeci">float tune_2plane_early_out_limit_correlation</div><div class="ttdoc">The threshold for skipping two weight planes (-2planelimitcorrelation).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00564">astcenc.h:564</a></div></div>
<div class="ttc" id="astructastcenc__config_html_a076f40134b7cefe41079e8a3aa8899f6"><div class="ttname"><a href="structastcenc__config.html#a076f40134b7cefe41079e8a3aa8899f6">astcenc_config::tune_3partitioning_candidate_limit</a></div><div class="ttdeci">unsigned int tune_3partitioning_candidate_limit</div><div class="ttdoc">The number of trial partitionings per search (-3partitioncandidatelimit).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00518">astcenc.h:518</a></div></div>
<div class="ttc" id="astructastcenc__config_html_a13172c9ee7823e27bcc760748bbca7ec"><div class="ttname"><a href="structastcenc__config.html#a13172c9ee7823e27bcc760748bbca7ec">astcenc_config::tune_2partition_index_limit</a></div><div class="ttdeci">unsigned int tune_2partition_index_limit</div><div class="ttdoc">The maximum number of partitions searched (-2partitionindexlimit).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00468">astcenc.h:468</a></div></div>
<div class="ttc" id="astructastcenc__config_html_a1ca7ffa6cf39b0236c3ac07a81e41748"><div class="ttname"><a href="structastcenc__config.html#a1ca7ffa6cf39b0236c3ac07a81e41748">astcenc_config::tune_mse_overshoot</a></div><div class="ttdeci">float tune_mse_overshoot</div><div class="ttdoc">The amount of MSE overshoot needed to early-out trials.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00543">astcenc.h:543</a></div></div>
<div class="ttc" id="astructastcenc__config_html_a2065412aaae88cff4e1f648946e13181"><div class="ttname"><a href="structastcenc__config.html#a2065412aaae88cff4e1f648946e13181">astcenc_config::tune_db_limit</a></div><div class="ttdeci">float tune_db_limit</div><div class="ttdoc">The dB threshold for stopping block search (-dblimit).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00532">astcenc.h:532</a></div></div>
<div class="ttc" id="astructastcenc__config_html_a378d1dd2bf306399c29a5f7883565c3c"><div class="ttname"><a href="structastcenc__config.html#a378d1dd2bf306399c29a5f7883565c3c">astcenc_config::tune_4partition_index_limit</a></div><div class="ttdeci">unsigned int tune_4partition_index_limit</div><div class="ttdoc">The maximum number of partitions searched (-4partitionindexlimit).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00482">astcenc.h:482</a></div></div>
<div class="ttc" id="astructastcenc__config_html_a428f0ba612186c229f66865dd615d567"><div class="ttname"><a href="structastcenc__config.html#a428f0ba612186c229f66865dd615d567">astcenc_config::tune_2partition_early_out_limit_factor</a></div><div class="ttdeci">float tune_2partition_early_out_limit_factor</div><div class="ttdoc">The threshold for skipping 3.1/4.1 trials (-2partitionlimitfactor).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00550">astcenc.h:550</a></div></div>
<div class="ttc" id="astructastcenc__config_html_a841535a5913a073022ab7098a0f329ac"><div class="ttname"><a href="structastcenc__config.html#a841535a5913a073022ab7098a0f329ac">astcenc_config::tune_2partitioning_candidate_limit</a></div><div class="ttdeci">unsigned int tune_2partitioning_candidate_limit</div><div class="ttdoc">The number of trial partitionings per search (-2partitioncandidatelimit).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00511">astcenc.h:511</a></div></div>
<div class="ttc" id="astructastcenc__config_html_a9f7de080850731a6ee84e3c8ec9c7084"><div class="ttname"><a href="structastcenc__config.html#a9f7de080850731a6ee84e3c8ec9c7084">astcenc_config::tune_3partition_index_limit</a></div><div class="ttdeci">unsigned int tune_3partition_index_limit</div><div class="ttdoc">The maximum number of partitions searched (-3partitionindexlimit).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00475">astcenc.h:475</a></div></div>
<div class="ttc" id="astructastcenc__config_html_aa7930792899cf0f4e06d0443e7c7c376"><div class="ttname"><a href="structastcenc__config.html#aa7930792899cf0f4e06d0443e7c7c376">astcenc_config::tune_partition_count_limit</a></div><div class="ttdeci">unsigned int tune_partition_count_limit</div><div class="ttdoc">The maximum number of partitions searched (-partitioncountlimit).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00461">astcenc.h:461</a></div></div>
<div class="ttc" id="astructastcenc__config_html_ada0c6b7d066d933aa09a0c5e189a7856"><div class="ttname"><a href="structastcenc__config.html#ada0c6b7d066d933aa09a0c5e189a7856">astcenc_config::profile</a></div><div class="ttdeci">astcenc_profile profile</div><div class="ttdoc">The color profile.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00418">astcenc.h:418</a></div></div>
<div class="ttc" id="astructastcenc__config_html_adb6bf5fd3979c612e5c6b377c6aca281"><div class="ttname"><a href="structastcenc__config.html#adb6bf5fd3979c612e5c6b377c6aca281">astcenc_config::tune_3partition_early_out_limit_factor</a></div><div class="ttdeci">float tune_3partition_early_out_limit_factor</div><div class="ttdoc">The threshold for skipping 4.1 trials (-3partitionlimitfactor).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00557">astcenc.h:557</a></div></div>
<div class="ttc" id="astructastcenc__config_html_afc8d64039868048fef1e1a9749737528"><div class="ttname"><a href="structastcenc__config.html#afc8d64039868048fef1e1a9749737528">astcenc_config::tune_4partitioning_candidate_limit</a></div><div class="ttdeci">unsigned int tune_4partitioning_candidate_limit</div><div class="ttdoc">The number of trial partitionings per search (-4partitioncandidatelimit).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00525">astcenc.h:525</a></div></div>
<div class="ttc" id="astructastcenc__contexti_html_a169469c116fecc2371f4a5621d649f30"><div class="ttname"><a href="structastcenc__contexti.html#a169469c116fecc2371f4a5621d649f30">astcenc_contexti::config</a></div><div class="ttdeci">astcenc_config config</div><div class="ttdoc">The configuration this context was created with.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01211">astcenc_internal.h:1211</a></div></div>
<div class="ttc" id="astructastcenc__contexti_html_ab1641619493f8b297d7442f5da7cd813"><div class="ttname"><a href="structastcenc__contexti.html#ab1641619493f8b297d7442f5da7cd813">astcenc_contexti::bsd</a></div><div class="ttdeci">block_size_descriptor * bsd</div><div class="ttdoc">The block size descriptor this context was created with.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01217">astcenc_internal.h:1217</a></div></div>
<div class="ttc" id="astructblock__mode_html_a760578093fb16da4932bc26d2d5c1837"><div class="ttname"><a href="structblock__mode.html#a760578093fb16da4932bc26d2d5c1837">block_mode::get_weight_quant_mode</a></div><div class="ttdeci">quant_method get_weight_quant_mode() const</div><div class="ttdoc">Get the weight quantization used by this block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00437">astcenc_internal.h:437</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html"><div class="ttname"><a href="structblock__size__descriptor.html">block_size_descriptor</a></div><div class="ttdoc">Data tables for a single block size.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00530">astcenc_internal.h:531</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_a0df466b2eda6958f2e5f8a4f147367e4"><div class="ttname"><a href="structblock__size__descriptor.html#a0df466b2eda6958f2e5f8a4f147367e4">block_size_descriptor::texel_count</a></div><div class="ttdeci">uint8_t texel_count</div><div class="ttdoc">The block total texel count.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00542">astcenc_internal.h:542</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_a13608eb55e48c96b6243f4830278ebf3"><div class="ttname"><a href="structblock__size__descriptor.html#a13608eb55e48c96b6243f4830278ebf3">block_size_descriptor::get_block_mode</a></div><div class="ttdeci">const block_mode &amp; get_block_mode(unsigned int block_mode) const</div><div class="ttdoc">Get the block mode structure for index block_mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00636">astcenc_internal.h:636</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_afc7428efe69cba2425ae335d9d266714"><div class="ttname"><a href="structblock__size__descriptor.html#afc7428efe69cba2425ae335d9d266714">block_size_descriptor::zdim</a></div><div class="ttdeci">uint8_t zdim</div><div class="ttdoc">The block Z dimension, in texels.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00539">astcenc_internal.h:539</a></div></div>
<div class="ttc" id="astructimage__block_html_a111c7f9821d5ebe6e9d0140f800c6bc2"><div class="ttname"><a href="structimage__block.html#a111c7f9821d5ebe6e9d0140f800c6bc2">image_block::origin_texel</a></div><div class="ttdeci">vfloat4 origin_texel</div><div class="ttdoc">The original data for texel 0 for constant color block encoding.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00762">astcenc_internal.h:762</a></div></div>
<div class="ttc" id="astructimage__block_html_a3250483facfd20ef4d418bd5f3ef4acb"><div class="ttname"><a href="structimage__block.html#a3250483facfd20ef4d418bd5f3ef4acb">image_block::grayscale</a></div><div class="ttdeci">bool grayscale</div><div class="ttdoc">Is this grayscale block where R == G == B for all texels?</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00777">astcenc_internal.h:777</a></div></div>
<div class="ttc" id="astructimage__block_html_a352aaf95790a294ff0b8b037b49def86"><div class="ttname"><a href="structimage__block.html#a352aaf95790a294ff0b8b037b49def86">image_block::xpos</a></div><div class="ttdeci">unsigned int xpos</div><div class="ttdoc">The X position of this block in the input or output image.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00789">astcenc_internal.h:789</a></div></div>
<div class="ttc" id="astructimage__block_html_a4222fc6e5a97194fd342700adff483db"><div class="ttname"><a href="structimage__block.html#a4222fc6e5a97194fd342700adff483db">image_block::data_min</a></div><div class="ttdeci">vfloat4 data_min</div><div class="ttdoc">The min component value of all texels in the block.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00765">astcenc_internal.h:765</a></div></div>
<div class="ttc" id="astructimage__block_html_a6fd749c93e25e5e96748a10387c24a77"><div class="ttname"><a href="structimage__block.html#a6fd749c93e25e5e96748a10387c24a77">image_block::channel_weight</a></div><div class="ttdeci">vfloat4 channel_weight</div><div class="ttdoc">The relative error significance of the color channels.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00774">astcenc_internal.h:774</a></div></div>
<div class="ttc" id="astructimage__block_html_a77a79aa3bc8909bb34673e86ee30584f"><div class="ttname"><a href="structimage__block.html#a77a79aa3bc8909bb34673e86ee30584f">image_block::ypos</a></div><div class="ttdeci">unsigned int ypos</div><div class="ttdoc">The Y position of this block in the input or output image.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00792">astcenc_internal.h:792</a></div></div>
<div class="ttc" id="astructimage__block_html_aa7f3d29c2f755e47a887d090c5997880"><div class="ttname"><a href="structimage__block.html#aa7f3d29c2f755e47a887d090c5997880">image_block::is_luminancealpha</a></div><div class="ttdeci">bool is_luminancealpha() const</div><div class="ttdoc">Test if this block is a luminance block with variable alpha.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00872">astcenc_internal.h:872</a></div></div>
<div class="ttc" id="astructimage__block_html_ac3e154e58086017c6e405b8cc7e52c9f"><div class="ttname"><a href="structimage__block.html#ac3e154e58086017c6e405b8cc7e52c9f">image_block::is_luminance</a></div><div class="ttdeci">bool is_luminance() const</div><div class="ttdoc">Test if this block is a luminance block with constant 1.0 alpha.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00859">astcenc_internal.h:859</a></div></div>
<div class="ttc" id="astructimage__block_html_ae3c0735355d378591db6cb7a011e381a"><div class="ttname"><a href="structimage__block.html#ae3c0735355d378591db6cb7a011e381a">image_block::is_constant_channel</a></div><div class="ttdeci">bool is_constant_channel(int channel) const</div><div class="ttdoc">Test if a single color channel is constant across the block.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00847">astcenc_internal.h:847</a></div></div>
<div class="ttc" id="astructimage__block_html_aef3e6199531833e9b855f7fde1d06593"><div class="ttname"><a href="structimage__block.html#aef3e6199531833e9b855f7fde1d06593">image_block::zpos</a></div><div class="ttdeci">unsigned int zpos</div><div class="ttdoc">The Z position of this block in the input or output image.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00795">astcenc_internal.h:795</a></div></div>
<div class="ttc" id="astructimage__block_html_af1b03600b295cf8dc02a333db04871fc"><div class="ttname"><a href="structimage__block.html#af1b03600b295cf8dc02a333db04871fc">image_block::data_max</a></div><div class="ttdeci">vfloat4 data_max</div><div class="ttdoc">The max component value of all texels in the block.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00771">astcenc_internal.h:771</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html"><div class="ttname"><a href="structsymbolic__compressed__block.html">symbolic_compressed_block</a></div><div class="ttdoc">A symbolic representation of a compressed block.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01072">astcenc_internal.h:1073</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html_a4ed0a59a081d379e15d29e29f761d105"><div class="ttname"><a href="structsymbolic__compressed__block.html#a4ed0a59a081d379e15d29e29f761d105">symbolic_compressed_block::errorval</a></div><div class="ttdeci">float errorval</div><div class="ttdoc">The error of the current encoding; valid for NONCONST blocks.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01099">astcenc_internal.h:1099</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html_a6ac68bba1c38975e28fb3e67e974c551"><div class="ttname"><a href="structsymbolic__compressed__block.html#a6ac68bba1c38975e28fb3e67e974c551">symbolic_compressed_block::partition_count</a></div><div class="ttdeci">uint8_t partition_count</div><div class="ttdoc">The number of partitions; valid for NONCONST blocks.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01078">astcenc_internal.h:1078</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html_a7ba54ca805498286add2148b3b86546b"><div class="ttname"><a href="structsymbolic__compressed__block.html#a7ba54ca805498286add2148b3b86546b">symbolic_compressed_block::block_mode</a></div><div class="ttdeci">uint16_t block_mode</div><div class="ttdoc">The block mode; valid for NONCONST blocks.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01087">astcenc_internal.h:1087</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html_abb86a3a9a9bf54d5138c1883ed6159a5"><div class="ttname"><a href="structsymbolic__compressed__block.html#abb86a3a9a9bf54d5138c1883ed6159a5">symbolic_compressed_block::constant_color</a></div><div class="ttdeci">int constant_color[BLOCK_MAX_COMPONENTS]</div><div class="ttdoc">The constant color; valid for CONST blocks.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01104">astcenc_internal.h:1104</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html_ac4c50ed170ee1fdbf19d288af74a8909"><div class="ttname"><a href="structsymbolic__compressed__block.html#ac4c50ed170ee1fdbf19d288af74a8909">symbolic_compressed_block::block_type</a></div><div class="ttdeci">uint8_t block_type</div><div class="ttdoc">The block type, one of the SYM_BTYPE_* constants.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01075">astcenc_internal.h:1075</a></div></div>
<div class="ttc" id="astructvfloat4_html"><div class="ttname"><a href="structvfloat4.html">vfloat4</a></div><div class="ttdoc">4x32-bit vectors, implemented using Armv8-A NEON.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00050">astcenc_vecmathlib_neon_4.h:51</a></div></div>
<div class="ttc" id="astructvint4_html"><div class="ttname"><a href="structvint4.html">vint4</a></div><div class="ttdoc">Data type for 4-wide ints.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00183">astcenc_vecmathlib_neon_4.h:184</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_a579b9a2ceeecda2fb3abe63b8311df1c_cgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_a579b9a2ceeecda2fb3abe63b8311df1c_cgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_a579b9a2ceeecda2fb3abe63b8311df1c_cgraph" id="aastcenc__compress__symbolic_8cpp_a579b9a2ceeecda2fb3abe63b8311df1c_cgraph">
<area shape="rect" title="Compress an image block into a physical block." alt="" coords="5,1863,123,1888"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad93dff3341cbbeed568d4bd6dc4ef87c" title="True if all lanes are enabled, false otherwise." alt="" coords="735,2546,774,2571"/>
<area shape="poly" title=" " alt="" coords="68,1888,74,2000,90,2175,103,2267,121,2351,144,2420,158,2446,173,2466,203,2492,236,2515,271,2533,308,2548,387,2568,467,2578,545,2580,616,2576,722,2562,722,2567,616,2581,545,2585,467,2584,386,2574,307,2553,269,2538,233,2519,199,2496,169,2469,153,2449,139,2422,116,2353,98,2268,85,2176,69,2000,63,1889"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e" title="Return the clamped value between min and max." alt="" coords="726,335,783,360"/>
<area shape="poly" title=" " alt="" coords="63,1863,71,1579,90,1081,104,818,122,581,143,397,155,333,168,292,208,217,253,149,304,90,359,45,389,28,420,15,451,6,484,3,518,5,552,13,587,26,623,47,656,74,683,108,705,145,722,185,744,262,754,321,748,322,739,263,717,187,700,148,679,111,652,78,620,51,585,31,550,18,517,10,484,8,452,11,421,20,391,32,362,49,307,94,257,152,212,219,173,294,160,334,149,398,127,582,110,819,95,1081,76,1579,68,1863"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af5f518a15600c71922e69267dea2db99" title="Compress a block using a chosen partitioning and 1 plane of weights." alt="" coords="188,1028,364,1068"/>
<area shape="poly" title=" " alt="" coords="63,1862,67,1724,83,1498,96,1377,114,1265,138,1170,152,1133,168,1103,184,1086,203,1072,206,1076,188,1090,173,1106,157,1135,143,1172,119,1266,101,1378,88,1498,73,1724,68,1862"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898" title="Return the horizontal sum of a vector." alt="" coords="723,2090,787,2115"/>
<area shape="poly" title=" " alt="" coords="69,1888,77,1937,94,2008,107,2047,125,2086,146,2122,173,2155,203,2184,232,2206,259,2222,287,2233,350,2248,430,2262,485,2275,529,2285,572,2283,594,2275,620,2263,639,2246,647,2226,653,2203,667,2178,695,2147,724,2122,727,2126,699,2151,671,2181,658,2205,652,2228,643,2249,623,2267,596,2280,572,2288,529,2290,484,2281,429,2267,349,2253,286,2238,257,2226,229,2210,200,2188,169,2159,142,2125,120,2088,102,2049,89,2010,71,1938,64,1889"/>
<area shape="rect" href="structimage__block.html#ae3c0735355d378591db6cb7a011e381a" title="Test if a single color channel is constant across the block." alt="" coords="669,385,840,425"/>
<area shape="poly" title=" " alt="" coords="63,1863,68,1637,83,1240,96,1022,115,815,138,637,152,564,168,505,210,367,229,309,251,257,279,210,316,166,364,124,428,84,481,58,529,47,552,48,575,55,599,66,623,84,639,100,651,117,662,152,661,187,654,224,647,261,644,298,650,334,659,353,671,371,674,374,670,378,667,375,654,355,645,336,638,298,642,260,649,223,656,187,656,153,646,120,635,104,620,88,596,71,573,60,551,54,529,53,482,63,431,89,368,129,320,169,283,213,256,259,234,311,215,368,173,507,158,565,143,638,120,816,102,1022,88,1240,73,1637,68,1863"/>
<area shape="rect" href="structblock__size__descriptor.html#a13608eb55e48c96b6243f4830278ebf3" title="Get the block mode structure for index block_mode." alt="" coords="681,813,829,853"/>
<area shape="poly" title=" " alt="" coords="62,1862,62,1708,65,1587,71,1453,84,1317,103,1191,116,1135,131,1086,148,1045,169,1014,219,965,269,936,320,921,373,916,487,912,551,905,620,886,696,856,698,861,622,891,552,910,487,918,373,921,321,926,271,941,222,970,173,1017,153,1047,136,1088,121,1136,108,1192,89,1317,77,1453,70,1587,67,1708,68,1862"/>
<area shape="rect" href="structblock__mode.html#a760578093fb16da4932bc26d2d5c1837" title="Get the weight quantization used by this block mode." alt="" coords="444,98,607,138"/>
<area shape="poly" title=" " alt="" coords="63,1862,66,1724,80,1474,93,1324,111,1165,136,1003,168,846,191,733,207,634,221,546,237,464,261,387,298,311,352,233,427,150,434,144,437,148,431,153,356,236,303,314,266,389,243,466,226,547,212,635,196,734,173,847,141,1004,117,1165,98,1324,85,1475,71,1724,68,1863"/>
<area shape="rect" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738" title="Return the minimum of two values." alt="" coords="717,1840,793,1866"/>
<area shape="poly" title=" " alt="" coords="98,1860,132,1849,170,1841,621,1842,703,1846,703,1852,621,1848,171,1846,134,1854,99,1865"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af11a976c8ea386db054bef472ce0667c" title="Compress a block using a chosen partitioning and 2 planes of weights." alt="" coords="188,1117,364,1157"/>
<area shape="poly" title=" " alt="" coords="66,1862,263,1169,268,1171,72,1863"/>
<area shape="rect" href="astcenc__find__best__partitioning_8cpp.html#a7577b3047a3f9f0fe44fd579f5450630" title="Find the best set of partitions to trial for a given block." alt="" coords="213,1856,339,1896"/>
<area shape="poly" title=" " alt="" coords="123,1873,199,1873,199,1878,123,1878"/>
<area shape="rect" href="astcenc__vecmathlib__neon__4_8h.html#ae8701a3f44d7b99016d54c3d6ee27581" title="Return a float16 value for a float vector, using round&#45;to&#45;nearest." alt="" coords="221,1971,331,1996"/>
<area shape="poly" title=" " alt="" coords="81,1886,121,1917,172,1949,210,1964,208,1969,169,1954,118,1922,78,1890"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a598d6ea3ba27a788b12341a5263c7881" title="Return a integer value for a float vector, using round&#45;to&#45;nearest." alt="" coords="223,2020,329,2046"/>
<area shape="poly" title=" " alt="" coords="74,1887,110,1946,138,1979,172,2007,210,2022,208,2027,169,2011,135,1983,106,1949,69,1890"/>
<area shape="rect" href="structimage__block.html#ac3e154e58086017c6e405b8cc7e52c9f" title="Test if this block is a luminance block with constant 1.0 alpha." alt="" coords="187,2070,365,2095"/>
<area shape="poly" title=" " alt="" coords="71,1888,83,1922,103,1968,133,2016,151,2038,172,2056,180,2061,177,2066,169,2060,147,2041,128,2019,98,1970,78,1924,66,1889"/>
<area shape="rect" href="structimage__block.html#aa7f3d29c2f755e47a887d090c5997880" title="Test if this block is a luminance block with variable alpha." alt="" coords="171,2119,381,2144"/>
<area shape="poly" title=" " alt="" coords="70,1888,78,1930,97,1990,127,2052,148,2081,172,2106,178,2110,175,2114,169,2110,144,2084,122,2055,92,1992,73,1932,65,1889"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a6ac5bc5977155d0c8433492cd1985ce6" title="Determine the lowest cross&#45;channel correlation factor." alt="" coords="444,2227,607,2252"/>
<area shape="poly" title=" " alt="" coords="106,1886,171,1905,204,1912,234,1914,286,1914,311,1916,335,1923,359,1936,383,1958,405,1990,414,2022,413,2055,408,2087,403,2119,403,2150,410,2181,431,2212,436,2217,433,2221,427,2216,406,2184,397,2151,398,2118,403,2086,408,2054,409,2023,400,1992,379,1961,356,1940,333,1928,310,1922,286,1920,233,1919,203,1917,170,1910,105,1891"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a61add2970baac5cf6b04177472ae1ed1" title="Store a vector to an unaligned memory address." alt="" coords="251,2430,301,2455"/>
<area shape="poly" title=" " alt="" coords="69,1888,77,1989,95,2146,109,2229,127,2304,148,2367,160,2390,173,2408,186,2420,202,2428,237,2437,236,2443,200,2433,183,2424,169,2412,155,2393,143,2369,122,2306,104,2230,90,2147,72,1990,63,1889"/>
<area shape="rect" href="astcenc__symbolic__physical_8cpp.html#af7b1f1696c0ee5cbfd6f2546fa400011" title="Convert a symbolic representation into a binary physical encoding." alt="" coords="452,851,599,876"/>
<area shape="poly" title=" " alt="" coords="63,1863,71,1675,90,1364,104,1204,122,1061,143,952,155,916,169,894,200,869,236,852,275,841,315,835,394,836,462,845,462,851,394,841,315,840,276,846,238,857,203,874,173,897,160,918,148,954,127,1062,109,1204,95,1365,76,1675,68,1863"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82" title="Return a 8&#45;bit mask code indicating mask status." alt="" coords="909,2068,964,2094"/>
<area shape="poly" title=" " alt="" coords="774,2554,807,2545,824,2536,838,2524,857,2492,874,2445,902,2324,920,2199,930,2107,936,2107,925,2200,907,2325,879,2446,862,2494,842,2528,827,2541,809,2550,775,2559"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aa162915c044e97cc1f6d630338761fd3" title="Return the max vector of two vectors." alt="" coords="913,1790,960,1815"/>
<area shape="poly" title=" " alt="" coords="784,345,815,352,830,360,842,371,850,393,856,434,866,565,879,943,886,1324,891,1523,911,1666,932,1776,927,1777,906,1667,885,1524,881,1324,874,943,860,565,850,435,844,394,838,374,827,364,813,357,783,351"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a165b3db4e7ced1551e1880a01a01150b" title="Return the min vector of two vectors." alt="" coords="915,928,958,954"/>
<area shape="poly" title=" " alt="" coords="784,346,814,353,829,360,842,371,855,390,867,415,887,477,903,553,916,636,931,798,937,914,932,914,926,799,910,637,898,554,882,479,862,417,851,393,838,375,826,365,813,358,783,351"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#af1b151d02c3af92eb002dc7172111233" title="Compute the angular endpoints for one plane for each block mode." alt="" coords="433,621,617,661"/>
<area shape="poly" title=" " alt="" coords="278,1027,290,961,317,868,337,818,361,768,391,720,427,678,442,666,446,670,431,681,396,723,366,770,342,820,322,870,295,963,283,1028"/>
<area shape="rect" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d" title="Get the decimation info structure for index decimation_mode." alt="" coords="681,749,829,789"/>
<area shape="poly" title=" " alt="" coords="277,1027,289,965,314,882,334,838,359,796,390,758,428,728,461,712,497,703,534,701,571,704,642,719,701,741,699,746,640,724,570,709,534,706,498,709,463,717,431,732,394,762,363,799,339,840,319,884,294,967,282,1028"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#aa4077e6408620eefddd42b7e159dc93c" title="Compute the error of a decimated weight set for 1 plane." alt="" coords="442,2034,609,2074"/>
<area shape="poly" title=" " alt="" coords="339,1065,364,1081,384,1103,401,1141,412,1187,418,1240,420,1298,414,1428,402,1568,391,1706,388,1835,391,1892,399,1943,412,1986,432,2021,434,2023,430,2027,427,2024,407,1988,394,1944,386,1892,382,1835,386,1706,397,1567,409,1428,415,1298,413,1240,407,1188,396,1143,379,1106,360,1085,336,1070"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#afa8cab65d4b6f0cbece52eec38aed523" title="Compute ideal endpoint colors and weights for 1 plane of weights." alt="" coords="451,213,599,253"/>
<area shape="poly" title=" " alt="" coords="278,1027,356,609,401,379,427,270,439,258,443,262,432,273,407,380,361,610,284,1028"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a81c7b68e8c7b82a5ff718f21bd4f3c35" title="Identify, for each mode, which set of color endpoint produces the best result." alt="" coords="444,1461,607,1501"/>
<area shape="poly" title=" " alt="" coords="337,1065,362,1081,383,1103,398,1127,407,1151,415,1195,412,1239,404,1280,397,1322,395,1363,405,1404,416,1425,431,1447,435,1451,431,1455,427,1451,411,1428,400,1406,390,1363,391,1321,399,1279,406,1238,409,1196,402,1152,393,1130,379,1106,359,1086,334,1070"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc" title="Return lanes from b if cond is set, else a." alt="" coords="726,1334,783,1359"/>
<area shape="poly" title=" " alt="" coords="335,1066,361,1082,383,1103,399,1130,405,1156,404,1205,402,1228,405,1251,413,1273,431,1295,451,1307,480,1317,557,1332,641,1339,712,1343,712,1348,641,1345,556,1337,479,1322,449,1312,428,1299,408,1276,399,1252,397,1229,398,1205,400,1156,394,1132,379,1107,358,1086,332,1070"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#ae1b4e922c67d5349fc849709ca08178f" title="Compute the optimal unquantized weights for a decimation table." alt="" coords="447,328,604,368"/>
<area shape="poly" title=" " alt="" coords="278,1027,343,686,388,492,409,423,427,385,439,373,443,377,431,388,414,425,393,494,348,687,283,1028"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#af42cf444db5f16e2ed4fb642acf81f4a" title="Compute the optimal quantized weights for a decimation table." alt="" coords="432,1245,619,1285"/>
<area shape="poly" title=" " alt="" coords="331,1065,359,1081,383,1103,395,1121,402,1138,406,1170,412,1201,419,1216,431,1231,436,1235,432,1239,427,1235,414,1219,406,1202,401,1171,397,1139,391,1123,379,1107,356,1086,329,1070"/>
<area shape="rect" href="astcenc__decompress__symbolic_8cpp.html#a0541138e65930f39f6caba517e76dfe4" title="Compute the error between a symbolic block and the original input data." alt="" coords="441,506,610,546"/>
<area shape="poly" title=" " alt="" coords="275,1027,282,944,290,885,304,821,323,753,349,685,384,621,427,563,441,551,444,555,431,567,388,623,354,687,328,754,309,822,296,886,287,944,281,1027"/>
<area shape="rect" href="structblock__size__descriptor.html#aa9dfc7b23c8b5e6c71e956e2e39fff74" title="Get the partition info structure for a given partition count and seed." alt="" coords="681,564,829,604"/>
<area shape="poly" title=" " alt="" coords="278,1027,349,637,394,420,413,347,427,314,452,296,476,284,500,277,524,275,548,278,572,285,623,313,638,326,648,340,656,368,661,400,672,436,704,497,736,550,731,553,700,500,667,438,655,401,651,369,643,342,634,330,620,318,570,290,546,283,524,280,501,282,478,289,455,300,431,317,418,349,399,421,354,638,283,1028"/>
<area shape="rect" href="astcenc__decompress__symbolic_8cpp.html#aff8e27acd948a9cc5631d99c80906b2f" title="Compute the error between a symbolic block and the original input data." alt="" coords="431,1181,620,1221"/>
<area shape="poly" title=" " alt="" coords="325,1065,355,1082,383,1103,398,1120,407,1137,416,1152,431,1167,439,1172,437,1177,428,1171,411,1155,402,1139,394,1123,380,1107,352,1087,322,1070"/>
<area shape="rect" href="structblock__size__descriptor.html#aef601af82748a14a8826e94f5e1b4184" title="Get the decimation mode structure for index decimation_mode." alt="" coords="447,1002,604,1042"/>
<area shape="poly" title=" " alt="" coords="364,1036,432,1029,433,1034,365,1041"/>
<area shape="poly" title=" " alt="" coords="279,1027,321,808,379,485,385,410,389,312,401,217,412,178,427,150,432,145,435,149,432,153,417,180,406,218,395,312,390,410,384,485,326,809,284,1028"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a5618d81f875c0158284ccc9923d83dab" title="Return the horizontal minimum of a vector." alt="" coords="723,2191,787,2216"/>
<area shape="poly" title=" " alt="" coords="339,1065,364,1081,384,1103,395,1134,402,1182,407,1320,404,1497,399,1693,394,1888,395,2061,399,2134,406,2193,417,2237,431,2263,453,2280,474,2290,495,2293,517,2292,564,2279,620,2262,645,2252,668,2238,710,2219,712,2224,671,2243,647,2257,622,2267,566,2284,518,2297,495,2299,473,2295,450,2285,427,2267,412,2239,401,2194,393,2134,389,2061,388,1887,393,1692,399,1496,402,1320,396,1183,389,1136,379,1106,360,1085,336,1070"/>
<area shape="poly" title=" " alt="" coords="338,1066,363,1081,384,1103,395,1128,403,1157,410,1228,409,1312,404,1401,399,1490,400,1572,409,1641,418,1668,431,1690,452,1710,474,1720,496,1724,519,1724,569,1725,595,1732,623,1747,639,1763,648,1780,656,1796,671,1812,705,1833,703,1837,668,1816,652,1799,644,1782,635,1766,620,1751,594,1737,568,1731,519,1730,495,1729,472,1725,449,1714,427,1693,414,1671,404,1642,394,1573,394,1490,398,1401,403,1312,405,1229,398,1158,390,1129,379,1106,360,1086,335,1070"/>
<area shape="rect" href="astcenc__color__quantize_8cpp.html#ab9f9b564c57688af1f8fc1d9e000af81" title="Pack a single pair of color endpoints as effectively as possible." alt="" coords="451,163,599,188"/>
<area shape="poly" title=" " alt="" coords="279,1027,379,484,385,420,391,337,403,256,413,223,427,199,438,190,441,194,431,203,418,225,408,257,396,337,390,421,384,485,284,1028"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af80747ee43aa6fda579161376205c294" title="Attempt to improve weights given a chosen configuration." alt="" coords="436,1067,615,1092"/>
<area shape="poly" title=" " alt="" coords="365,1056,423,1064,422,1069,364,1061"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a91e5fa530ba0e492b85132e416a5ddf4" title="Attempt to improve weights given a chosen configuration." alt="" coords="429,952,621,978"/>
<area shape="poly" title=" " alt="" coords="326,1025,428,988,459,979,460,984,430,993,328,1030"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a02bcad94240678ee727ccf2f0fbfb5d3" title="For a given 1 plane weight set recompute the endpoint colors." alt="" coords="446,1576,605,1616"/>
<area shape="poly" title=" " alt="" coords="337,1065,363,1081,383,1103,400,1131,412,1158,423,1210,422,1258,414,1306,406,1353,403,1402,410,1455,432,1512,453,1541,481,1565,477,1569,450,1545,427,1514,404,1456,398,1402,401,1352,409,1305,416,1258,417,1210,407,1160,395,1134,379,1106,359,1086,335,1070"/>
<area shape="poly" title=" " alt="" coords="583,659,623,677,673,708,718,739,715,743,670,712,620,682,580,663"/>
<area shape="poly" title=" " alt="" coords="610,2069,710,2090,709,2096,609,2074"/>
<area shape="poly" title=" " alt="" coords="725,2091,718,2081,722,2071,734,2065,755,2063,780,2066,790,2075,787,2079,777,2071,755,2068,736,2070,726,2075,723,2080,729,2088"/>
<area shape="poly" title=" " alt="" coords="596,251,623,270,641,296,648,322,654,346,671,371,676,375,673,379,667,375,649,349,643,323,637,298,619,273,593,255"/>
<area shape="rect" href="structvint4.html#a21e3d111e37da1aaaeb5ba21a831c863" title="Factory that returns a vector containing the lane IDs." alt="" coords="888,1486,985,1511"/>
<area shape="poly" title=" " alt="" coords="773,423,809,479,828,514,843,551,861,693,890,973,936,1472,930,1472,884,973,856,694,837,552,823,516,805,481,769,426"/>
<area shape="poly" title=" " alt="" coords="554,1499,623,1562,744,1686,791,1746,842,1828,873,1889,899,1952,931,2054,926,2056,894,1954,868,1891,838,1830,786,1749,740,1689,619,1565,550,1503"/>
<area shape="poly" title=" " alt="" coords="592,1498,670,1514,755,1520,840,1514,874,1509,875,1515,840,1520,755,1526,669,1520,591,1503"/>
<area shape="poly" title=" " alt="" coords="601,1458,620,1447,635,1430,643,1413,651,1394,668,1376,689,1363,712,1354,714,1359,692,1368,671,1380,656,1397,648,1415,640,1433,623,1451,603,1463"/>
<area shape="poly" title=" " alt="" coords="604,345,712,345,712,350,604,350"/>
<area shape="poly" title=" " alt="" coords="619,1267,684,1273,750,1284,806,1299,827,1309,842,1320,855,1339,866,1362,880,1420,887,1489,889,1564,887,1713,887,1777,891,1827,912,1954,932,2054,927,2055,907,1955,885,1828,882,1777,882,1713,884,1564,882,1489,875,1421,861,1364,851,1342,838,1324,824,1313,804,1304,749,1289,683,1279,619,1272"/>
<area shape="poly" title=" " alt="" coords="593,1242,620,1230,687,1195,737,1163,783,1125,838,1072,885,1016,919,964,924,967,889,1019,842,1076,787,1129,741,1167,690,1199,623,1235,596,1247"/>
<area shape="poly" title=" " alt="" coords="584,1282,713,1329,712,1334,582,1287"/>
<area shape="poly" title=" " alt="" coords="610,506,667,501,728,504,788,518,816,532,842,550,862,576,880,616,895,666,907,721,925,831,936,915,930,915,920,832,902,722,889,667,875,618,858,579,838,553,814,536,787,523,727,509,667,506,610,511"/>
<area shape="poly" title=" " alt="" coords="554,544,623,607,684,675,732,736,728,740,680,679,619,611,550,548"/>
<area shape="poly" title=" " alt="" coords="560,544,594,572,624,607,637,635,643,661,643,708,646,753,655,776,671,799,674,802,671,806,667,803,650,778,641,754,638,708,637,662,632,637,619,610,590,575,557,548"/>
<area shape="poly" title=" " alt="" coords="607,544,668,559,667,564,605,549"/>
<area shape="poly" title=" " alt="" coords="621,1216,758,1247,813,1263,842,1278,856,1298,867,1324,881,1387,888,1462,890,1543,887,1704,887,1773,891,1827,912,1954,932,2054,927,2055,907,1955,885,1828,882,1773,882,1704,885,1543,883,1462,876,1388,862,1326,851,1301,838,1282,811,1268,757,1252,619,1221"/>
<area shape="poly" title=" " alt="" coords="602,1178,620,1167,637,1145,644,1122,650,1098,667,1072,725,1026,790,990,851,964,901,948,903,953,853,969,792,995,728,1031,671,1076,655,1100,649,1123,642,1147,623,1171,605,1183"/>
<area shape="poly" title=" " alt="" coords="607,1179,619,1167,636,1144,647,1121,656,1076,653,1031,644,986,634,941,631,895,640,848,651,824,667,799,670,796,674,800,671,802,655,826,645,849,636,895,639,940,649,985,658,1030,661,1076,652,1123,640,1146,623,1171,610,1183"/>
<area shape="poly" title=" " alt="" coords="611,1219,623,1231,638,1256,650,1287,664,1362,670,1450,669,1546,664,1734,665,1815,672,1878,687,1934,707,1989,744,2076,739,2078,702,1991,682,1936,667,1879,659,1815,659,1734,664,1545,664,1450,659,1362,645,1288,634,1258,619,1235,607,1223"/>
<area shape="poly" title=" " alt="" coords="620,1181,674,1178,733,1182,790,1196,817,1208,842,1224,869,1250,890,1281,906,1315,919,1350,933,1418,938,1472,932,1472,927,1419,913,1352,901,1317,885,1284,864,1254,838,1228,814,1213,788,1201,732,1187,674,1183,620,1186"/>
<area shape="poly" title=" " alt="" coords="597,1219,623,1231,655,1252,686,1276,734,1322,731,1326,682,1280,652,1256,620,1235,595,1223"/>
<area shape="poly" title=" " alt="" coords="606,1179,619,1167,640,1137,650,1108,653,1080,651,1051,648,991,653,957,667,921,689,888,715,861,719,864,693,891,672,923,658,959,653,991,656,1051,658,1080,655,1109,645,1139,623,1171,609,1183"/>
<area shape="poly" title=" " alt="" coords="607,1179,619,1167,637,1132,648,1082,653,1023,654,959,655,833,659,778,667,736,696,669,729,614,734,616,701,671,672,738,664,779,661,833,660,959,658,1024,653,1083,642,1133,623,1170,610,1183"/>
<area shape="poly" title=" " alt="" coords="595,186,623,199,660,227,693,260,740,322,736,325,689,264,657,231,620,203,593,191"/>
<area shape="poly" title=" " alt="" coords="603,1065,619,1052,640,1022,649,991,649,960,644,929,640,898,639,865,647,833,667,799,670,796,674,799,671,802,652,835,644,866,645,897,650,929,654,960,654,992,645,1024,623,1056,606,1069"/>
<area shape="poly" title=" " alt="" coords="608,1090,623,1103,633,1123,641,1153,652,1242,658,1357,662,1485,665,1731,667,1823,672,1878,687,1934,706,1989,743,2076,739,2078,701,1991,682,1936,667,1879,662,1824,659,1731,656,1485,653,1357,647,1242,636,1154,628,1125,619,1107,605,1094"/>
<area shape="poly" title=" " alt="" coords="615,1069,671,1070,732,1080,790,1099,817,1115,842,1134,860,1159,877,1196,904,1292,923,1393,935,1471,929,1472,918,1394,899,1293,872,1198,856,1162,838,1137,814,1119,788,1104,730,1085,671,1076,615,1074"/>
<area shape="poly" title=" " alt="" coords="601,1090,623,1103,649,1127,672,1154,708,1214,734,1272,749,1319,744,1321,729,1274,703,1216,667,1157,645,1130,620,1107,598,1095"/>
<area shape="poly" title=" " alt="" coords="602,1064,619,1052,636,1031,644,1009,646,987,645,965,645,918,652,894,667,870,679,858,683,862,671,873,657,896,650,919,650,965,651,987,649,1010,641,1033,623,1056,606,1069"/>
<area shape="poly" title=" " alt="" coords="604,1065,619,1052,646,1014,660,978,664,943,661,907,653,829,655,785,667,736,696,669,729,614,734,617,701,672,672,738,661,785,659,828,667,906,669,943,665,979,651,1017,623,1056,607,1069"/>
<area shape="poly" title=" " alt="" coords="622,974,679,987,738,1009,794,1040,820,1060,842,1083,860,1114,877,1158,904,1269,923,1385,935,1471,930,1472,918,1385,899,1271,872,1160,856,1117,838,1086,816,1064,791,1045,736,1014,677,992,621,979"/>
<area shape="poly" title=" " alt="" coords="604,975,623,988,657,1026,685,1069,707,1116,724,1164,745,1253,754,1320,749,1320,740,1254,719,1165,702,1118,681,1072,653,1029,620,992,601,980"/>
<area shape="poly" title=" " alt="" coords="581,950,620,931,635,916,643,901,652,886,668,869,686,857,689,861,671,874,656,889,648,904,639,920,623,935,583,955"/>
<area shape="poly" title=" " alt="" coords="548,950,585,924,619,887,639,849,647,815,653,779,667,736,699,670,731,614,736,617,704,672,672,738,658,780,653,816,644,851,624,890,588,928,551,954"/>
<area shape="poly" title=" " alt="" coords="592,1613,622,1625,704,1665,784,1707,905,1780,903,1785,781,1712,702,1669,620,1630,590,1618"/>
<area shape="poly" title=" " alt="" coords="556,1573,589,1546,619,1511,629,1493,635,1475,639,1442,646,1410,654,1393,667,1376,688,1361,712,1352,714,1356,691,1366,671,1380,658,1396,651,1412,645,1443,640,1477,634,1495,624,1514,592,1550,559,1577"/>
<area shape="poly" title=" " alt="" coords="607,1613,623,1626,638,1643,646,1661,652,1695,656,1730,662,1749,672,1769,698,1802,727,1829,724,1833,694,1806,667,1772,657,1751,651,1731,647,1696,641,1663,633,1646,619,1629,603,1617"/>
<area shape="poly" title=" " alt="" coords="334,1114,359,1099,379,1078,399,1037,405,997,401,958,393,919,387,881,387,844,398,807,411,790,428,772,455,753,486,740,518,732,552,728,619,732,679,743,678,748,618,737,552,734,519,737,488,745,458,758,431,776,415,793,403,810,392,845,392,881,399,918,406,957,410,997,404,1039,384,1081,362,1103,337,1119"/>
<area shape="poly" title=" " alt="" coords="281,1157,289,1227,299,1275,312,1326,332,1378,357,1428,390,1473,431,1511,465,1527,512,1537,568,1542,629,1543,748,1536,840,1525,889,1513,890,1518,840,1530,748,1541,629,1548,568,1547,512,1542,464,1532,428,1515,386,1477,353,1431,327,1380,307,1327,293,1276,284,1228,276,1158"/>
<area shape="poly" title=" " alt="" coords="284,1156,299,1213,327,1291,347,1333,370,1375,399,1413,431,1447,437,1451,433,1455,428,1451,394,1417,366,1377,342,1336,322,1293,294,1215,279,1158"/>
<area shape="poly" title=" " alt="" coords="288,1156,307,1198,337,1249,378,1300,403,1321,431,1338,466,1353,504,1363,582,1369,654,1364,712,1354,713,1359,655,1369,581,1374,503,1368,464,1358,428,1343,400,1325,375,1303,333,1252,302,1200,283,1159"/>
<area shape="poly" title=" " alt="" coords="336,1114,360,1099,379,1078,392,1051,401,1017,408,934,407,836,400,731,394,626,393,529,402,446,412,412,427,385,437,374,441,378,432,388,417,414,407,447,398,529,399,626,405,731,412,836,414,934,406,1018,397,1053,384,1081,363,1103,338,1119"/>
<area shape="poly" title=" " alt="" coords="306,1155,362,1192,431,1230,446,1237,444,1242,428,1235,360,1197,303,1159"/>
<area shape="poly" title=" " alt="" coords="335,1114,359,1099,379,1078,388,1060,394,1037,400,979,396,839,394,767,396,701,405,646,415,624,428,607,444,596,468,588,528,578,599,575,667,576,667,581,599,580,529,583,469,593,447,601,431,611,419,627,411,647,401,701,399,767,402,839,405,979,400,1038,393,1062,384,1081,363,1103,338,1119"/>
<area shape="poly" title=" " alt="" coords="312,1114,428,1053,449,1045,451,1050,430,1058,315,1119"/>
<area shape="poly" title=" " alt="" coords="336,1115,360,1099,379,1078,396,1041,407,996,413,943,415,884,409,753,397,612,386,472,382,342,386,283,394,231,407,186,427,150,431,145,435,149,432,153,412,188,399,232,391,284,388,342,391,472,403,612,415,752,420,884,419,943,412,997,401,1043,384,1081,364,1103,339,1119"/>
<area shape="poly" title=" " alt="" coords="283,1157,326,1429,384,1843,396,2082,409,2228,419,2280,431,2307,454,2325,476,2336,498,2342,520,2342,567,2331,620,2307,637,2293,644,2276,652,2258,668,2239,708,2215,711,2220,671,2243,657,2260,649,2278,641,2296,623,2311,569,2336,521,2348,498,2347,474,2341,451,2329,427,2311,414,2282,404,2229,391,2083,379,1844,321,1430,278,1157"/>
<area shape="poly" title=" " alt="" coords="283,1157,299,1275,331,1448,352,1538,376,1620,402,1688,416,1714,431,1734,453,1754,474,1767,495,1774,517,1778,565,1783,622,1797,712,1832,710,1837,621,1802,564,1788,516,1783,494,1779,472,1771,450,1758,427,1737,412,1717,397,1690,371,1622,347,1539,326,1449,294,1275,277,1158"/>
<area shape="poly" title=" " alt="" coords="336,1115,360,1099,379,1078,395,1043,406,1000,411,950,413,894,407,769,395,635,385,502,382,379,385,324,394,275,407,233,427,199,437,190,441,193,431,203,412,235,399,276,391,324,387,379,390,502,401,635,412,769,418,894,416,950,411,1001,400,1045,384,1081,364,1103,339,1119"/>
<area shape="poly" title=" " alt="" coords="363,1114,456,1093,457,1098,364,1119"/>
<area shape="poly" title=" " alt="" coords="326,1114,354,1098,379,1078,395,1055,401,1033,409,1010,428,988,438,981,441,986,431,992,414,1013,407,1034,400,1057,383,1081,357,1103,329,1119"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a571d7379fd52446338ef4fa7e700cb42" title="Compute the angular endpoints for two planes for each block mode." alt="" coords="433,786,617,826"/>
<area shape="poly" title=" " alt="" coords="333,1114,358,1099,379,1078,396,1046,403,1016,403,987,400,958,397,929,398,899,407,869,427,838,432,833,436,836,431,841,412,871,403,900,402,928,405,957,409,987,409,1017,401,1048,383,1081,362,1103,336,1119"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a09a63c4b1e684f7ff9d88e5717b10bfb" title="Compute the error of a decimated weight set for 2 planes." alt="" coords="442,2098,609,2138"/>
<area shape="poly" title=" " alt="" coords="283,1157,359,1665,405,1952,422,2046,432,2085,434,2088,430,2091,427,2087,417,2047,400,1953,354,1666,278,1158"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a52d3985007cfc83025661e0347bc00cc" title="Compute ideal endpoint colors and weights for 2 planes of weights." alt="" coords="449,442,602,482"/>
<area shape="poly" title=" " alt="" coords="335,1114,360,1099,379,1078,390,1055,398,1027,405,956,404,873,399,784,395,696,395,613,405,544,414,515,427,493,435,484,439,488,431,496,419,518,410,545,401,614,400,696,404,784,409,873,410,956,403,1028,395,1057,384,1081,363,1103,338,1119"/>
<area shape="rect" href="astcenc__decompress__symbolic_8cpp.html#a9c23f8373c9f5e708650b7c8e038b182" title="Compute the error between a symbolic block and the original input data." alt="" coords="441,1117,610,1157"/>
<area shape="poly" title=" " alt="" coords="364,1134,427,1134,427,1140,364,1140"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a7a73021370668773ad84b7a2f6285023" title="Functions to compress a symbolic block." alt="" coords="465,1411,586,1436"/>
<area shape="poly" title=" " alt="" coords="286,1156,305,1204,335,1266,377,1332,402,1363,431,1389,454,1403,451,1408,428,1394,399,1366,373,1336,330,1269,300,1206,281,1158"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#afb3c455470bef24f48d7815bb78bb569" title="For a given 2 plane weight set recompute the endpoint colors." alt="" coords="446,1640,605,1680"/>
<area shape="poly" title=" " alt="" coords="280,1157,285,1242,293,1301,306,1367,325,1436,351,1504,386,1569,431,1626,436,1630,433,1634,427,1629,382,1572,346,1507,319,1438,300,1368,288,1302,280,1242,275,1157"/>
<area shape="poly" title=" " alt="" coords="617,789,667,780,668,786,618,794"/>
<area shape="poly" title=" " alt="" coords="609,2110,709,2103,709,2108,609,2115"/>
<area shape="poly" title=" " alt="" coords="601,441,660,426,661,431,603,446"/>
<area shape="poly" title=" " alt="" coords="595,480,623,492,674,522,719,553,716,557,671,526,620,497,593,485"/>
<area shape="poly" title=" " alt="" coords="605,1115,619,1103,635,1080,641,1057,639,1010,637,986,639,963,648,941,668,920,696,904,727,895,759,892,792,893,854,906,904,924,902,929,852,911,791,899,759,897,728,900,698,909,671,924,653,944,644,964,643,986,645,1010,646,1058,640,1083,623,1107,608,1119"/>
<area shape="poly" title=" " alt="" coords="606,1115,619,1103,643,1065,651,1028,650,991,643,954,637,916,635,878,644,839,667,799,670,796,674,800,671,802,649,841,641,879,642,916,649,953,655,990,657,1028,648,1067,623,1107,610,1119"/>
<area shape="poly" title=" " alt="" coords="610,1124,667,1124,728,1131,788,1149,816,1163,842,1182,871,1213,894,1251,911,1291,923,1333,936,1412,939,1472,933,1472,931,1412,918,1334,906,1293,889,1253,867,1217,838,1186,814,1168,786,1154,727,1136,666,1129,610,1129"/>
<area shape="poly" title=" " alt="" coords="602,1155,623,1167,663,1203,697,1245,744,1320,739,1323,693,1248,659,1207,620,1171,599,1159"/>
<area shape="poly" title=" " alt="" coords="606,1115,619,1103,638,1074,647,1046,647,1018,644,990,641,961,641,931,649,901,667,870,678,859,682,863,671,873,654,903,647,932,646,961,650,989,653,1018,652,1047,643,1077,623,1107,609,1119"/>
<area shape="poly" title=" " alt="" coords="587,1432,875,1484,874,1490,586,1437"/>
<area shape="poly" title=" " alt="" coords="564,1408,620,1389,712,1358,714,1363,622,1394,565,1413"/>
<area shape="poly" title=" " alt="" coords="592,1677,623,1696,639,1716,647,1735,654,1752,671,1768,699,1782,729,1793,791,1804,851,1807,899,1804,900,1810,851,1812,791,1810,727,1798,697,1787,668,1772,650,1755,642,1737,634,1718,620,1700,589,1682"/>
<area shape="poly" title=" " alt="" coords="605,1662,660,1661,720,1655,781,1640,839,1616,866,1596,888,1571,921,1522,925,1524,893,1575,869,1600,841,1621,783,1645,721,1660,660,1667,605,1668"/>
<area shape="poly" title=" " alt="" coords="603,1639,619,1626,639,1595,647,1565,647,1534,643,1504,639,1473,639,1441,647,1409,667,1376,688,1360,712,1350,714,1355,690,1365,671,1380,652,1411,644,1442,644,1472,649,1503,653,1534,653,1565,644,1597,623,1629,607,1643"/>
<area shape="poly" title=" " alt="" coords="597,1678,623,1696,636,1712,643,1728,648,1759,653,1789,659,1804,671,1819,687,1831,705,1839,703,1844,684,1835,667,1823,655,1807,648,1791,643,1760,638,1730,631,1715,619,1700,594,1682"/>
<area shape="poly" title=" " alt="" coords="278,1855,323,1583,353,1379,379,1169,382,1027,384,791,388,668,396,559,408,475,417,446,427,428,443,417,465,409,522,399,589,396,656,396,656,402,589,401,523,405,467,414,446,422,431,432,422,448,414,476,401,559,394,668,390,791,387,1027,384,1169,358,1380,328,1584,284,1856"/>
<area shape="poly" title=" " alt="" coords="339,1870,703,1853,703,1858,340,1875"/>
<area shape="rect" href="astcenc__averages__and__directions_8cpp.html#a73936e5cf41b74f2b8d9b137a9d64253" title="Compute averages and dominant directions for each partition in a 3 component texture." alt="" coords="445,1970,606,2010"/>
<area shape="poly" title=" " alt="" coords="341,1892,383,1912,398,1923,407,1935,417,1945,431,1956,442,1962,440,1967,428,1960,413,1949,403,1938,394,1927,380,1916,339,1897"/>
<area shape="rect" href="astcenc__averages__and__directions_8cpp.html#a00407861c2f0e767b64b1cb1bb7a27b6" title="Compute averages and dominant directions for each partition in a 4 component texture." alt="" coords="445,2162,606,2202"/>
<area shape="poly" title=" " alt="" coords="341,1885,364,1896,383,1912,403,1943,411,1974,411,2004,408,2033,404,2062,404,2091,412,2119,431,2149,436,2153,432,2156,427,2152,407,2121,399,2091,399,2062,402,2032,406,2003,406,1974,398,1945,379,1916,361,1900,339,1890"/>
<area shape="rect" href="astcenc__averages__and__directions_8cpp.html#ac4a96475fb0074ef3fd0f08ea66de75e" title="Compute the RGB error for uncorrelated and same chroma projections." alt="" coords="434,2479,617,2504"/>
<area shape="poly" title=" " alt="" coords="317,1893,353,1921,370,1938,384,1958,392,1980,398,2006,404,2069,400,2219,399,2295,401,2366,411,2424,420,2448,431,2466,434,2469,430,2472,427,2469,415,2450,406,2426,396,2366,393,2295,395,2219,398,2069,393,2007,387,1982,379,1961,366,1942,350,1925,314,1898"/>
<area shape="rect" href="astcenc__averages__and__directions_8cpp.html#a2dec702033b002eaf4090eb47ce4ad21" title="Compute the RGBA error for uncorrelated and same chroma projections." alt="" coords="430,2430,621,2455"/>
<area shape="poly" title=" " alt="" coords="317,1894,353,1921,370,1938,384,1958,407,2014,416,2066,415,2113,409,2159,403,2205,401,2252,409,2303,432,2358,459,2393,492,2420,488,2424,455,2397,427,2361,404,2304,396,2252,398,2204,404,2159,410,2113,411,2066,402,2016,379,1961,366,1942,349,1925,313,1898"/>
<area shape="rect" href="astcenc__find__best__partitioning_8cpp.html#a89e88da4b6a389046d10b859ba68a118" title="Use k&#45;means clustering to compute a partition ordering for a block.." alt="" coords="436,1906,615,1946"/>
<area shape="poly" title=" " alt="" coords="340,1886,423,1903,422,1908,339,1891"/>
<area shape="poly" title=" " alt="" coords="607,2002,841,2052,897,2067,896,2072,839,2057,606,2007"/>
<area shape="poly" title=" " alt="" coords="605,1970,619,1957,632,1935,640,1908,649,1839,648,1757,643,1669,638,1580,638,1498,646,1428,654,1400,667,1377,687,1359,712,1350,714,1355,690,1364,671,1380,659,1402,651,1429,643,1498,644,1580,649,1669,654,1757,654,1839,646,1909,637,1937,623,1960,608,1974"/>
<area shape="poly" title=" " alt="" coords="606,2172,718,2155,779,2142,839,2125,901,2098,903,2103,841,2130,780,2147,719,2160,606,2177"/>
<area shape="poly" title=" " alt="" coords="604,2162,619,2149,636,2120,647,2083,653,2040,656,1991,653,1883,644,1765,634,1647,631,1538,633,1489,640,1445,651,1407,667,1377,687,1359,712,1350,714,1355,690,1364,671,1380,656,1409,645,1446,639,1489,636,1538,640,1647,649,1765,658,1882,661,1992,658,2040,652,2084,640,2122,623,2152,608,2166"/>
<area shape="poly" title=" " alt="" coords="571,2502,723,2546,721,2551,569,2507"/>
<area shape="poly" title=" " alt="" coords="572,2502,631,2513,702,2517,739,2514,775,2506,808,2493,838,2474,858,2448,875,2408,890,2359,903,2303,921,2192,930,2107,936,2108,926,2192,908,2304,895,2360,880,2410,863,2451,842,2477,811,2498,776,2511,740,2519,702,2522,631,2518,571,2507"/>
<area shape="poly" title=" " alt="" coords="616,2480,674,2468,735,2447,791,2416,816,2396,838,2373,852,2346,862,2310,873,2221,879,2128,885,2057,928,1828,933,1829,891,2057,884,2128,879,2221,867,2311,857,2348,842,2376,820,2400,794,2421,737,2452,676,2473,618,2486"/>
<area shape="poly" title=" " alt="" coords="607,2477,619,2466,634,2443,646,2414,660,2341,665,2254,664,2159,658,1972,659,1891,667,1828,685,1764,705,1712,748,1626,793,1542,816,1490,837,1428,873,1294,900,1161,930,967,935,967,905,1162,878,1295,843,1430,821,1492,798,1544,753,1629,710,1714,690,1766,672,1829,664,1892,663,1972,670,2159,671,2254,665,2342,651,2415,639,2445,623,2469,610,2481"/>
<area shape="poly" title=" " alt="" coords="605,2477,619,2466,644,2431,655,2398,656,2365,652,2331,648,2296,645,2259,651,2220,667,2178,692,2146,721,2121,724,2125,696,2149,672,2181,656,2221,651,2259,653,2295,658,2330,662,2364,660,2399,648,2434,623,2469,609,2481"/>
<area shape="poly" title=" " alt="" coords="598,2476,620,2465,636,2451,644,2436,653,2419,667,2402,692,2382,716,2370,761,2354,801,2335,820,2319,838,2296,856,2250,868,2190,875,2120,878,2044,880,1894,885,1778,908,1634,928,1524,933,1525,913,1635,891,1778,885,1894,884,2044,881,2120,874,2191,861,2252,842,2298,824,2323,804,2339,763,2359,718,2374,695,2387,671,2405,657,2422,649,2438,640,2454,623,2470,600,2481"/>
<area shape="poly" title=" " alt="" coords="603,2477,620,2465,633,2451,642,2436,650,2407,654,2374,667,2336,701,2275,734,2226,738,2229,706,2278,672,2338,659,2375,655,2408,647,2438,638,2454,623,2470,606,2481"/>
<area shape="poly" title=" " alt="" coords="588,2452,622,2465,682,2499,730,2535,726,2539,679,2504,620,2470,586,2457"/>
<area shape="poly" title=" " alt="" coords="612,2427,669,2413,729,2392,787,2362,838,2322,859,2297,877,2269,904,2210,920,2152,929,2107,935,2108,926,2154,909,2212,882,2272,863,2300,842,2325,790,2366,731,2397,670,2418,614,2432"/>
<area shape="poly" title=" " alt="" coords="581,2427,620,2408,635,2394,643,2379,652,2363,668,2347,692,2331,716,2322,759,2313,800,2302,819,2291,838,2272,878,2084,928,1828,933,1829,883,2085,842,2274,822,2295,802,2307,760,2319,717,2327,695,2336,671,2351,656,2366,648,2381,639,2397,623,2412,583,2432"/>
<area shape="poly" title=" " alt="" coords="534,2428,577,2360,601,2314,619,2264,626,2206,629,2107,631,1841,633,1702,639,1578,649,1482,657,1449,667,1427,687,1408,708,1399,730,1396,753,1396,797,1394,818,1386,838,1370,857,1339,874,1294,901,1178,920,1057,930,967,936,968,925,1058,906,1179,879,1295,862,1341,842,1373,821,1391,798,1399,753,1401,731,1401,710,1404,690,1413,672,1430,662,1450,655,1483,644,1578,639,1702,636,1841,634,2107,631,2206,624,2265,605,2316,582,2363,538,2431"/>
<area shape="poly" title=" " alt="" coords="592,2427,607,2419,619,2408,639,2380,648,2353,651,2327,649,2300,647,2243,653,2212,667,2178,692,2146,720,2121,724,2125,696,2150,672,2181,658,2213,652,2243,655,2300,656,2327,653,2354,644,2383,623,2412,610,2423,595,2432"/>
<area shape="poly" title=" " alt="" coords="588,2427,620,2408,631,2394,638,2380,643,2351,648,2320,655,2305,667,2290,690,2273,713,2264,758,2260,779,2259,800,2255,819,2245,838,2227,857,2190,869,2139,876,2077,879,2011,881,1879,885,1778,908,1634,928,1524,933,1525,913,1635,891,1778,886,1880,885,2011,881,2078,874,2139,862,2192,842,2230,822,2250,801,2260,780,2265,758,2266,714,2270,693,2278,671,2293,659,2308,653,2322,648,2351,643,2382,636,2397,623,2412,591,2432"/>
<area shape="poly" title=" " alt="" coords="591,2427,619,2408,635,2387,642,2366,643,2323,644,2279,652,2257,667,2234,687,2219,709,2209,711,2214,689,2223,671,2237,656,2259,649,2280,648,2323,647,2367,639,2390,623,2412,594,2432"/>
<area shape="poly" title=" " alt="" coords="588,1904,703,1866,704,1872,589,1909"/>
<area shape="poly" title=" " alt="" coords="589,2224,620,2212,671,2174,728,2122,731,2126,674,2178,623,2217,591,2229"/>
<area shape="poly" title=" " alt="" coords="602,2224,620,2212,635,2194,645,2176,653,2141,656,2101,667,2053,705,1955,739,1877,744,1879,710,1957,672,2055,661,2102,659,2141,650,2178,640,2197,623,2216,605,2229"/>
<area shape="poly" title=" " alt="" coords="588,848,620,836,644,818,668,799,681,792,683,797,671,803,647,822,623,841,590,853"/>
<area shape="poly" title=" " alt="" coords="599,851,666,842,667,847,599,856"/>
<area shape="poly" title=" " alt="" coords="553,874,591,901,609,919,624,940,639,979,649,1030,660,1152,665,1276,672,1371,715,1637,751,1826,746,1827,710,1638,667,1372,660,1276,655,1152,644,1031,633,980,619,942,605,922,587,905,550,879"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_a579b9a2ceeecda2fb3abe63b8311df1c_icgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_a579b9a2ceeecda2fb3abe63b8311df1c_icgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_a579b9a2ceeecda2fb3abe63b8311df1c_icgraph" id="aastcenc__compress__symbolic_8cpp_a579b9a2ceeecda2fb3abe63b8311df1c_icgraph">
<area shape="rect" title="Compress an image block into a physical block." alt="" coords="849,5,967,31"/>
<area shape="rect" href="astcenc__entry_8cpp.html#acbecfd32ce013d567cac16a877c20f42" title="Compress an image, after any preflight has completed." alt="" coords="680,5,801,31"/>
<area shape="poly" title=" " alt="" coords="835,21,802,21,802,15,835,15"/>
<area shape="rect" href="astcenc__entry_8cpp.html#ad762aa055eed75156c99309158a40e90" title="Compress an image." alt="" coords="457,5,632,31"/>
<area shape="poly" title=" " alt="" coords="666,21,632,21,632,15,666,15"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="444,17,409,17,255,17,207,18,207,13,255,11,409,11,444,12"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa" title="Runner callback function for a compression worker thread." alt="" coords="255,26,409,66"/>
<area shape="poly" title=" " alt="" coords="444,34,410,38,409,33,443,29"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
<area shape="poly" title=" " alt="" coords="241,34,206,29,207,23,242,29"/>
</map>
</div>

</div>
</div>
<a id="af5f518a15600c71922e69267dea2db99" name="af5f518a15600c71922e69267dea2db99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5f518a15600c71922e69267dea2db99">&#9670;&#160;</a></span>compress_symbolic_block_for_partition_1plane()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float compress_symbolic_block_for_partition_1plane </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structastcenc__config.html">astcenc_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>config</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structblock__size__descriptor.html">block_size_descriptor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>bsd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structimage__block.html">image_block</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>blk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>only_always</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>tune_errorval_threshold</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>partition_count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>partition_index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsymbolic__compressed__block.html">symbolic_compressed_block</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>scb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcompression__working__buffers.html">compression_working_buffers</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>tmpbuf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>quant_limit</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compress a block using a chosen partitioning and 1 plane of weights. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">config</td><td>The compressor configuration. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">bsd</td><td>The block size information. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">blk</td><td>The image block color data to compress. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">only_always</td><td>True if we only use "always" percentile block modes. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">tune_errorval_threshold</td><td>The error value threshold. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">partition_count</td><td>The partition count. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">partition_index</td><td>The partition index if <code>partition_count</code> is 2-4. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">scb</td><td>The symbolic compressed block output. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tmpbuf</td><td>The quantized weights for plane 1. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenc__compress__symbolic_8cpp_source.html">astcenc_compress_symbolic.cpp</a> 파일의 <a class="el" href="astcenc__compress__symbolic_8cpp_source.html#l00353">353</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  364</span>  {</div>
<div class="line"><span class="lineno">  365</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(partition_count &gt; 0);</div>
<div class="line"><span class="lineno">  366</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(config.<a class="code hl_variable" href="structastcenc__config.html#a1985670205a89fcb92ba1995e6645c5e">tune_candidate_limit</a> &gt; 0);</div>
<div class="line"><span class="lineno">  367</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(config.<a class="code hl_variable" href="structastcenc__config.html#ae756e28f11bd615a23198c4ae2b1e90f">tune_refinement_limit</a> &gt; 0);</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordtype">int</span> max_weight_quant = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_enumvalue" href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75a740abcbb2f534ff0c4cf49053e7f507b">QUANT_32</a>), quant_limit);</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>    <span class="keyword">auto</span> compute_difference = &amp;<a class="code hl_function" href="astcenc__decompress__symbolic_8cpp.html#a0541138e65930f39f6caba517e76dfe4">compute_symbolic_block_difference_1plane</a>;</div>
<div class="line"><span class="lineno">  372</span>    <span class="keywordflow">if</span> ((partition_count == 1) &amp;&amp; !(config.<a class="code hl_variable" href="structastcenc__config.html#a7175e94561eeb3b83f8bf4549306cf95">flags</a> &amp; <a class="code hl_variable" href="astcenc_8h.html#a95967a4184547bc51b3f993c8a3b9643">ASTCENC_FLG_MAP_RGBM</a>))</div>
<div class="line"><span class="lineno">  373</span>    {</div>
<div class="line"><span class="lineno">  374</span>        compute_difference = &amp;<a class="code hl_function" href="astcenc__decompress__symbolic_8cpp.html#aff8e27acd948a9cc5631d99c80906b2f">compute_symbolic_block_difference_1plane_1partition</a>;</div>
<div class="line"><span class="lineno">  375</span>    }</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pi = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#aa9dfc7b23c8b5e6c71e956e2e39fff74">get_partition_info</a>(partition_count, partition_index);</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>    <span class="comment">// Compute ideal weights and endpoint colors, with no quantization or decimation</span></div>
<div class="line"><span class="lineno">  380</span>    <a class="code hl_struct" href="structendpoints__and__weights.html">endpoints_and_weights</a>&amp; ei = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a070cf57364cb941b7561a4e1e1822d2e">ei1</a>;</div>
<div class="line"><span class="lineno">  381</span>    <a class="code hl_function" href="astcenc__ideal__endpoints__and__weights_8cpp.html#afa8cab65d4b6f0cbece52eec38aed523">compute_ideal_colors_and_weights_1plane</a>(blk, pi, ei);</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>    <span class="comment">// Compute ideal weights and endpoint colors for every decimation</span></div>
<div class="line"><span class="lineno">  384</span>    <span class="keywordtype">float</span>* dec_weights_ideal = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a6278293acd8d45aa6f45dcfe9e4be422">dec_weights_ideal</a>;</div>
<div class="line"><span class="lineno">  385</span>    uint8_t* dec_weights_uquant = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a33ad8f5749b317b98c354041cacbc403">dec_weights_uquant</a>;</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>    <span class="comment">// For each decimation mode, compute an ideal set of weights with no quantization</span></div>
<div class="line"><span class="lineno">  388</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_decimation_modes = only_always ? bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#ab9f7c875237ad395d3795506d934dba1">decimation_mode_count_always</a></div>
<div class="line"><span class="lineno">  389</span>                                                    : bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a5344a8e95df2fe4fe2b396b669993140">decimation_mode_count_selected</a>;</div>
<div class="line"><span class="lineno">  390</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(max_decimation_modes &gt; 0);</div>
<div class="line"><span class="lineno">  391</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; max_decimation_modes; i++)</div>
<div class="line"><span class="lineno">  392</span>    {</div>
<div class="line"><span class="lineno">  393</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; dm = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#aef601af82748a14a8826e94f5e1b4184">get_decimation_mode</a>(i);</div>
<div class="line"><span class="lineno">  394</span>        <span class="keywordflow">if</span> (!dm.is_ref_1plane(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75">quant_method</a><span class="keyword">&gt;</span>(max_weight_quant)))</div>
<div class="line"><span class="lineno">  395</span>        {</div>
<div class="line"><span class="lineno">  396</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  397</span>        }</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; di = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d">get_decimation_info</a>(i);</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>        <a class="code hl_function" href="astcenc__ideal__endpoints__and__weights_8cpp.html#ae1b4e922c67d5349fc849709ca08178f">compute_ideal_weights_for_decimation</a>(</div>
<div class="line"><span class="lineno">  402</span>            ei,</div>
<div class="line"><span class="lineno">  403</span>            di,</div>
<div class="line"><span class="lineno">  404</span>            dec_weights_ideal + i * <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a>);</div>
<div class="line"><span class="lineno">  405</span>    }</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>    <span class="comment">// Compute maximum colors for the endpoints and ideal weights, then for each endpoint and ideal</span></div>
<div class="line"><span class="lineno">  408</span>    <span class="comment">// weight pair, compute the smallest weight that will result in a color value greater than 1</span></div>
<div class="line"><span class="lineno">  409</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> min_ep(10.0f);</div>
<div class="line"><span class="lineno">  410</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; partition_count; i++)</div>
<div class="line"><span class="lineno">  411</span>    {</div>
<div class="line"><span class="lineno">  412</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> ep = (<a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(1.0f) - ei.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>.<a class="code hl_variable" href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpt0</a>[i]) / (ei.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>.<a class="code hl_variable" href="structendpoints.html#a89660f637b681eaea32e7db6b9d9def2">endpt1</a>[i] - ei.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>.<a class="code hl_variable" href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpt0</a>[i]);</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>        <a class="code hl_struct" href="structvmask4.html">vmask4</a> use_ep = (ep &gt; <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(0.5f)) &amp; (ep &lt; min_ep);</div>
<div class="line"><span class="lineno">  415</span>        min_ep = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(min_ep, ep, use_ep);</div>
<div class="line"><span class="lineno">  416</span>    }</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    <span class="keywordtype">float</span> min_wt_cutoff = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a5618d81f875c0158284ccc9923d83dab">hmin_s</a>(min_ep);</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>    <span class="comment">// For each mode, use the angular method to compute a shift</span></div>
<div class="line"><span class="lineno">  421</span>    <a class="code hl_function" href="astcenc__internal_8h.html#af1b151d02c3af92eb002dc7172111233">compute_angular_endpoints_1plane</a>(</div>
<div class="line"><span class="lineno">  422</span>        only_always, bsd, dec_weights_ideal, max_weight_quant, tmpbuf);</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>    <span class="keywordtype">float</span>* weight_low_value = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a504af2e4e5a146cd80b52c1b6c93b782">weight_low_value1</a>;</div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordtype">float</span>* weight_high_value = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#adebd00f87afd06131aa6e22e12effae2">weight_high_value1</a>;</div>
<div class="line"><span class="lineno">  426</span>    int8_t* qwt_bitcounts = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a755d631272dfdaeff4f628360595e323">qwt_bitcounts</a>;</div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordtype">float</span>* qwt_errors = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a2b2c71dd6e70f03c1ce362589cf1ffda">qwt_errors</a>;</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>    <span class="comment">// For each mode (which specifies a decimation and a quantization):</span></div>
<div class="line"><span class="lineno">  430</span>    <span class="comment">//     * Compute number of bits needed for the quantized weights</span></div>
<div class="line"><span class="lineno">  431</span>    <span class="comment">//     * Generate an optimized set of quantized weights</span></div>
<div class="line"><span class="lineno">  432</span>    <span class="comment">//     * Compute quantization errors for the mode</span></div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>    <span class="keyword">static</span> <span class="keyword">const</span> int8_t free_bits_for_partition_count[4] {</div>
<div class="line"><span class="lineno">  436</span>        115 - 4, 111 - 4 - <a class="code hl_variable" href="astcenc__internal_8h.html#a51d28e088618b740724c2dd2862fa1f7">PARTITION_INDEX_BITS</a>, 108 - 4 - <a class="code hl_variable" href="astcenc__internal_8h.html#a51d28e088618b740724c2dd2862fa1f7">PARTITION_INDEX_BITS</a>, 105 - 4 - <a class="code hl_variable" href="astcenc__internal_8h.html#a51d28e088618b740724c2dd2862fa1f7">PARTITION_INDEX_BITS</a></div>
<div class="line"><span class="lineno">  437</span>    };</div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_block_modes = only_always ? bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#ae2f4cd561ea1618e1c44f9afbead038f">block_mode_count_1plane_always</a></div>
<div class="line"><span class="lineno">  440</span>                                               : bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a2f96c6e4d1e35b4bac8778c474c69bb1">block_mode_count_1plane_selected</a>;</div>
<div class="line"><span class="lineno">  441</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(max_block_modes &gt; 0);</div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; max_block_modes; i++)</div>
<div class="line"><span class="lineno">  443</span>    {</div>
<div class="line"><span class="lineno">  444</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structblock__mode.html">block_mode</a>&amp; bm = bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a82d0bf7e49df4683f0823b4951fb77f8">block_modes</a>[i];</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>        <span class="keywordflow">if</span> (bm.<a class="code hl_variable" href="structblock__mode.html#a57910e5bd3d21447cdea6c7789723a86">quant_mode</a> &gt; max_weight_quant)</div>
<div class="line"><span class="lineno">  447</span>        {</div>
<div class="line"><span class="lineno">  448</span>            qwt_errors[i] = 1e38f;</div>
<div class="line"><span class="lineno">  449</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  450</span>        }</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>        assert(!bm.<a class="code hl_variable" href="structblock__mode.html#a78b282103d0a8bee2b07c0da075a3dc4">is_dual_plane</a>);</div>
<div class="line"><span class="lineno">  453</span>        <span class="keywordtype">int</span> bitcount = free_bits_for_partition_count[partition_count - 1] - bm.<a class="code hl_variable" href="structblock__mode.html#a22f24a51f0c67cad40998833545e675e">weight_bits</a>;</div>
<div class="line"><span class="lineno">  454</span>        <span class="keywordflow">if</span> (bitcount &lt;= 0)</div>
<div class="line"><span class="lineno">  455</span>        {</div>
<div class="line"><span class="lineno">  456</span>            qwt_errors[i] = 1e38f;</div>
<div class="line"><span class="lineno">  457</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  458</span>        }</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>        <span class="keywordflow">if</span> (weight_high_value[i] &gt; 1.02f * min_wt_cutoff)</div>
<div class="line"><span class="lineno">  461</span>        {</div>
<div class="line"><span class="lineno">  462</span>            weight_high_value[i] = 1.0f;</div>
<div class="line"><span class="lineno">  463</span>        }</div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span>        <span class="keywordtype">int</span> <a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a> = bm.<a class="code hl_variable" href="structblock__mode.html#aaf9846117d40406d5e84508f429cf949">decimation_mode</a>;</div>
<div class="line"><span class="lineno">  466</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; di = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d">get_decimation_info</a>(<a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a>);</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>        qwt_bitcounts[i] = <span class="keyword">static_cast&lt;</span>int8_t<span class="keyword">&gt;</span>(bitcount);</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>        <a class="code hl_define" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> <span class="keywordtype">float</span> dec_weights_uquantf[<a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a>];</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>        <span class="comment">// Generate the optimized set of weights for the weight mode</span></div>
<div class="line"><span class="lineno">  473</span>        <a class="code hl_function" href="astcenc__ideal__endpoints__and__weights_8cpp.html#af42cf444db5f16e2ed4fb642acf81f4a">compute_quantized_weights_for_decimation</a>(</div>
<div class="line"><span class="lineno">  474</span>            di,</div>
<div class="line"><span class="lineno">  475</span>            weight_low_value[i], weight_high_value[i],</div>
<div class="line"><span class="lineno">  476</span>            dec_weights_ideal + <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a> * <a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a>,</div>
<div class="line"><span class="lineno">  477</span>            dec_weights_uquantf,</div>
<div class="line"><span class="lineno">  478</span>            dec_weights_uquant + <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a> * i,</div>
<div class="line"><span class="lineno">  479</span>            bm.<a class="code hl_function" href="structblock__mode.html#a760578093fb16da4932bc26d2d5c1837">get_weight_quant_mode</a>());</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>        <span class="comment">// Compute weight quantization errors for the block mode</span></div>
<div class="line"><span class="lineno">  482</span>        qwt_errors[i] = <a class="code hl_function" href="astcenc__ideal__endpoints__and__weights_8cpp.html#aa4077e6408620eefddd42b7e159dc93c">compute_error_of_weight_set_1plane</a>(</div>
<div class="line"><span class="lineno">  483</span>            ei,</div>
<div class="line"><span class="lineno">  484</span>            di,</div>
<div class="line"><span class="lineno">  485</span>            dec_weights_uquantf);</div>
<div class="line"><span class="lineno">  486</span>    }</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>    <span class="comment">// Decide the optimal combination of color endpoint encodings and weight encodings</span></div>
<div class="line"><span class="lineno">  489</span>    uint8_t partition_format_specifiers[<a class="code hl_variable" href="astcenc__internal_8h.html#a0f2aba262e65e945037f4ed5dda3f2f9">TUNE_MAX_TRIAL_CANDIDATES</a>][<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>];</div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordtype">int</span> block_mode_index[<a class="code hl_variable" href="astcenc__internal_8h.html#a0f2aba262e65e945037f4ed5dda3f2f9">TUNE_MAX_TRIAL_CANDIDATES</a>];</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>    <a class="code hl_enumeration" href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75">quant_method</a> color_quant_level[<a class="code hl_variable" href="astcenc__internal_8h.html#a0f2aba262e65e945037f4ed5dda3f2f9">TUNE_MAX_TRIAL_CANDIDATES</a>];</div>
<div class="line"><span class="lineno">  493</span>    <a class="code hl_enumeration" href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75">quant_method</a> color_quant_level_mod[<a class="code hl_variable" href="astcenc__internal_8h.html#a0f2aba262e65e945037f4ed5dda3f2f9">TUNE_MAX_TRIAL_CANDIDATES</a>];</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> candidate_count = <a class="code hl_function" href="astcenc__internal_8h.html#a81c7b68e8c7b82a5ff718f21bd4f3c35">compute_ideal_endpoint_formats</a>(</div>
<div class="line"><span class="lineno">  496</span>        pi, blk, ei.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>, qwt_bitcounts, qwt_errors,</div>
<div class="line"><span class="lineno">  497</span>        config.<a class="code hl_variable" href="structastcenc__config.html#a1985670205a89fcb92ba1995e6645c5e">tune_candidate_limit</a>, 0, max_block_modes,</div>
<div class="line"><span class="lineno">  498</span>        partition_format_specifiers, block_mode_index,</div>
<div class="line"><span class="lineno">  499</span>        color_quant_level, color_quant_level_mod, tmpbuf);</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>    <span class="comment">// Iterate over the N believed-to-be-best modes to find out which one is actually best</span></div>
<div class="line"><span class="lineno">  502</span>    <span class="keywordtype">float</span> best_errorval_in_mode = <a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a>;</div>
<div class="line"><span class="lineno">  503</span>    <span class="keywordtype">float</span> best_errorval_in_scb = scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4ed0a59a081d379e15d29e29f761d105">errorval</a>;</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; candidate_count; i++)</div>
<div class="line"><span class="lineno">  506</span>    {</div>
<div class="line"><span class="lineno">  507</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#ae040957570ced46496efbca3b734cffa">TRACE_NODE</a>(node0, <span class="stringliteral">&quot;candidate&quot;</span>);</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> bm_packed_index = block_mode_index[i];</div>
<div class="line"><span class="lineno">  510</span>        assert(bm_packed_index &gt;= 0 &amp;&amp; bm_packed_index &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a2f96c6e4d1e35b4bac8778c474c69bb1">block_mode_count_1plane_selected</a>));</div>
<div class="line"><span class="lineno">  511</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structblock__mode.html">block_mode</a>&amp; qw_bm = bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a82d0bf7e49df4683f0823b4951fb77f8">block_modes</a>[bm_packed_index];</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>        <span class="keywordtype">int</span> <a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a> = qw_bm.<a class="code hl_variable" href="structblock__mode.html#aaf9846117d40406d5e84508f429cf949">decimation_mode</a>;</div>
<div class="line"><span class="lineno">  514</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; di = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d">get_decimation_info</a>(<a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a>);</div>
<div class="line"><span class="lineno">  515</span>        <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(di.weight_count &gt; 0);</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;weight_x&quot;</span>, di.weight_x);</div>
<div class="line"><span class="lineno">  518</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;weight_y&quot;</span>, di.weight_y);</div>
<div class="line"><span class="lineno">  519</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;weight_z&quot;</span>, di.weight_z);</div>
<div class="line"><span class="lineno">  520</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;weight_quant&quot;</span>, qw_bm.<a class="code hl_variable" href="structblock__mode.html#a57910e5bd3d21447cdea6c7789723a86">quant_mode</a>);</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>        <span class="comment">// Recompute the ideal color endpoints before storing them</span></div>
<div class="line"><span class="lineno">  523</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> rgbs_colors[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>];</div>
<div class="line"><span class="lineno">  524</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> rgbo_colors[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>];</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>        <a class="code hl_struct" href="structsymbolic__compressed__block.html">symbolic_compressed_block</a> workscb;</div>
<div class="line"><span class="lineno">  527</span>        <a class="code hl_struct" href="structendpoints.html">endpoints</a> workep = ei.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>;</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>        uint8_t* u8_weight_src = dec_weights_uquant + <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a> * bm_packed_index;</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; di.weight_count; j++)</div>
<div class="line"><span class="lineno">  532</span>        {</div>
<div class="line"><span class="lineno">  533</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4c7260c4aa675446ffcb37f09e92dd0b">weights</a>[j] = u8_weight_src[j];</div>
<div class="line"><span class="lineno">  534</span>        }</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l = 0; l &lt; config.<a class="code hl_variable" href="structastcenc__config.html#ae756e28f11bd615a23198c4ae2b1e90f">tune_refinement_limit</a>; l++)</div>
<div class="line"><span class="lineno">  537</span>        {</div>
<div class="line"><span class="lineno">  538</span>            <a class="code hl_function" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a02bcad94240678ee727ccf2f0fbfb5d3">recompute_ideal_colors_1plane</a>(</div>
<div class="line"><span class="lineno">  539</span>                blk, pi, di, workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4c7260c4aa675446ffcb37f09e92dd0b">weights</a>,</div>
<div class="line"><span class="lineno">  540</span>                workep, rgbs_colors, rgbo_colors);</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>            <span class="comment">// Quantize the chosen color, tracking if worth trying the mod value</span></div>
<div class="line"><span class="lineno">  543</span>            <span class="keywordtype">bool</span> all_same = color_quant_level[i] != color_quant_level_mod[i];</div>
<div class="line"><span class="lineno">  544</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; partition_count; j++)</div>
<div class="line"><span class="lineno">  545</span>            {</div>
<div class="line"><span class="lineno">  546</span>                workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a21dc79a4f976f6aa78d564576dcdde60">color_formats</a>[j] = <a class="code hl_function" href="astcenc__color__quantize_8cpp.html#ab9f9b564c57688af1f8fc1d9e000af81">pack_color_endpoints</a>(</div>
<div class="line"><span class="lineno">  547</span>                    workep.<a class="code hl_variable" href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpt0</a>[j],</div>
<div class="line"><span class="lineno">  548</span>                    workep.<a class="code hl_variable" href="structendpoints.html#a89660f637b681eaea32e7db6b9d9def2">endpt1</a>[j],</div>
<div class="line"><span class="lineno">  549</span>                    rgbs_colors[j],</div>
<div class="line"><span class="lineno">  550</span>                    rgbo_colors[j],</div>
<div class="line"><span class="lineno">  551</span>                    partition_format_specifiers[i][j],</div>
<div class="line"><span class="lineno">  552</span>                    workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ad539bb907ce654690e8a89cf62196f9c">color_values</a>[j],</div>
<div class="line"><span class="lineno">  553</span>                    color_quant_level[i]);</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>                all_same = all_same &amp;&amp; workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a21dc79a4f976f6aa78d564576dcdde60">color_formats</a>[j] == workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a21dc79a4f976f6aa78d564576dcdde60">color_formats</a>[0];</div>
<div class="line"><span class="lineno">  556</span>            }</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>            <span class="comment">// If all the color endpoint modes are the same, we get a few more bits to store colors;</span></div>
<div class="line"><span class="lineno">  559</span>            <span class="comment">// let&#39;s see if we can take advantage of this: requantize all the colors and see if the</span></div>
<div class="line"><span class="lineno">  560</span>            <span class="comment">// endpoint modes remain the same.</span></div>
<div class="line"><span class="lineno">  561</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a2ad392432ebf011c42f7a72f49000d13">color_formats_matched</a> = 0;</div>
<div class="line"><span class="lineno">  562</span>            <span class="keywordflow">if</span> (partition_count &gt;= 2 &amp;&amp; all_same)</div>
<div class="line"><span class="lineno">  563</span>            {</div>
<div class="line"><span class="lineno">  564</span>                uint8_t colorvals[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>][8];</div>
<div class="line"><span class="lineno">  565</span>                uint8_t color_formats_mod[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>] { 0 };</div>
<div class="line"><span class="lineno">  566</span>                <span class="keywordtype">bool</span> all_same_mod = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  567</span>                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; partition_count; j++)</div>
<div class="line"><span class="lineno">  568</span>                {</div>
<div class="line"><span class="lineno">  569</span>                    color_formats_mod[j] = <a class="code hl_function" href="astcenc__color__quantize_8cpp.html#ab9f9b564c57688af1f8fc1d9e000af81">pack_color_endpoints</a>(</div>
<div class="line"><span class="lineno">  570</span>                        workep.<a class="code hl_variable" href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpt0</a>[j],</div>
<div class="line"><span class="lineno">  571</span>                        workep.<a class="code hl_variable" href="structendpoints.html#a89660f637b681eaea32e7db6b9d9def2">endpt1</a>[j],</div>
<div class="line"><span class="lineno">  572</span>                        rgbs_colors[j],</div>
<div class="line"><span class="lineno">  573</span>                        rgbo_colors[j],</div>
<div class="line"><span class="lineno">  574</span>                        partition_format_specifiers[i][j],</div>
<div class="line"><span class="lineno">  575</span>                        colorvals[j],</div>
<div class="line"><span class="lineno">  576</span>                        color_quant_level_mod[i]);</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>                    <span class="comment">// Early out as soon as it&#39;s no longer possible to use mod</span></div>
<div class="line"><span class="lineno">  579</span>                    <span class="keywordflow">if</span> (color_formats_mod[j] != color_formats_mod[0])</div>
<div class="line"><span class="lineno">  580</span>                    {</div>
<div class="line"><span class="lineno">  581</span>                        all_same_mod = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  582</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  583</span>                    }</div>
<div class="line"><span class="lineno">  584</span>                }</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>                <span class="keywordflow">if</span> (all_same_mod)</div>
<div class="line"><span class="lineno">  587</span>                {</div>
<div class="line"><span class="lineno">  588</span>                    workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a2ad392432ebf011c42f7a72f49000d13">color_formats_matched</a> = 1;</div>
<div class="line"><span class="lineno">  589</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>; j++)</div>
<div class="line"><span class="lineno">  590</span>                    {</div>
<div class="line"><span class="lineno">  591</span>                        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; 8; k++)</div>
<div class="line"><span class="lineno">  592</span>                        {</div>
<div class="line"><span class="lineno">  593</span>                            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ad539bb907ce654690e8a89cf62196f9c">color_values</a>[j][k] = colorvals[j][k];</div>
<div class="line"><span class="lineno">  594</span>                        }</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>                        workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a21dc79a4f976f6aa78d564576dcdde60">color_formats</a>[j] = color_formats_mod[j];</div>
<div class="line"><span class="lineno">  597</span>                    }</div>
<div class="line"><span class="lineno">  598</span>                }</div>
<div class="line"><span class="lineno">  599</span>            }</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>            <span class="comment">// Store header fields</span></div>
<div class="line"><span class="lineno">  602</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a6ac68bba1c38975e28fb3e67e974c551">partition_count</a> = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(partition_count);</div>
<div class="line"><span class="lineno">  603</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a17d42e08747747b32c650a48fe1b5b6e">partition_index</a> = <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(partition_index);</div>
<div class="line"><span class="lineno">  604</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a49f36c368c0d976f230c76c33aed2b9d">plane2_component</a> = -1;</div>
<div class="line"><span class="lineno">  605</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a449d8e3e4362348f1bd588eecaaa12c9">quant_mode</a> = workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a2ad392432ebf011c42f7a72f49000d13">color_formats_matched</a> ? color_quant_level_mod[i] : color_quant_level[i];</div>
<div class="line"><span class="lineno">  606</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a7ba54ca805498286add2148b3b86546b">block_mode</a> = qw_bm.<a class="code hl_variable" href="structblock__mode.html#a045cae1a970db63e55e66df097c84863">mode_index</a>;</div>
<div class="line"><span class="lineno">  607</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ac4c50ed170ee1fdbf19d288af74a8909">block_type</a> = <a class="code hl_variable" href="astcenc__internal_8h.html#a62b894529f4eb2badc6656c94ca1c003">SYM_BTYPE_NONCONST</a>;</div>
<div class="line"><span class="lineno">  608</span> </div>
<div class="line"><span class="lineno">  609</span>            <span class="comment">// Pre-realign test</span></div>
<div class="line"><span class="lineno">  610</span>            <span class="keywordflow">if</span> (l == 0)</div>
<div class="line"><span class="lineno">  611</span>            {</div>
<div class="line"><span class="lineno">  612</span>                <span class="keywordtype">float</span> errorval = compute_difference(config, bsd, workscb, blk);</div>
<div class="line"><span class="lineno">  613</span>                <span class="keywordflow">if</span> (errorval == -<a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a>)</div>
<div class="line"><span class="lineno">  614</span>                {</div>
<div class="line"><span class="lineno">  615</span>                    errorval = -errorval;</div>
<div class="line"><span class="lineno">  616</span>                    workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ac4c50ed170ee1fdbf19d288af74a8909">block_type</a> = <a class="code hl_variable" href="astcenc__internal_8h.html#abbaedf878cfb7c16b1d10b72128b5ee7">SYM_BTYPE_ERROR</a>;</div>
<div class="line"><span class="lineno">  617</span>                }</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>                <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;error_prerealign&quot;</span>, errorval);</div>
<div class="line"><span class="lineno">  620</span>                best_errorval_in_mode = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(errorval, best_errorval_in_mode);</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>                <span class="comment">// Average refinement improvement is 3.5% per iteration (allow 4.5%), but the first</span></div>
<div class="line"><span class="lineno">  623</span>                <span class="comment">// iteration can help more so we give it a extra 8% leeway. Use this knowledge to</span></div>
<div class="line"><span class="lineno">  624</span>                <span class="comment">// drive a heuristic to skip blocks that are unlikely to catch up with the best</span></div>
<div class="line"><span class="lineno">  625</span>                <span class="comment">// block we have already.</span></div>
<div class="line"><span class="lineno">  626</span>                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iters_remaining = config.<a class="code hl_variable" href="structastcenc__config.html#ae756e28f11bd615a23198c4ae2b1e90f">tune_refinement_limit</a> - l;</div>
<div class="line"><span class="lineno">  627</span>                <span class="keywordtype">float</span> threshold = (0.045f * <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(iters_remaining)) + 1.08f;</div>
<div class="line"><span class="lineno">  628</span>                <span class="keywordflow">if</span> (errorval &gt; (threshold * best_errorval_in_scb))</div>
<div class="line"><span class="lineno">  629</span>                {</div>
<div class="line"><span class="lineno">  630</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  631</span>                }</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>                <span class="keywordflow">if</span> (errorval &lt; best_errorval_in_scb)</div>
<div class="line"><span class="lineno">  634</span>                {</div>
<div class="line"><span class="lineno">  635</span>                    best_errorval_in_scb = errorval;</div>
<div class="line"><span class="lineno">  636</span>                    workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4ed0a59a081d379e15d29e29f761d105">errorval</a> = errorval;</div>
<div class="line"><span class="lineno">  637</span>                    scb = workscb;</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>                    <span class="keywordflow">if</span> (errorval &lt; tune_errorval_threshold)</div>
<div class="line"><span class="lineno">  640</span>                    {</div>
<div class="line"><span class="lineno">  641</span>                        <span class="comment">// Skip remaining candidates - this is &quot;good enough&quot;</span></div>
<div class="line"><span class="lineno">  642</span>                        i = candidate_count;</div>
<div class="line"><span class="lineno">  643</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  644</span>                    }</div>
<div class="line"><span class="lineno">  645</span>                }</div>
<div class="line"><span class="lineno">  646</span>            }</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>            <span class="keywordtype">bool</span> adjustments;</div>
<div class="line"><span class="lineno">  649</span>            <span class="keywordflow">if</span> (di.weight_count != bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a0df466b2eda6958f2e5f8a4f147367e4">texel_count</a>)</div>
<div class="line"><span class="lineno">  650</span>            {</div>
<div class="line"><span class="lineno">  651</span>                adjustments = <a class="code hl_function" href="#af80747ee43aa6fda579161376205c294">realign_weights_decimated</a>(</div>
<div class="line"><span class="lineno">  652</span>                    config.<a class="code hl_variable" href="structastcenc__config.html#ada0c6b7d066d933aa09a0c5e189a7856">profile</a>, bsd, blk, workscb);</div>
<div class="line"><span class="lineno">  653</span>            }</div>
<div class="line"><span class="lineno">  654</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  655</span>            {</div>
<div class="line"><span class="lineno">  656</span>                adjustments = <a class="code hl_function" href="#a91e5fa530ba0e492b85132e416a5ddf4">realign_weights_undecimated</a>(</div>
<div class="line"><span class="lineno">  657</span>                    config.<a class="code hl_variable" href="structastcenc__config.html#ada0c6b7d066d933aa09a0c5e189a7856">profile</a>, bsd, blk, workscb);</div>
<div class="line"><span class="lineno">  658</span>            }</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>            <span class="comment">// Post-realign test</span></div>
<div class="line"><span class="lineno">  661</span>            <span class="keywordtype">float</span> errorval = compute_difference(config, bsd, workscb, blk);</div>
<div class="line"><span class="lineno">  662</span>            <span class="keywordflow">if</span> (errorval == -<a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a>)</div>
<div class="line"><span class="lineno">  663</span>            {</div>
<div class="line"><span class="lineno">  664</span>                errorval = -errorval;</div>
<div class="line"><span class="lineno">  665</span>                workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ac4c50ed170ee1fdbf19d288af74a8909">block_type</a> = <a class="code hl_variable" href="astcenc__internal_8h.html#abbaedf878cfb7c16b1d10b72128b5ee7">SYM_BTYPE_ERROR</a>;</div>
<div class="line"><span class="lineno">  666</span>            }</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;error_postrealign&quot;</span>, errorval);</div>
<div class="line"><span class="lineno">  669</span>            best_errorval_in_mode = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(errorval, best_errorval_in_mode);</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>            <span class="comment">// Average refinement improvement is 3.5% per iteration, so skip blocks that are</span></div>
<div class="line"><span class="lineno">  672</span>            <span class="comment">// unlikely to catch up with the best block we have already. Assume a 4.5% per step to</span></div>
<div class="line"><span class="lineno">  673</span>            <span class="comment">// give benefit of the doubt ...</span></div>
<div class="line"><span class="lineno">  674</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iters_remaining = config.<a class="code hl_variable" href="structastcenc__config.html#ae756e28f11bd615a23198c4ae2b1e90f">tune_refinement_limit</a> - 1 - l;</div>
<div class="line"><span class="lineno">  675</span>            <span class="keywordtype">float</span> threshold = (0.045f * <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(iters_remaining)) + 1.0f;</div>
<div class="line"><span class="lineno">  676</span>            <span class="keywordflow">if</span> (errorval &gt; (threshold * best_errorval_in_scb))</div>
<div class="line"><span class="lineno">  677</span>            {</div>
<div class="line"><span class="lineno">  678</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  679</span>            }</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>            <span class="keywordflow">if</span> (errorval &lt; best_errorval_in_scb)</div>
<div class="line"><span class="lineno">  682</span>            {</div>
<div class="line"><span class="lineno">  683</span>                best_errorval_in_scb = errorval;</div>
<div class="line"><span class="lineno">  684</span>                workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4ed0a59a081d379e15d29e29f761d105">errorval</a> = errorval;</div>
<div class="line"><span class="lineno">  685</span>                scb = workscb;</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>                <span class="keywordflow">if</span> (errorval &lt; tune_errorval_threshold)</div>
<div class="line"><span class="lineno">  688</span>                {</div>
<div class="line"><span class="lineno">  689</span>                    <span class="comment">// Skip remaining candidates - this is &quot;good enough&quot;</span></div>
<div class="line"><span class="lineno">  690</span>                    i = candidate_count;</div>
<div class="line"><span class="lineno">  691</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  692</span>                }</div>
<div class="line"><span class="lineno">  693</span>            }</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>            <span class="keywordflow">if</span> (!adjustments)</div>
<div class="line"><span class="lineno">  696</span>            {</div>
<div class="line"><span class="lineno">  697</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  698</span>            }</div>
<div class="line"><span class="lineno">  699</span>        }</div>
<div class="line"><span class="lineno">  700</span>    }</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>    <span class="keywordflow">return</span> best_errorval_in_mode;</div>
<div class="line"><span class="lineno">  703</span>}</div>
<div class="ttc" id="aastcenc_8h_html_a95967a4184547bc51b3f993c8a3b9643"><div class="ttname"><a href="astcenc_8h.html#a95967a4184547bc51b3f993c8a3b9643">ASTCENC_FLG_MAP_RGBM</a></div><div class="ttdeci">static const unsigned int ASTCENC_FLG_MAP_RGBM</div><div class="ttdoc">Enable RGBM map compression.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00391">astcenc.h:391</a></div></div>
<div class="ttc" id="aastcenc__color__quantize_8cpp_html_ab9f9b564c57688af1f8fc1d9e000af81"><div class="ttname"><a href="astcenc__color__quantize_8cpp.html#ab9f9b564c57688af1f8fc1d9e000af81">pack_color_endpoints</a></div><div class="ttdeci">uint8_t pack_color_endpoints(vfloat4 color0, vfloat4 color1, vfloat4 rgbs_color, vfloat4 rgbo_color, int format, uint8_t *output, quant_method quant_level)</div><div class="ttdoc">Pack a single pair of color endpoints as effectively as possible.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__color__quantize_8cpp_source.html#l01909">astcenc_color_quantize.cpp:1909</a></div></div>
<div class="ttc" id="aastcenc__compress__symbolic_8cpp_html_a91e5fa530ba0e492b85132e416a5ddf4"><div class="ttname"><a href="#a91e5fa530ba0e492b85132e416a5ddf4">realign_weights_undecimated</a></div><div class="ttdeci">static bool realign_weights_undecimated(astcenc_profile decode_mode, const block_size_descriptor &amp;bsd, const image_block &amp;blk, symbolic_compressed_block &amp;scb)</div><div class="ttdoc">Attempt to improve weights given a chosen configuration.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__compress__symbolic_8cpp_source.html#l00069">astcenc_compress_symbolic.cpp:69</a></div></div>
<div class="ttc" id="aastcenc__compress__symbolic_8cpp_html_af80747ee43aa6fda579161376205c294"><div class="ttname"><a href="#af80747ee43aa6fda579161376205c294">realign_weights_decimated</a></div><div class="ttdeci">static bool realign_weights_decimated(astcenc_profile decode_mode, const block_size_descriptor &amp;bsd, const image_block &amp;blk, symbolic_compressed_block &amp;scb)</div><div class="ttdoc">Attempt to improve weights given a chosen configuration.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__compress__symbolic_8cpp_source.html#l00188">astcenc_compress_symbolic.cpp:188</a></div></div>
<div class="ttc" id="aastcenc__decompress__symbolic_8cpp_html_a0541138e65930f39f6caba517e76dfe4"><div class="ttname"><a href="astcenc__decompress__symbolic_8cpp.html#a0541138e65930f39f6caba517e76dfe4">compute_symbolic_block_difference_1plane</a></div><div class="ttdeci">float compute_symbolic_block_difference_1plane(const astcenc_config &amp;config, const block_size_descriptor &amp;bsd, const symbolic_compressed_block &amp;scb, const image_block &amp;blk)</div><div class="ttdoc">Compute the error between a symbolic block and the original input data.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__decompress__symbolic_8cpp_source.html#l00418">astcenc_decompress_symbolic.cpp:418</a></div></div>
<div class="ttc" id="aastcenc__decompress__symbolic_8cpp_html_aff8e27acd948a9cc5631d99c80906b2f"><div class="ttname"><a href="astcenc__decompress__symbolic_8cpp.html#aff8e27acd948a9cc5631d99c80906b2f">compute_symbolic_block_difference_1plane_1partition</a></div><div class="ttdeci">float compute_symbolic_block_difference_1plane_1partition(const astcenc_config &amp;config, const block_size_descriptor &amp;bsd, const symbolic_compressed_block &amp;scb, const image_block &amp;blk)</div><div class="ttdoc">Compute the error between a symbolic block and the original input data.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__decompress__symbolic_8cpp_source.html#l00516">astcenc_decompress_symbolic.cpp:516</a></div></div>
<div class="ttc" id="aastcenc__ideal__endpoints__and__weights_8cpp_html_a02bcad94240678ee727ccf2f0fbfb5d3"><div class="ttname"><a href="astcenc__ideal__endpoints__and__weights_8cpp.html#a02bcad94240678ee727ccf2f0fbfb5d3">recompute_ideal_colors_1plane</a></div><div class="ttdeci">void recompute_ideal_colors_1plane(const image_block &amp;blk, const partition_info &amp;pi, const decimation_info &amp;di, const uint8_t *dec_weights_uquant, endpoints &amp;ep, vfloat4 rgbs_vectors[BLOCK_MAX_PARTITIONS], vfloat4 rgbo_vectors[BLOCK_MAX_PARTITIONS])</div><div class="ttdoc">For a given 1 plane weight set recompute the endpoint colors.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__ideal__endpoints__and__weights_8cpp_source.html#l01157">astcenc_ideal_endpoints_and_weights.cpp:1157</a></div></div>
<div class="ttc" id="aastcenc__ideal__endpoints__and__weights_8cpp_html_aa4077e6408620eefddd42b7e159dc93c"><div class="ttname"><a href="astcenc__ideal__endpoints__and__weights_8cpp.html#aa4077e6408620eefddd42b7e159dc93c">compute_error_of_weight_set_1plane</a></div><div class="ttdeci">float compute_error_of_weight_set_1plane(const endpoints_and_weights &amp;eai, const decimation_info &amp;di, const float *dec_weight_quant_uvalue)</div><div class="ttdoc">Compute the error of a decimated weight set for 1 plane.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__ideal__endpoints__and__weights_8cpp_source.html#l00688">astcenc_ideal_endpoints_and_weights.cpp:688</a></div></div>
<div class="ttc" id="aastcenc__ideal__endpoints__and__weights_8cpp_html_ae1b4e922c67d5349fc849709ca08178f"><div class="ttname"><a href="astcenc__ideal__endpoints__and__weights_8cpp.html#ae1b4e922c67d5349fc849709ca08178f">compute_ideal_weights_for_decimation</a></div><div class="ttdeci">void compute_ideal_weights_for_decimation(const endpoints_and_weights &amp;ei, const decimation_info &amp;di, float *dec_weight_ideal_value)</div><div class="ttdoc">Compute the optimal unquantized weights for a decimation table.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__ideal__endpoints__and__weights_8cpp_source.html#l00845">astcenc_ideal_endpoints_and_weights.cpp:845</a></div></div>
<div class="ttc" id="aastcenc__ideal__endpoints__and__weights_8cpp_html_af42cf444db5f16e2ed4fb642acf81f4a"><div class="ttname"><a href="astcenc__ideal__endpoints__and__weights_8cpp.html#af42cf444db5f16e2ed4fb642acf81f4a">compute_quantized_weights_for_decimation</a></div><div class="ttdeci">void compute_quantized_weights_for_decimation(const decimation_info &amp;di, float low_bound, float high_bound, const float *dec_weight_ideal_value, float *weight_set_out, uint8_t *quantized_weight_set, quant_method quant_level)</div><div class="ttdoc">Compute the optimal quantized weights for a decimation table.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__ideal__endpoints__and__weights_8cpp_source.html#l00980">astcenc_ideal_endpoints_and_weights.cpp:980</a></div></div>
<div class="ttc" id="aastcenc__ideal__endpoints__and__weights_8cpp_html_afa8cab65d4b6f0cbece52eec38aed523"><div class="ttname"><a href="astcenc__ideal__endpoints__and__weights_8cpp.html#afa8cab65d4b6f0cbece52eec38aed523">compute_ideal_colors_and_weights_1plane</a></div><div class="ttdeci">void compute_ideal_colors_and_weights_1plane(const image_block &amp;blk, const partition_info &amp;pi, endpoints_and_weights &amp;ei)</div><div class="ttdoc">Compute ideal endpoint colors and weights for 1 plane of weights.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__ideal__endpoints__and__weights_8cpp_source.html#l00612">astcenc_ideal_endpoints_and_weights.cpp:612</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a0f2aba262e65e945037f4ed5dda3f2f9"><div class="ttname"><a href="astcenc__internal_8h.html#a0f2aba262e65e945037f4ed5dda3f2f9">TUNE_MAX_TRIAL_CANDIDATES</a></div><div class="ttdeci">static constexpr unsigned int TUNE_MAX_TRIAL_CANDIDATES</div><div class="ttdoc">The maximum number of candidate encodings tested for each encoding mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00132">astcenc_internal.h:132</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a2cce51c3362aa0b5040437ac0e7f8969"><div class="ttname"><a href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a></div><div class="ttdeci">#define promise(cond)</div><div class="ttdoc">Functions and data declarations.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00061">astcenc_internal.h:61</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a51d28e088618b740724c2dd2862fa1f7"><div class="ttname"><a href="astcenc__internal_8h.html#a51d28e088618b740724c2dd2862fa1f7">PARTITION_INDEX_BITS</a></div><div class="ttdeci">static constexpr unsigned int PARTITION_INDEX_BITS</div><div class="ttdoc">The number of partition index bits supported by the ASTC format .</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00105">astcenc_internal.h:105</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a62b894529f4eb2badc6656c94ca1c003"><div class="ttname"><a href="astcenc__internal_8h.html#a62b894529f4eb2badc6656c94ca1c003">SYM_BTYPE_NONCONST</a></div><div class="ttdeci">static constexpr uint8_t SYM_BTYPE_NONCONST</div><div class="ttdoc">The block is a normal non-constant color block.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01063">astcenc_internal.h:1063</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a806a5b8001942a6fa06d788ffec45a75"><div class="ttname"><a href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75">quant_method</a></div><div class="ttdeci">quant_method</div><div class="ttdoc">The ASTC quantization methods.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00203">astcenc_internal.h:204</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a81c7b68e8c7b82a5ff718f21bd4f3c35"><div class="ttname"><a href="astcenc__internal_8h.html#a81c7b68e8c7b82a5ff718f21bd4f3c35">compute_ideal_endpoint_formats</a></div><div class="ttdeci">unsigned int compute_ideal_endpoint_formats(const partition_info &amp;pi, const image_block &amp;blk, const endpoints &amp;ep, const int8_t *qwt_bitcounts, const float *qwt_errors, unsigned int tune_candidate_limit, unsigned int start_block_mode, unsigned int end_block_mode, uint8_t partition_format_specifiers[TUNE_MAX_TRIAL_CANDIDATES][BLOCK_MAX_PARTITIONS], int block_mode[TUNE_MAX_TRIAL_CANDIDATES], quant_method quant_level[TUNE_MAX_TRIAL_CANDIDATES], quant_method quant_level_mod[TUNE_MAX_TRIAL_CANDIDATES], compression_working_buffers &amp;tmpbuf)</div><div class="ttdoc">Identify, for each mode, which set of color endpoint produces the best result.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__pick__best__endpoint__format_8cpp_source.html#l01090">astcenc_pick_best_endpoint_format.cpp:1090</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_aa069d5d400baafe528bce4778aba6c45"><div class="ttname"><a href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a></div><div class="ttdeci">static constexpr unsigned int BLOCK_MAX_WEIGHTS</div><div class="ttdoc">The maximum number of weights a block can support.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00087">astcenc_internal.h:87</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_af1b151d02c3af92eb002dc7172111233"><div class="ttname"><a href="astcenc__internal_8h.html#af1b151d02c3af92eb002dc7172111233">compute_angular_endpoints_1plane</a></div><div class="ttdeci">void compute_angular_endpoints_1plane(bool only_always, const block_size_descriptor &amp;bsd, const float *dec_weight_ideal_value, unsigned int max_weight_quant, compression_working_buffers &amp;tmpbuf)</div><div class="ttdoc">Compute the angular endpoints for one plane for each block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__weight__align_8cpp_source.html#l00337">astcenc_weight_align.cpp:337</a></div></div>
<div class="ttc" id="aastcenc__mathlib_8h_html_adf60643d2894fb1d3cd00d4f907186e8"><div class="ttname"><a href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a></div><div class="ttdeci">#define ASTCENC_ALIGNAS</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00091">astcenc_mathlib.h:91</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a5618d81f875c0158284ccc9923d83dab"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a5618d81f875c0158284ccc9923d83dab">hmin_s</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE float hmin_s(vfloat8 a)</div><div class="ttdoc">Return the horizontal minimum of a vector.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00858">astcenc_vecmathlib_avx2_8.h:858</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a844ab5b69b84569f033be33bf5fb9fbc"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vint8 select(vint8 a, vint8 b, vmask8 cond)</div><div class="ttdoc">Return lanes from b if cond is set, else a.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00602">astcenc_vecmathlib_avx2_8.h:602</a></div></div>
<div class="ttc" id="astructastcenc__config_html_a1985670205a89fcb92ba1995e6645c5e"><div class="ttname"><a href="structastcenc__config.html#a1985670205a89fcb92ba1995e6645c5e">astcenc_config::tune_candidate_limit</a></div><div class="ttdeci">unsigned int tune_candidate_limit</div><div class="ttdoc">The number of trial candidates per mode search (-candidatelimit).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00504">astcenc.h:504</a></div></div>
<div class="ttc" id="astructastcenc__config_html_a7175e94561eeb3b83f8bf4549306cf95"><div class="ttname"><a href="structastcenc__config.html#a7175e94561eeb3b83f8bf4549306cf95">astcenc_config::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdoc">The set of set flags.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00421">astcenc.h:421</a></div></div>
<div class="ttc" id="astructastcenc__config_html_ae756e28f11bd615a23198c4ae2b1e90f"><div class="ttname"><a href="structastcenc__config.html#ae756e28f11bd615a23198c4ae2b1e90f">astcenc_config::tune_refinement_limit</a></div><div class="ttdeci">unsigned int tune_refinement_limit</div><div class="ttdoc">The maximum iterative refinements applied (-refinementlimit).</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00497">astcenc.h:497</a></div></div>
<div class="ttc" id="astructblock__mode_html"><div class="ttname"><a href="structblock__mode.html">block_mode</a></div><div class="ttdoc">Metadata for single block mode for a specific block size.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00415">astcenc_internal.h:416</a></div></div>
<div class="ttc" id="astructblock__mode_html_a045cae1a970db63e55e66df097c84863"><div class="ttname"><a href="structblock__mode.html#a045cae1a970db63e55e66df097c84863">block_mode::mode_index</a></div><div class="ttdeci">uint16_t mode_index</div><div class="ttdoc">The block mode index in the ASTC encoded form.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00418">astcenc_internal.h:418</a></div></div>
<div class="ttc" id="astructblock__mode_html_a22f24a51f0c67cad40998833545e675e"><div class="ttname"><a href="structblock__mode.html#a22f24a51f0c67cad40998833545e675e">block_mode::weight_bits</a></div><div class="ttdeci">uint8_t weight_bits</div><div class="ttdoc">The weight quantization used by this block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00427">astcenc_internal.h:427</a></div></div>
<div class="ttc" id="astructblock__mode_html_a57910e5bd3d21447cdea6c7789723a86"><div class="ttname"><a href="structblock__mode.html#a57910e5bd3d21447cdea6c7789723a86">block_mode::quant_mode</a></div><div class="ttdeci">uint8_t quant_mode</div><div class="ttdoc">The weight quantization used by this block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00424">astcenc_internal.h:424</a></div></div>
<div class="ttc" id="astructblock__mode_html_a78b282103d0a8bee2b07c0da075a3dc4"><div class="ttname"><a href="structblock__mode.html#a78b282103d0a8bee2b07c0da075a3dc4">block_mode::is_dual_plane</a></div><div class="ttdeci">uint8_t is_dual_plane</div><div class="ttdoc">Is a dual weight plane used by this block mode?</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00430">astcenc_internal.h:430</a></div></div>
<div class="ttc" id="astructblock__mode_html_aaf9846117d40406d5e84508f429cf949"><div class="ttname"><a href="structblock__mode.html#aaf9846117d40406d5e84508f429cf949">block_mode::decimation_mode</a></div><div class="ttdeci">uint8_t decimation_mode</div><div class="ttdoc">The decimation mode index in the compressor reindexed list.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00421">astcenc_internal.h:421</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_a2f96c6e4d1e35b4bac8778c474c69bb1"><div class="ttname"><a href="structblock__size__descriptor.html#a2f96c6e4d1e35b4bac8778c474c69bb1">block_size_descriptor::block_mode_count_1plane_selected</a></div><div class="ttdeci">unsigned int block_mode_count_1plane_selected</div><div class="ttdoc">The number of stored block modes for active 1 plane encodings.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00565">astcenc_internal.h:565</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_a5344a8e95df2fe4fe2b396b669993140"><div class="ttname"><a href="structblock__size__descriptor.html#a5344a8e95df2fe4fe2b396b669993140">block_size_descriptor::decimation_mode_count_selected</a></div><div class="ttdeci">unsigned int decimation_mode_count_selected</div><div class="ttdoc">The number of stored decimation modes for selected encodings.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00552">astcenc_internal.h:552</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_a688445f2f90b13188372d812baf8e02d"><div class="ttname"><a href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d">block_size_descriptor::get_decimation_info</a></div><div class="ttdeci">const decimation_info &amp; get_decimation_info(unsigned int decimation_mode) const</div><div class="ttdoc">Get the decimation info structure for index decimation_mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00670">astcenc_internal.h:670</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_a82d0bf7e49df4683f0823b4951fb77f8"><div class="ttname"><a href="structblock__size__descriptor.html#a82d0bf7e49df4683f0823b4951fb77f8">block_size_descriptor::block_modes</a></div><div class="ttdeci">block_mode block_modes[WEIGHTS_MAX_BLOCK_MODES]</div><div class="ttdoc">The active block modes, stored in low indices.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00589">astcenc_internal.h:589</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_aa9dfc7b23c8b5e6c71e956e2e39fff74"><div class="ttname"><a href="structblock__size__descriptor.html#aa9dfc7b23c8b5e6c71e956e2e39fff74">block_size_descriptor::get_partition_info</a></div><div class="ttdeci">const partition_info &amp; get_partition_info(unsigned int partition_count, unsigned int index) const</div><div class="ttdoc">Get the partition info structure for a given partition count and seed.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00700">astcenc_internal.h:700</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_ab9f7c875237ad395d3795506d934dba1"><div class="ttname"><a href="structblock__size__descriptor.html#ab9f7c875237ad395d3795506d934dba1">block_size_descriptor::decimation_mode_count_always</a></div><div class="ttdeci">unsigned int decimation_mode_count_always</div><div class="ttdoc">The number of stored decimation modes which are &quot;always&quot; modes.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00549">astcenc_internal.h:549</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_ae2f4cd561ea1618e1c44f9afbead038f"><div class="ttname"><a href="structblock__size__descriptor.html#ae2f4cd561ea1618e1c44f9afbead038f">block_size_descriptor::block_mode_count_1plane_always</a></div><div class="ttdeci">unsigned int block_mode_count_1plane_always</div><div class="ttdoc">The number of stored block modes which are &quot;always&quot; modes.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00562">astcenc_internal.h:562</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_aef601af82748a14a8826e94f5e1b4184"><div class="ttname"><a href="structblock__size__descriptor.html#aef601af82748a14a8826e94f5e1b4184">block_size_descriptor::get_decimation_mode</a></div><div class="ttdeci">const decimation_mode &amp; get_decimation_mode(unsigned int decimation_mode) const</div><div class="ttdoc">Get the decimation mode structure for index decimation_mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00654">astcenc_internal.h:654</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a070cf57364cb941b7561a4e1e1822d2e"><div class="ttname"><a href="structcompression__working__buffers.html#a070cf57364cb941b7561a4e1e1822d2e">compression_working_buffers::ei1</a></div><div class="ttdeci">endpoints_and_weights ei1</div><div class="ttdoc">Ideal endpoints and weights for plane 1.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00944">astcenc_internal.h:944</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a2b2c71dd6e70f03c1ce362589cf1ffda"><div class="ttname"><a href="structcompression__working__buffers.html#a2b2c71dd6e70f03c1ce362589cf1ffda">compression_working_buffers::qwt_errors</a></div><div class="ttdeci">float qwt_errors[WEIGHTS_MAX_BLOCK_MODES]</div><div class="ttdoc">The cumulative error for quantized weights for each block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00982">astcenc_internal.h:982</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a33ad8f5749b317b98c354041cacbc403"><div class="ttname"><a href="structcompression__working__buffers.html#a33ad8f5749b317b98c354041cacbc403">compression_working_buffers::dec_weights_uquant</a></div><div class="ttdeci">ASTCENC_ALIGNAS uint8_t dec_weights_uquant[WEIGHTS_MAX_BLOCK_MODES *BLOCK_MAX_WEIGHTS]</div><div class="ttdoc">Decimated quantized weight values in the unquantized 0-64 range.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00964">astcenc_internal.h:964</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a504af2e4e5a146cd80b52c1b6c93b782"><div class="ttname"><a href="structcompression__working__buffers.html#a504af2e4e5a146cd80b52c1b6c93b782">compression_working_buffers::weight_low_value1</a></div><div class="ttdeci">float weight_low_value1[WEIGHTS_MAX_BLOCK_MODES]</div><div class="ttdoc">The low weight value in plane 1 for each block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00985">astcenc_internal.h:985</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a6278293acd8d45aa6f45dcfe9e4be422"><div class="ttname"><a href="structcompression__working__buffers.html#a6278293acd8d45aa6f45dcfe9e4be422">compression_working_buffers::dec_weights_ideal</a></div><div class="ttdeci">ASTCENC_ALIGNAS float dec_weights_ideal[WEIGHTS_MAX_DECIMATION_MODES *BLOCK_MAX_WEIGHTS]</div><div class="ttdoc">Decimated ideal weight values in the ~0-1 range.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00957">astcenc_internal.h:957</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a755d631272dfdaeff4f628360595e323"><div class="ttname"><a href="structcompression__working__buffers.html#a755d631272dfdaeff4f628360595e323">compression_working_buffers::qwt_bitcounts</a></div><div class="ttdeci">int8_t qwt_bitcounts[WEIGHTS_MAX_BLOCK_MODES]</div><div class="ttdoc">The total bit storage needed for quantized weights for each block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00979">astcenc_internal.h:979</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_adebd00f87afd06131aa6e22e12effae2"><div class="ttname"><a href="structcompression__working__buffers.html#adebd00f87afd06131aa6e22e12effae2">compression_working_buffers::weight_high_value1</a></div><div class="ttdeci">float weight_high_value1[WEIGHTS_MAX_BLOCK_MODES]</div><div class="ttdoc">The high weight value in plane 1 for each block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00988">astcenc_internal.h:988</a></div></div>
<div class="ttc" id="astructdecimation__mode_html"><div class="ttname"><a href="structdecimation__mode.html">decimation_mode</a></div><div class="ttdoc">Metadata for single decimation mode for a specific block size.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00446">astcenc_internal.h:447</a></div></div>
<div class="ttc" id="astructendpoints__and__weights_html"><div class="ttname"><a href="structendpoints__and__weights.html">endpoints_and_weights</a></div><div class="ttdoc">Data structure storing the color endpoints and weights.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00899">astcenc_internal.h:900</a></div></div>
<div class="ttc" id="astructendpoints__and__weights_html_a9b5a8f6a4d2bdbf5993eeba5593228c4"><div class="ttname"><a href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">endpoints_and_weights::ep</a></div><div class="ttdeci">endpoints ep</div><div class="ttdoc">The color endpoints.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00905">astcenc_internal.h:905</a></div></div>
<div class="ttc" id="astructendpoints_html"><div class="ttname"><a href="structendpoints.html">endpoints</a></div><div class="ttdoc">Data structure storing the color endpoints for a block.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00884">astcenc_internal.h:885</a></div></div>
<div class="ttc" id="astructendpoints_html_a2a084800ec101a03de2b8deb0d926263"><div class="ttname"><a href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpoints::endpt0</a></div><div class="ttdeci">vfloat4 endpt0[BLOCK_MAX_PARTITIONS]</div><div class="ttdoc">The colors for endpoint 0.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00890">astcenc_internal.h:890</a></div></div>
<div class="ttc" id="astructendpoints_html_a89660f637b681eaea32e7db6b9d9def2"><div class="ttname"><a href="structendpoints.html#a89660f637b681eaea32e7db6b9d9def2">endpoints::endpt1</a></div><div class="ttdeci">vfloat4 endpt1[BLOCK_MAX_PARTITIONS]</div><div class="ttdoc">The colors for endpoint 1.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00893">astcenc_internal.h:893</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html_a17d42e08747747b32c650a48fe1b5b6e"><div class="ttname"><a href="structsymbolic__compressed__block.html#a17d42e08747747b32c650a48fe1b5b6e">symbolic_compressed_block::partition_index</a></div><div class="ttdeci">uint16_t partition_index</div><div class="ttdoc">The partition index; valid for NONCONST blocks if 2 or more partitions.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01090">astcenc_internal.h:1090</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html_a21dc79a4f976f6aa78d564576dcdde60"><div class="ttname"><a href="structsymbolic__compressed__block.html#a21dc79a4f976f6aa78d564576dcdde60">symbolic_compressed_block::color_formats</a></div><div class="ttdeci">uint8_t color_formats[BLOCK_MAX_PARTITIONS]</div><div class="ttdoc">The endpoint color formats for each partition; valid for NONCONST blocks.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01093">astcenc_internal.h:1093</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html_a2ad392432ebf011c42f7a72f49000d13"><div class="ttname"><a href="structsymbolic__compressed__block.html#a2ad392432ebf011c42f7a72f49000d13">symbolic_compressed_block::color_formats_matched</a></div><div class="ttdeci">uint8_t color_formats_matched</div><div class="ttdoc">Non-zero if the color formats matched; valid for NONCONST blocks.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01081">astcenc_internal.h:1081</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html_a449d8e3e4362348f1bd588eecaaa12c9"><div class="ttname"><a href="structsymbolic__compressed__block.html#a449d8e3e4362348f1bd588eecaaa12c9">symbolic_compressed_block::quant_mode</a></div><div class="ttdeci">quant_method quant_mode</div><div class="ttdoc">The endpoint color quant mode; valid for NONCONST blocks.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01096">astcenc_internal.h:1096</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html_a49f36c368c0d976f230c76c33aed2b9d"><div class="ttname"><a href="structsymbolic__compressed__block.html#a49f36c368c0d976f230c76c33aed2b9d">symbolic_compressed_block::plane2_component</a></div><div class="ttdeci">int8_t plane2_component</div><div class="ttdoc">The plane 2 color component, or -1 if single plane; valid for NONCONST blocks.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01084">astcenc_internal.h:1084</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html_a4c7260c4aa675446ffcb37f09e92dd0b"><div class="ttname"><a href="structsymbolic__compressed__block.html#a4c7260c4aa675446ffcb37f09e92dd0b">symbolic_compressed_block::weights</a></div><div class="ttdeci">ASTCENC_ALIGNAS uint8_t weights[BLOCK_MAX_WEIGHTS]</div><div class="ttdoc">The quantized and decimated weights.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01118">astcenc_internal.h:1118</a></div></div>
<div class="ttc" id="astructsymbolic__compressed__block_html_ad539bb907ce654690e8a89cf62196f9c"><div class="ttname"><a href="structsymbolic__compressed__block.html#ad539bb907ce654690e8a89cf62196f9c">symbolic_compressed_block::color_values</a></div><div class="ttdeci">uint8_t color_values[BLOCK_MAX_PARTITIONS][8]</div><div class="ttdoc">The quantized endpoint color pairs; valid for NONCONST blocks.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01107">astcenc_internal.h:1107</a></div></div>
<div class="ttc" id="astructvmask4_html"><div class="ttname"><a href="structvmask4.html">vmask4</a></div><div class="ttdoc">Data type for 4-wide control plane masks.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00313">astcenc_vecmathlib_neon_4.h:314</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_af5f518a15600c71922e69267dea2db99_cgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_af5f518a15600c71922e69267dea2db99_cgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_af5f518a15600c71922e69267dea2db99_cgraph" id="aastcenc__compress__symbolic_8cpp_af5f518a15600c71922e69267dea2db99_cgraph">
<area shape="rect" title="Compress a block using a chosen partitioning and 1 plane of weights." alt="" coords="5,865,181,905"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#af1b151d02c3af92eb002dc7172111233" title="Compute the angular endpoints for one plane for each block mode." alt="" coords="229,376,413,416"/>
<area shape="poly" title=" " alt="" coords="98,864,144,720,182,623,227,526,260,472,293,426,297,429,264,475,232,528,187,625,149,722,103,866"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc" title="Return lanes from b if cond is set, else a." alt="" coords="747,366,804,391"/>
<area shape="poly" title=" " alt="" coords="94,865,108,749,135,578,153,490,174,409,199,342,213,316,227,296,275,247,324,210,373,184,425,168,478,164,533,170,592,186,655,214,698,269,759,353,755,356,694,272,652,218,590,192,532,175,478,169,426,173,376,189,327,215,279,251,231,299,217,319,204,344,179,411,158,491,140,579,113,749,99,865"/>
<area shape="rect" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d" title="Get the decimation info structure for index decimation_mode." alt="" coords="701,113,849,153"/>
<area shape="poly" title=" " alt="" coords="92,865,95,706,101,589,112,460,128,332,152,216,167,165,185,121,205,86,228,60,256,39,287,23,320,12,354,6,424,4,495,14,564,33,629,57,729,105,727,109,626,62,563,38,494,20,424,10,355,11,321,18,289,28,259,43,231,63,209,89,189,123,172,167,157,217,134,333,117,461,106,589,101,706,97,865"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#aa4077e6408620eefddd42b7e159dc93c" title="Compute the error of a decimated weight set for 1 plane." alt="" coords="474,865,641,905"/>
<area shape="poly" title=" " alt="" coords="181,883,461,883,461,888,181,888"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#afa8cab65d4b6f0cbece52eec38aed523" title="Compute ideal endpoint colors and weights for 1 plane of weights." alt="" coords="247,925,395,965"/>
<area shape="poly" title=" " alt="" coords="171,903,235,920,234,925,170,908"/>
<area shape="rect" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738" title="Return the minimum of two values." alt="" coords="737,1546,813,1571"/>
<area shape="poly" title=" " alt="" coords="101,905,140,1109,175,1264,219,1433,270,1602,329,1755,360,1821,393,1876,428,1920,463,1950,513,1976,537,1983,559,1986,582,1985,604,1978,627,1967,652,1950,672,1930,684,1910,689,1890,691,1868,690,1819,692,1791,699,1761,732,1662,761,1584,766,1586,737,1664,704,1762,697,1792,695,1819,696,1868,695,1891,689,1912,676,1934,655,1954,630,1971,606,1983,582,1990,559,1992,535,1989,511,1981,460,1954,424,1924,389,1879,356,1823,324,1757,265,1604,214,1435,170,1265,135,1110,95,906"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a81c7b68e8c7b82a5ff718f21bd4f3c35" title="Identify, for each mode, which set of color endpoint produces the best result." alt="" coords="240,1412,403,1452"/>
<area shape="poly" title=" " alt="" coords="105,905,232,1215,309,1398,304,1400,227,1217,100,907"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#ae1b4e922c67d5349fc849709ca08178f" title="Compute the optimal unquantized weights for a decimation table." alt="" coords="479,1223,636,1263"/>
<area shape="poly" title=" " alt="" coords="107,905,155,983,190,1030,231,1071,294,1118,362,1158,428,1191,487,1215,485,1220,426,1195,359,1163,291,1123,228,1075,186,1033,151,986,103,907"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#af42cf444db5f16e2ed4fb642acf81f4a" title="Compute the optimal quantized weights for a decimation table." alt="" coords="464,737,651,777"/>
<area shape="poly" title=" " alt="" coords="167,863,470,779,472,784,168,868"/>
<area shape="rect" href="astcenc__decompress__symbolic_8cpp.html#a0541138e65930f39f6caba517e76dfe4" title="Compute the error between a symbolic block and the original input data." alt="" coords="473,113,642,153"/>
<area shape="poly" title=" " alt="" coords="93,865,101,726,122,515,139,406,162,306,191,225,208,193,227,170,252,151,279,136,339,118,401,112,459,114,459,120,401,118,340,124,281,141,255,156,231,174,213,196,196,227,167,308,145,407,127,516,106,726,98,865"/>
<area shape="rect" href="structblock__size__descriptor.html#aa9dfc7b23c8b5e6c71e956e2e39fff74" title="Get the partition info structure for a given partition count and seed." alt="" coords="701,221,849,261"/>
<area shape="poly" title=" " alt="" coords="92,865,99,718,118,493,136,376,159,269,189,182,207,148,227,124,279,82,329,53,379,37,430,31,482,35,536,49,593,71,655,99,673,113,683,128,691,145,703,164,746,210,742,213,699,167,686,148,678,131,669,116,652,104,591,75,535,54,481,41,430,36,380,42,331,58,282,86,231,127,212,151,194,184,164,270,141,377,124,494,104,718,98,866"/>
<area shape="rect" href="astcenc__decompress__symbolic_8cpp.html#aff8e27acd948a9cc5631d99c80906b2f" title="Compute the error between a symbolic block and the original input data." alt="" coords="463,623,652,663"/>
<area shape="poly" title=" " alt="" coords="126,863,228,802,343,737,460,679,491,666,493,671,462,684,345,742,231,806,128,868"/>
<area shape="rect" href="structblock__size__descriptor.html#aef601af82748a14a8826e94f5e1b4184" title="Get the decimation mode structure for index decimation_mode." alt="" coords="243,2217,400,2257"/>
<area shape="poly" title=" " alt="" coords="98,906,111,1159,138,1570,156,1783,178,1973,203,2118,217,2167,232,2197,241,2208,237,2211,227,2200,212,2169,198,2119,173,1973,151,1784,132,1571,105,1159,93,906"/>
<area shape="rect" href="structblock__mode.html#a760578093fb16da4932bc26d2d5c1837" title="Get the weight quantization used by this block mode." alt="" coords="240,2281,403,2321"/>
<area shape="poly" title=" " alt="" coords="98,906,109,1172,134,1606,152,1831,175,2031,201,2185,216,2236,232,2268,234,2271,230,2274,227,2271,211,2238,196,2186,169,2032,147,1832,129,1607,104,1172,93,906"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a5618d81f875c0158284ccc9923d83dab" title="Return the horizontal minimum of a vector." alt="" coords="289,2117,353,2142"/>
<area shape="poly" title=" " alt="" coords="98,906,111,1141,139,1521,158,1717,179,1891,204,2024,218,2069,231,2096,252,2112,277,2122,275,2127,249,2117,227,2099,213,2071,199,2025,174,1892,152,1717,134,1522,106,1142,93,906"/>
<area shape="rect" href="astcenc__color__quantize_8cpp.html#ab9f9b564c57688af1f8fc1d9e000af81" title="Pack a single pair of color endpoints as effectively as possible." alt="" coords="483,2218,631,2243"/>
<area shape="poly" title=" " alt="" coords="98,906,109,1152,135,1551,153,1757,175,1940,202,2079,216,2125,231,2153,260,2163,323,2179,480,2213,479,2218,322,2184,258,2168,228,2157,211,2127,196,2080,170,1941,148,1758,129,1552,104,1153,93,906"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af80747ee43aa6fda579161376205c294" title="Attempt to improve weights given a chosen configuration." alt="" coords="468,394,647,419"/>
<area shape="poly" title=" " alt="" coords="102,864,148,783,226,665,275,601,331,538,393,480,460,430,474,422,476,427,463,434,396,484,335,542,279,605,230,669,152,786,107,867"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a91e5fa530ba0e492b85132e416a5ddf4" title="Attempt to improve weights given a chosen configuration." alt="" coords="461,229,653,254"/>
<area shape="poly" title=" " alt="" coords="91,865,92,776,97,713,107,643,124,569,148,495,182,425,227,362,250,340,275,321,332,289,391,267,447,253,449,258,392,273,334,294,278,325,254,344,231,366,187,428,153,497,129,570,113,644,103,714,98,776,96,865"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a02bcad94240678ee727ccf2f0fbfb5d3" title="For a given 1 plane weight set recompute the endpoint colors." alt="" coords="478,1108,637,1148"/>
<area shape="poly" title=" " alt="" coords="123,903,172,938,231,975,370,1046,494,1100,492,1105,368,1051,228,980,169,943,120,908"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a52f057b7da5fc35adac361b3696ac963" title="The main function for the angular algorithm." alt="" coords="465,329,649,369"/>
<area shape="poly" title=" " alt="" coords="413,375,451,368,452,373,414,381"/>
<area shape="poly" title=" " alt="" coords="322,376,333,318,356,241,374,200,397,162,425,127,460,99,491,84,525,75,560,72,595,74,662,87,719,106,718,111,661,92,594,79,560,78,526,81,493,89,463,104,429,131,401,165,379,203,361,242,338,319,328,376"/>
<area shape="rect" href="structdecimation__mode.html#ad3899521e22d446efacfceb12f264d4f" title="Test if this mode is active below a given 1 plane weight quant (inclusive)." alt="" coords="486,444,629,484"/>
<area shape="poly" title=" " alt="" coords="392,414,475,438,474,443,391,419"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82" title="Return a 8&#45;bit mask code indicating mask status." alt="" coords="748,659,803,685"/>
<area shape="poly" title=" " alt="" coords="640,368,655,380,672,401,682,421,689,461,691,503,695,526,704,551,731,603,759,646,754,649,726,606,699,553,690,527,686,503,683,461,677,423,667,404,651,383,637,372"/>
<area shape="poly" title=" " alt="" coords="650,359,733,371,733,376,649,364"/>
<area shape="poly" title=" " alt="" coords="630,480,655,494,680,521,710,562,762,646,758,649,705,565,676,524,652,498,628,484"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a617a8dec1d2168023a84f5c0fa1c20ca" title="Functions for computing color endpoints and texel weights." alt="" coords="718,1115,833,1141"/>
<area shape="poly" title=" " alt="" coords="641,904,655,916,672,940,680,964,680,1011,680,1057,687,1080,703,1102,708,1107,705,1111,699,1106,682,1082,675,1058,675,1011,675,965,667,942,651,919,637,908"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a84286bd889620da3be77539ddfdf3b45" title="Compute the infilled weight for N texel indices in a decimated grid." alt="" coords="711,1165,839,1190"/>
<area shape="poly" title=" " alt="" coords="641,904,655,916,675,946,683,977,684,1006,680,1036,676,1065,676,1094,684,1123,703,1152,706,1155,703,1159,699,1155,679,1125,671,1094,671,1065,675,1035,678,1006,678,977,670,948,651,919,638,908"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aaa291a197219a09a2e1103aec6945b3c" title="Accumulate lane&#45;wise sums for a vector, folded 4&#45;wide." alt="" coords="727,751,823,777"/>
<area shape="poly" title=" " alt="" coords="627,863,652,851,676,833,700,811,741,782,744,787,703,816,680,837,655,856,629,868"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898" title="Return the horizontal sum of a vector." alt="" coords="743,849,807,874"/>
<area shape="poly" title=" " alt="" coords="640,874,730,864,730,869,641,879"/>
<area shape="rect" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae" title="Factory that returns a vector of zeros." alt="" coords="730,898,821,923"/>
<area shape="poly" title=" " alt="" coords="641,892,716,901,715,907,640,898"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aae2f99eb48f3cde0f4739b894e8ca29f" title="Load a vector of gathered results from an array;" alt="" coords="897,1165,959,1190"/>
<area shape="poly" title=" " alt="" coords="816,1138,885,1161,884,1166,814,1143"/>
<area shape="poly" title=" " alt="" coords="839,1175,884,1175,884,1180,839,1180"/>
<area shape="poly" title=" " alt="" coords="750,753,744,743,747,733,758,727,775,725,796,728,805,737,802,741,794,733,775,730,760,732,751,737,750,742,754,750"/>
<area shape="poly" title=" " alt="" coords="750,850,744,840,747,831,758,824,775,822,796,826,805,834,802,838,794,830,775,827,760,829,751,834,750,840,754,847"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a7ec20ff2556f6357cc0754c13e841262" title="Compute the ideal endpoints and weights for 3 color components." alt="" coords="480,993,635,1033"/>
<area shape="poly" title=" " alt="" coords="392,963,475,987,474,992,391,968"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a08aebec57ada3441207dce6a7a02797e" title="Compute the ideal endpoints and weights for 4 color components." alt="" coords="480,929,635,969"/>
<area shape="poly" title=" " alt="" coords="396,944,466,945,466,951,396,949"/>
<area shape="rect" href="structimage__block.html#ae3c0735355d378591db6cb7a011e381a" title="Test if a single color channel is constant across the block." alt="" coords="472,508,643,548"/>
<area shape="poly" title=" " alt="" coords="322,925,331,858,354,762,372,710,395,658,424,609,459,565,474,553,477,557,463,569,428,612,400,660,377,712,359,764,337,859,327,926"/>
<area shape="poly" title=" " alt="" coords="633,992,651,980,668,957,675,934,681,909,700,885,729,868,731,873,703,889,686,912,680,935,673,959,655,983,636,996"/>
<area shape="poly" title=" " alt="" coords="623,991,652,979,700,954,742,929,745,933,703,959,654,984,625,996"/>
<area shape="poly" title=" " alt="" coords="592,1031,626,1059,656,1095,681,1149,689,1196,693,1244,704,1304,769,1532,763,1533,699,1305,688,1245,684,1197,676,1151,651,1098,622,1063,589,1036"/>
<area shape="poly" title=" " alt="" coords="624,927,652,915,676,900,700,884,729,872,731,877,703,889,679,904,655,920,626,932"/>
<area shape="poly" title=" " alt="" coords="635,933,716,919,717,924,636,938"/>
<area shape="poly" title=" " alt="" coords="637,964,655,980,671,1007,681,1045,692,1137,697,1231,704,1304,737,1432,768,1532,763,1534,732,1434,699,1305,691,1232,686,1137,676,1046,666,1009,651,983,633,968"/>
<area shape="rect" href="structvint4.html#a21e3d111e37da1aaaeb5ba21a831c863" title="Factory that returns a vector containing the lane IDs." alt="" coords="727,515,824,541"/>
<area shape="poly" title=" " alt="" coords="643,525,713,525,713,531,643,531"/>
<area shape="poly" title=" " alt="" coords="324,1411,411,977,416,938,416,902,412,839,413,810,420,782,435,753,460,723,480,710,509,700,583,684,665,675,734,671,734,676,665,680,584,689,510,705,482,715,463,727,439,756,425,784,419,811,418,839,421,902,421,938,416,978,329,1412"/>
<area shape="poly" title=" " alt="" coords="325,1411,365,1234,390,1107,411,977,415,851,418,639,422,529,430,431,442,357,450,331,459,316,493,294,530,284,570,285,610,293,650,306,686,323,745,356,743,361,684,327,648,311,609,298,569,290,531,290,495,299,463,319,454,333,447,358,435,432,428,529,424,639,420,851,416,978,395,1108,370,1235,330,1412"/>
<area shape="poly" title=" " alt="" coords="325,1411,363,1234,411,977,416,895,419,787,423,732,430,682,442,640,459,609,481,588,503,576,525,569,547,566,595,566,653,558,713,542,714,547,654,563,596,571,547,572,526,574,505,581,484,593,463,612,447,642,435,683,428,733,425,787,422,895,416,978,368,1235,330,1412"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a163a7d0cf020b6f86049745807912ec1" title="For a given partition compute the error for every endpoint integer count and quant level." alt="" coords="475,1287,640,1342"/>
<area shape="poly" title=" " alt="" coords="355,1410,460,1352,475,1345,477,1350,463,1357,358,1414"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#affc96d3eeffef962cd64307bf0b85590" title="For a given set of input colors and partitioning determine endpoint encode errors." alt="" coords="469,801,645,841"/>
<area shape="poly" title=" " alt="" coords="324,1411,383,1112,424,945,442,885,459,852,463,848,467,852,463,855,447,887,429,946,388,1113,329,1412"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#aa54b7e3566c1445d292b8ff7cf6f5e28" title="For 4 partitions compute the best format and quantization for a given bit count." alt="" coords="481,1366,633,1421"/>
<area shape="poly" title=" " alt="" coords="403,1416,467,1406,468,1411,403,1421"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a806d3ce88e28226224c6b929b69f2fda" title="For 4 partitions compute the best format combinations for every pair of quant mode and integer count." alt="" coords="475,1617,639,1687"/>
<area shape="poly" title=" " alt="" coords="337,1451,387,1523,423,1565,463,1603,469,1608,465,1612,460,1608,419,1569,383,1526,332,1454"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ae7ff255b24f24f8d2a31e6849f4b1250" title="Return the horizontal minimum of a vector." alt="" coords="532,2117,583,2142"/>
<area shape="poly" title=" " alt="" coords="325,1452,330,1550,349,1702,366,1788,390,1877,422,1964,464,2045,492,2080,525,2107,522,2111,488,2084,459,2048,418,1966,385,1879,361,1790,344,1703,325,1550,320,1453"/>
<area shape="rect" href="structvint4.html#a01e3f7debf73dc6c757fa36d585c9d17" title="Get the scalar from a single lane." alt="" coords="735,2015,815,2041"/>
<area shape="poly" title=" " alt="" coords="327,1452,341,1565,368,1728,386,1812,408,1888,434,1949,448,1972,463,1989,492,2009,524,2024,558,2034,593,2039,662,2041,722,2036,722,2041,663,2047,593,2045,557,2039,522,2029,489,2014,460,1993,444,1975,429,1951,403,1889,381,1813,362,1729,336,1565,322,1453"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a4a0bf4253790d6b09132c02f57fcbe32" title="For one partition compute the best format and quantization for a given bit count." alt="" coords="481,1445,633,1499"/>
<area shape="poly" title=" " alt="" coords="403,1443,468,1454,467,1460,403,1449"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a63b1ecd0244123ff734e6791e33bf9ca" title="Round a count down to the largest multiple of the SIMD width." alt="" coords="703,1773,847,1813"/>
<area shape="poly" title=" " alt="" coords="328,1452,341,1559,368,1711,387,1789,409,1859,434,1915,448,1935,463,1950,487,1966,510,1977,532,1982,554,1983,600,1973,652,1950,688,1925,718,1892,741,1857,758,1825,762,1828,745,1860,722,1895,691,1929,655,1954,601,1978,554,1989,531,1988,508,1982,485,1971,460,1954,444,1939,430,1917,404,1861,382,1790,363,1712,336,1560,322,1453"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ac55f9ffdc41bee5d274cb6433809fefc" title="Store lowest N (vector width) bytes into an unaligned address." alt="" coords="727,1066,824,1091"/>
<area shape="poly" title=" " alt="" coords="327,1411,344,1369,372,1314,410,1257,434,1231,460,1209,486,1193,510,1185,556,1181,601,1178,626,1171,652,1158,667,1145,675,1131,684,1117,700,1102,713,1094,716,1099,703,1106,688,1120,680,1134,671,1148,655,1162,627,1176,602,1183,556,1186,511,1190,488,1198,463,1213,437,1235,414,1260,376,1316,349,1371,332,1413"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a" title="Store a vector to a 16B aligned memory address." alt="" coords="746,1017,805,1042"/>
<area shape="poly" title=" " alt="" coords="322,1412,332,1349,355,1263,373,1217,396,1172,424,1130,460,1094,500,1079,574,1062,732,1033,733,1039,575,1067,502,1084,463,1098,428,1133,400,1175,377,1219,360,1265,337,1351,327,1413"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a7681b157ce5786accf05034e1facbdbe" title="For 3 partitions compute the best format and quantization for a given bit count." alt="" coords="481,1711,633,1766"/>
<area shape="poly" title=" " alt="" coords="331,1452,346,1501,373,1566,412,1635,436,1668,463,1697,471,1704,468,1708,460,1701,432,1671,407,1638,368,1568,341,1502,325,1453"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#ab08ff5ed53a05a876dc8e90c05aeef72" title="For 3 partitions compute the best format combinations for every pair of quant mode and integer count." alt="" coords="475,1524,639,1593"/>
<area shape="poly" title=" " alt="" coords="357,1450,463,1510,474,1516,471,1520,460,1514,355,1454"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a5c74518d7a68796ba962179901f805ae" title="For 2 partitions compute the best format and quantization for a given bit count." alt="" coords="481,1885,633,1939"/>
<area shape="poly" title=" " alt="" coords="326,1452,333,1529,353,1640,370,1701,394,1761,425,1819,463,1870,472,1878,468,1882,459,1874,420,1822,389,1764,365,1702,347,1641,327,1529,321,1453"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#ac317754d4bbd795d6f29b331883e8eb3" title="For 2 partitions compute the best format combinations for every pair of quant mode and integer count." alt="" coords="475,1791,639,1860"/>
<area shape="poly" title=" " alt="" coords="328,1452,340,1513,365,1599,383,1646,405,1693,432,1737,463,1777,466,1780,463,1784,459,1781,427,1740,400,1695,378,1648,360,1601,335,1515,323,1453"/>
<area shape="poly" title=" " alt="" coords="633,799,652,787,668,770,676,753,684,734,699,714,734,689,737,693,703,718,689,737,681,755,672,773,655,792,635,804"/>
<area shape="poly" title=" " alt="" coords="627,839,655,851,679,868,703,884,718,891,716,896,700,889,676,872,652,856,625,844"/>
<area shape="poly" title=" " alt="" coords="638,1615,731,1575,733,1579,640,1620"/>
<area shape="poly" title=" " alt="" coords="639,1556,724,1556,724,1561,639,1561"/>
<area shape="poly" title=" " alt="" coords="637,1789,651,1777,692,1729,724,1676,747,1625,763,1584,768,1586,752,1627,728,1679,696,1732,655,1781,640,1793"/>
<area shape="poly" title=" " alt="" coords="617,1220,652,1202,666,1189,675,1177,684,1164,700,1151,713,1144,716,1149,703,1156,688,1168,679,1180,670,1193,655,1206,620,1225"/>
<area shape="poly" title=" " alt="" coords="636,1233,738,1221,849,1200,884,1190,885,1195,850,1205,739,1226,637,1239"/>
<area shape="poly" title=" " alt="" coords="624,1220,718,1192,720,1197,626,1225"/>
<area shape="poly" title=" " alt="" coords="588,1221,621,1193,651,1159,670,1119,677,1084,683,1047,699,1004,724,965,750,932,754,936,728,968,704,1007,688,1049,682,1085,675,1120,656,1162,625,1197,591,1225"/>
<area shape="poly" title=" " alt="" coords="638,1260,655,1274,682,1313,696,1350,701,1385,701,1420,695,1494,696,1536,704,1584,733,1680,763,1760,758,1761,728,1682,699,1585,691,1537,689,1494,695,1420,696,1385,691,1351,677,1316,651,1278,635,1264"/>
<area shape="poly" title=" " alt="" coords="586,1221,619,1193,651,1159,666,1130,672,1104,680,1079,699,1053,715,1042,732,1035,734,1040,717,1047,703,1057,684,1081,677,1106,671,1132,656,1162,623,1197,589,1225"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e" title="Return the clamped value between min and max." alt="" coords="747,2166,804,2191"/>
<area shape="poly" title=" " alt="" coords="638,1259,655,1274,674,1309,687,1352,694,1402,696,1458,691,1582,679,1716,668,1850,663,1974,665,2029,673,2078,685,2120,703,2153,717,2165,734,2172,732,2177,714,2169,699,2157,680,2122,667,2079,660,2030,658,1974,662,1850,674,1716,686,1582,691,1458,688,1402,682,1353,669,1311,651,1278,635,1263"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a516a2f0d872381b8c7c047845a90c9a3" title="Return the horizontal maximum of a vector." alt="" coords="748,1266,803,1291"/>
<area shape="poly" title=" " alt="" coords="637,1253,735,1270,734,1275,636,1258"/>
<area shape="rect" href="structvint8.html#a2e1f0c785f4899e1b7912f2580b9f77c" title="Get the scalar from a single lane." alt="" coords="735,2117,815,2142"/>
<area shape="poly" title=" " alt="" coords="638,1259,655,1274,673,1305,685,1342,693,1385,698,1433,699,1541,693,1657,686,1774,682,1885,686,1980,693,2019,704,2052,723,2082,747,2106,744,2110,719,2086,699,2055,688,2021,681,1981,677,1885,681,1774,688,1657,693,1541,692,1434,688,1386,680,1343,668,1307,651,1278,635,1263"/>
<area shape="poly" title=" " alt="" coords="608,735,734,685,736,690,610,740"/>
<area shape="poly" title=" " alt="" coords="589,735,622,708,651,673,672,629,679,591,684,551,699,502,727,447,755,401,760,404,731,450,704,504,689,552,684,591,677,631,656,676,625,712,592,739"/>
<area shape="poly" title=" " alt="" coords="641,776,655,788,677,822,685,856,685,890,680,923,675,955,674,988,682,1020,703,1053,716,1063,713,1068,699,1057,677,1022,669,988,670,955,675,922,680,889,680,857,672,824,651,791,638,780"/>
<area shape="poly" title=" " alt="" coords="640,776,655,788,670,806,679,824,686,858,690,894,695,914,704,935,728,973,755,1005,750,1008,724,976,699,937,689,915,684,895,681,859,674,825,666,809,651,791,636,780"/>
<area shape="poly" title=" " alt="" coords="643,131,688,131,688,136,643,136"/>
<area shape="poly" title=" " alt="" coords="595,152,628,179,644,196,656,215,666,244,673,278,679,361,676,456,671,558,666,658,667,751,678,829,689,860,703,885,719,898,716,902,699,889,684,862,673,830,662,751,661,658,665,557,671,456,673,361,668,279,661,245,651,217,639,199,625,182,592,156"/>
<area shape="poly" title=" " alt="" coords="612,151,655,170,731,212,729,217,652,175,610,156"/>
<area shape="poly" title=" " alt="" coords="653,653,735,664,734,669,652,658"/>
<area shape="poly" title=" " alt="" coords="584,621,617,592,651,558,684,517,714,475,758,402,763,405,718,477,688,521,655,562,621,596,587,625"/>
<area shape="poly" title=" " alt="" coords="591,620,624,594,651,559,671,510,680,467,681,426,677,386,673,346,673,304,680,259,699,208,715,183,736,161,740,164,720,186,704,211,685,260,678,305,678,346,682,386,686,426,685,467,677,512,656,561,627,598,594,625"/>
<area shape="poly" title=" " alt="" coords="596,661,740,742,738,747,593,665"/>
<area shape="poly" title=" " alt="" coords="586,661,620,689,655,724,680,756,703,788,752,838,748,841,699,791,676,759,651,727,616,693,583,665"/>
<area shape="poly" title=" " alt="" coords="591,661,625,688,656,724,667,747,673,769,676,809,680,847,688,866,703,885,719,896,716,900,699,889,684,868,675,849,670,810,668,770,662,749,651,727,621,692,588,665"/>
<area shape="poly" title=" " alt="" coords="611,620,652,602,743,547,746,551,655,607,614,625"/>
<area shape="poly" title=" " alt="" coords="595,661,629,688,644,705,656,724,665,754,672,799,683,927,688,1090,691,1272,694,1618,697,1748,704,1825,717,1875,733,1924,765,2002,760,2004,728,1926,711,1877,699,1826,692,1748,689,1619,686,1272,683,1090,677,927,667,800,660,755,651,727,639,708,625,692,592,665"/>
<area shape="poly" title=" " alt="" coords="589,621,622,594,651,559,665,531,674,505,679,459,682,411,688,383,699,352,722,309,747,271,752,274,726,312,704,355,693,385,688,411,684,459,679,507,670,533,656,562,626,597,592,625"/>
<area shape="poly" title=" " alt="" coords="354,2127,518,2127,518,2132,354,2132"/>
<area shape="poly" title=" " alt="" coords="354,2134,405,2144,462,2152,557,2158,653,2152,721,2140,722,2146,654,2157,557,2164,461,2157,404,2150,353,2139"/>
<area shape="poly" title=" " alt="" coords="574,2216,652,2153,751,2049,755,2053,655,2157,578,2220"/>
<area shape="poly" title=" " alt="" coords="611,2215,732,2186,733,2191,612,2221"/>
<area shape="poly" title=" " alt="" coords="647,393,733,381,733,387,647,398"/>
<area shape="poly" title=" " alt="" coords="634,392,652,380,668,359,677,340,681,300,683,257,688,234,699,208,717,183,737,161,741,165,721,186,704,211,693,235,688,258,686,301,682,341,672,362,655,383,637,396"/>
<area shape="poly" title=" " alt="" coords="639,417,655,430,685,475,698,518,699,560,693,603,685,645,681,690,686,737,704,788,723,816,746,838,743,842,719,819,699,791,681,738,676,690,680,645,688,602,694,560,693,519,680,477,651,434,636,422"/>
<area shape="poly" title=" " alt="" coords="640,418,655,430,677,460,691,489,698,517,701,546,696,603,682,659,668,715,661,771,663,799,671,827,684,856,703,885,719,898,716,902,699,889,679,859,666,829,658,800,656,771,662,714,676,657,690,602,696,546,693,518,686,490,672,462,651,434,636,422"/>
<area shape="poly" title=" " alt="" coords="622,417,655,430,709,465,753,503,749,507,706,470,652,435,620,422"/>
<area shape="poly" title=" " alt="" coords="640,418,655,430,668,450,677,473,688,532,692,602,692,677,689,825,693,888,704,935,726,974,752,1005,748,1008,721,977,699,937,688,888,684,825,686,677,687,602,683,533,672,475,663,452,651,434,636,422"/>
<area shape="poly" title=" " alt="" coords="625,392,652,379,683,355,711,327,753,271,757,275,715,331,687,359,655,384,628,396"/>
<area shape="poly" title=" " alt="" coords="609,252,655,271,711,312,755,354,752,358,708,317,652,276,607,257"/>
<area shape="poly" title=" " alt="" coords="580,252,617,279,655,316,672,338,682,357,704,402,762,502,757,505,699,404,677,360,667,341,651,319,614,283,577,256"/>
<area shape="poly" title=" " alt="" coords="654,239,687,239,687,244,654,244"/>
<area shape="poly" title=" " alt="" coords="591,1106,624,1079,639,1063,651,1044,681,969,694,902,695,840,688,780,680,719,676,655,680,583,699,502,724,446,753,401,758,404,729,449,704,504,685,584,681,655,685,719,694,779,700,840,699,902,686,970,656,1047,643,1066,628,1083,594,1110"/>
<area shape="poly" title=" " alt="" coords="637,1125,704,1125,704,1131,637,1131"/>
<area shape="poly" title=" " alt="" coords="638,1143,706,1159,705,1164,636,1149"/>
<area shape="poly" title=" " alt="" coords="582,1106,651,1044,707,984,753,932,757,936,711,988,655,1047,585,1110"/>
<area shape="poly" title=" " alt="" coords="591,1146,625,1174,656,1209,686,1273,719,1365,769,1532,764,1533,714,1367,682,1275,651,1212,621,1178,588,1150"/>
<area shape="poly" title=" " alt="" coords="613,1106,652,1087,676,1070,700,1052,732,1039,734,1044,703,1057,679,1074,655,1092,615,1110"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_af5f518a15600c71922e69267dea2db99_icgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_af5f518a15600c71922e69267dea2db99_icgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_af5f518a15600c71922e69267dea2db99_icgraph" id="aastcenc__compress__symbolic_8cpp_af5f518a15600c71922e69267dea2db99_icgraph">
<area shape="rect" title="Compress a block using a chosen partitioning and 1 plane of weights." alt="" coords="1015,5,1191,45"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a579b9a2ceeecda2fb3abe63b8311df1c" title="Compress an image block into a physical block." alt="" coords="849,13,967,38"/>
<area shape="poly" title=" " alt="" coords="1001,28,967,28,967,23,1001,23"/>
<area shape="rect" href="astcenc__entry_8cpp.html#acbecfd32ce013d567cac16a877c20f42" title="Compress an image, after any preflight has completed." alt="" coords="680,13,801,38"/>
<area shape="poly" title=" " alt="" coords="835,28,802,28,802,23,835,23"/>
<area shape="rect" href="astcenc__entry_8cpp.html#ad762aa055eed75156c99309158a40e90" title="Compress an image." alt="" coords="457,13,632,38"/>
<area shape="poly" title=" " alt="" coords="666,28,632,28,632,23,666,23"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,13,207,38"/>
<area shape="poly" title=" " alt="" coords="444,25,409,24,255,24,207,26,207,20,255,19,409,19,444,19"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa" title="Runner callback function for a compression worker thread." alt="" coords="255,33,409,73"/>
<area shape="poly" title=" " alt="" coords="444,41,410,46,409,41,443,36"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,13,56,38"/>
<area shape="poly" title=" " alt="" coords="90,28,57,28,57,23,90,23"/>
<area shape="poly" title=" " alt="" coords="241,42,206,36,207,31,242,36"/>
</map>
</div>

</div>
</div>
<a id="af11a976c8ea386db054bef472ce0667c" name="af11a976c8ea386db054bef472ce0667c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af11a976c8ea386db054bef472ce0667c">&#9670;&#160;</a></span>compress_symbolic_block_for_partition_2planes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float compress_symbolic_block_for_partition_2planes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structastcenc__config.html">astcenc_config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>config</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structblock__size__descriptor.html">block_size_descriptor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>bsd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structimage__block.html">image_block</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>blk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>tune_errorval_threshold</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>plane2_component</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsymbolic__compressed__block.html">symbolic_compressed_block</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>scb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcompression__working__buffers.html">compression_working_buffers</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>tmpbuf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>quant_limit</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compress a block using a chosen partitioning and 2 planes of weights. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">config</td><td>The compressor configuration. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">bsd</td><td>The block size information. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">blk</td><td>The image block color data to compress. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">tune_errorval_threshold</td><td>The error value threshold. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">plane2_component</td><td>The component index for the second plane of weights. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">scb</td><td>The symbolic compressed block output. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tmpbuf</td><td>The quantized weights for plane 1. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenc__compress__symbolic_8cpp_source.html">astcenc_compress_symbolic.cpp</a> 파일의 <a class="el" href="astcenc__compress__symbolic_8cpp_source.html#l00716">716</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  725</span>  {</div>
<div class="line"><span class="lineno">  726</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(config.<a class="code hl_variable" href="structastcenc__config.html#a1985670205a89fcb92ba1995e6645c5e">tune_candidate_limit</a> &gt; 0);</div>
<div class="line"><span class="lineno">  727</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(config.<a class="code hl_variable" href="structastcenc__config.html#ae756e28f11bd615a23198c4ae2b1e90f">tune_refinement_limit</a> &gt; 0);</div>
<div class="line"><span class="lineno">  728</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a5344a8e95df2fe4fe2b396b669993140">decimation_mode_count_selected</a> &gt; 0);</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>    <span class="keywordtype">int</span> max_weight_quant = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_enumvalue" href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75a740abcbb2f534ff0c4cf49053e7f507b">QUANT_32</a>), quant_limit);</div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span>    <span class="comment">// Compute ideal weights and endpoint colors, with no quantization or decimation</span></div>
<div class="line"><span class="lineno">  733</span>    <a class="code hl_struct" href="structendpoints__and__weights.html">endpoints_and_weights</a>&amp; ei1 = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a070cf57364cb941b7561a4e1e1822d2e">ei1</a>;</div>
<div class="line"><span class="lineno">  734</span>    <a class="code hl_struct" href="structendpoints__and__weights.html">endpoints_and_weights</a>&amp; ei2 = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#aea66967939a847f55562ba3049b53964">ei2</a>;</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>    <a class="code hl_function" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a52d3985007cfc83025661e0347bc00cc">compute_ideal_colors_and_weights_2planes</a>(bsd, blk, plane2_component, ei1, ei2);</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span>    <span class="comment">// Compute ideal weights and endpoint colors for every decimation</span></div>
<div class="line"><span class="lineno">  739</span>    <span class="keywordtype">float</span>* dec_weights_ideal = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a6278293acd8d45aa6f45dcfe9e4be422">dec_weights_ideal</a>;</div>
<div class="line"><span class="lineno">  740</span>    uint8_t* dec_weights_uquant = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a33ad8f5749b317b98c354041cacbc403">dec_weights_uquant</a>;</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>    <span class="comment">// For each decimation mode, compute an ideal set of weights with no quantization</span></div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a5344a8e95df2fe4fe2b396b669993140">decimation_mode_count_selected</a>; i++)</div>
<div class="line"><span class="lineno">  744</span>    {</div>
<div class="line"><span class="lineno">  745</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; dm = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#aef601af82748a14a8826e94f5e1b4184">get_decimation_mode</a>(i);</div>
<div class="line"><span class="lineno">  746</span>        <span class="keywordflow">if</span> (!dm.is_ref_2plane(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75">quant_method</a><span class="keyword">&gt;</span>(max_weight_quant)))</div>
<div class="line"><span class="lineno">  747</span>        {</div>
<div class="line"><span class="lineno">  748</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  749</span>        }</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; di = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d">get_decimation_info</a>(i);</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>        <a class="code hl_function" href="astcenc__ideal__endpoints__and__weights_8cpp.html#ae1b4e922c67d5349fc849709ca08178f">compute_ideal_weights_for_decimation</a>(</div>
<div class="line"><span class="lineno">  754</span>            ei1,</div>
<div class="line"><span class="lineno">  755</span>            di,</div>
<div class="line"><span class="lineno">  756</span>            dec_weights_ideal + i * <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a>);</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>        <a class="code hl_function" href="astcenc__ideal__endpoints__and__weights_8cpp.html#ae1b4e922c67d5349fc849709ca08178f">compute_ideal_weights_for_decimation</a>(</div>
<div class="line"><span class="lineno">  759</span>            ei2,</div>
<div class="line"><span class="lineno">  760</span>            di,</div>
<div class="line"><span class="lineno">  761</span>            dec_weights_ideal + i * <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a> + <a class="code hl_variable" href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a>);</div>
<div class="line"><span class="lineno">  762</span>    }</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>    <span class="comment">// Compute maximum colors for the endpoints and ideal weights, then for each endpoint and ideal</span></div>
<div class="line"><span class="lineno">  765</span>    <span class="comment">// weight pair, compute the smallest weight that will result in a color value greater than 1</span></div>
<div class="line"><span class="lineno">  766</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> min_ep1(10.0f);</div>
<div class="line"><span class="lineno">  767</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> min_ep2(10.0f);</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> ep1 = (<a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(1.0f) - ei1.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>.<a class="code hl_variable" href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpt0</a>[0]) / (ei1.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>.<a class="code hl_variable" href="structendpoints.html#a89660f637b681eaea32e7db6b9d9def2">endpt1</a>[0] - ei1.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>.<a class="code hl_variable" href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpt0</a>[0]);</div>
<div class="line"><span class="lineno">  770</span>    <a class="code hl_struct" href="structvmask4.html">vmask4</a> use_ep1 = (ep1 &gt; <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(0.5f)) &amp; (ep1 &lt; min_ep1);</div>
<div class="line"><span class="lineno">  771</span>    min_ep1 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(min_ep1, ep1, use_ep1);</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> ep2 = (<a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(1.0f) - ei2.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>.<a class="code hl_variable" href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpt0</a>[0]) / (ei2.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>.<a class="code hl_variable" href="structendpoints.html#a89660f637b681eaea32e7db6b9d9def2">endpt1</a>[0] - ei2.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>.<a class="code hl_variable" href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpt0</a>[0]);</div>
<div class="line"><span class="lineno">  774</span>    <a class="code hl_struct" href="structvmask4.html">vmask4</a> use_ep2 = (ep2 &gt; <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(0.5f)) &amp; (ep2 &lt; min_ep2);</div>
<div class="line"><span class="lineno">  775</span>    min_ep2 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(min_ep2, ep2, use_ep2);</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> err_max(<a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a>);</div>
<div class="line"><span class="lineno">  778</span>    <a class="code hl_struct" href="structvmask4.html">vmask4</a> err_mask = <a class="code hl_function" href="structvint4.html#a21e3d111e37da1aaaeb5ba21a831c863">vint4::lane_id</a>() == <a class="code hl_struct" href="structvint4.html">vint4</a>(plane2_component);</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>    <span class="comment">// Set the plane2 component to max error in ep1</span></div>
<div class="line"><span class="lineno">  781</span>    min_ep1 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(min_ep1, err_max, err_mask);</div>
<div class="line"><span class="lineno">  782</span> </div>
<div class="line"><span class="lineno">  783</span>    <span class="keywordtype">float</span> min_wt_cutoff1 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a5618d81f875c0158284ccc9923d83dab">hmin_s</a>(min_ep1);</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>    <span class="comment">// Set the minwt2 to the plane2 component min in ep2</span></div>
<div class="line"><span class="lineno">  786</span>    <span class="keywordtype">float</span> min_wt_cutoff2 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a5618d81f875c0158284ccc9923d83dab">hmin_s</a>(<a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(err_max, min_ep2, err_mask));</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>    <a class="code hl_function" href="astcenc__internal_8h.html#a571d7379fd52446338ef4fa7e700cb42">compute_angular_endpoints_2planes</a>(</div>
<div class="line"><span class="lineno">  789</span>        bsd, dec_weights_ideal, max_weight_quant, tmpbuf);</div>
<div class="line"><span class="lineno">  790</span> </div>
<div class="line"><span class="lineno">  791</span>    <span class="comment">// For each mode (which specifies a decimation and a quantization):</span></div>
<div class="line"><span class="lineno">  792</span>    <span class="comment">//     * Compute number of bits needed for the quantized weights</span></div>
<div class="line"><span class="lineno">  793</span>    <span class="comment">//     * Generate an optimized set of quantized weights</span></div>
<div class="line"><span class="lineno">  794</span>    <span class="comment">//     * Compute quantization errors for the mode</span></div>
<div class="line"><span class="lineno">  795</span> </div>
<div class="line"><span class="lineno">  796</span>    <span class="keywordtype">float</span>* weight_low_value1 = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a504af2e4e5a146cd80b52c1b6c93b782">weight_low_value1</a>;</div>
<div class="line"><span class="lineno">  797</span>    <span class="keywordtype">float</span>* weight_high_value1 = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#adebd00f87afd06131aa6e22e12effae2">weight_high_value1</a>;</div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordtype">float</span>* weight_low_value2 = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a6b3f7da41bb370993657d209bbb95d03">weight_low_value2</a>;</div>
<div class="line"><span class="lineno">  799</span>    <span class="keywordtype">float</span>* weight_high_value2 = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a72e3ac47a49cfb6ed8b4933699014858">weight_high_value2</a>;</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span>    int8_t* qwt_bitcounts = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a755d631272dfdaeff4f628360595e323">qwt_bitcounts</a>;</div>
<div class="line"><span class="lineno">  802</span>    <span class="keywordtype">float</span>* qwt_errors = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a2b2c71dd6e70f03c1ce362589cf1ffda">qwt_errors</a>;</div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> start_2plane = bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a2f96c6e4d1e35b4bac8778c474c69bb1">block_mode_count_1plane_selected</a>;</div>
<div class="line"><span class="lineno">  805</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> end_2plane = bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a796557a9c78ee86175f67ed504731ac5">block_mode_count_1plane_2plane_selected</a>;</div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = start_2plane; i &lt; end_2plane; i++)</div>
<div class="line"><span class="lineno">  808</span>    {</div>
<div class="line"><span class="lineno">  809</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structblock__mode.html">block_mode</a>&amp; bm = bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a82d0bf7e49df4683f0823b4951fb77f8">block_modes</a>[i];</div>
<div class="line"><span class="lineno">  810</span>        assert(bm.<a class="code hl_variable" href="structblock__mode.html#a78b282103d0a8bee2b07c0da075a3dc4">is_dual_plane</a>);</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>        <span class="keywordflow">if</span> (bm.<a class="code hl_variable" href="structblock__mode.html#a57910e5bd3d21447cdea6c7789723a86">quant_mode</a> &gt; max_weight_quant)</div>
<div class="line"><span class="lineno">  813</span>        {</div>
<div class="line"><span class="lineno">  814</span>            qwt_errors[i] = 1e38f;</div>
<div class="line"><span class="lineno">  815</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  816</span>        }</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>        qwt_bitcounts[i] = <span class="keyword">static_cast&lt;</span>int8_t<span class="keyword">&gt;</span>(109 - bm.<a class="code hl_variable" href="structblock__mode.html#a22f24a51f0c67cad40998833545e675e">weight_bits</a>);</div>
<div class="line"><span class="lineno">  819</span> </div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">if</span> (weight_high_value1[i] &gt; 1.02f * min_wt_cutoff1)</div>
<div class="line"><span class="lineno">  821</span>        {</div>
<div class="line"><span class="lineno">  822</span>            weight_high_value1[i] = 1.0f;</div>
<div class="line"><span class="lineno">  823</span>        }</div>
<div class="line"><span class="lineno">  824</span> </div>
<div class="line"><span class="lineno">  825</span>        <span class="keywordflow">if</span> (weight_high_value2[i] &gt; 1.02f * min_wt_cutoff2)</div>
<div class="line"><span class="lineno">  826</span>        {</div>
<div class="line"><span class="lineno">  827</span>            weight_high_value2[i] = 1.0f;</div>
<div class="line"><span class="lineno">  828</span>        }</div>
<div class="line"><span class="lineno">  829</span> </div>
<div class="line"><span class="lineno">  830</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a> = bm.<a class="code hl_variable" href="structblock__mode.html#aaf9846117d40406d5e84508f429cf949">decimation_mode</a>;</div>
<div class="line"><span class="lineno">  831</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; di = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d">get_decimation_info</a>(<a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a>);</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>        <a class="code hl_define" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> <span class="keywordtype">float</span> dec_weights_uquantf[<a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a>];</div>
<div class="line"><span class="lineno">  834</span> </div>
<div class="line"><span class="lineno">  835</span>        <span class="comment">// Generate the optimized set of weights for the mode</span></div>
<div class="line"><span class="lineno">  836</span>        <a class="code hl_function" href="astcenc__ideal__endpoints__and__weights_8cpp.html#af42cf444db5f16e2ed4fb642acf81f4a">compute_quantized_weights_for_decimation</a>(</div>
<div class="line"><span class="lineno">  837</span>            di,</div>
<div class="line"><span class="lineno">  838</span>            weight_low_value1[i],</div>
<div class="line"><span class="lineno">  839</span>            weight_high_value1[i],</div>
<div class="line"><span class="lineno">  840</span>            dec_weights_ideal + <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a> * <a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a>,</div>
<div class="line"><span class="lineno">  841</span>            dec_weights_uquantf,</div>
<div class="line"><span class="lineno">  842</span>            dec_weights_uquant + <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a> * i,</div>
<div class="line"><span class="lineno">  843</span>            bm.<a class="code hl_function" href="structblock__mode.html#a760578093fb16da4932bc26d2d5c1837">get_weight_quant_mode</a>());</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>        <a class="code hl_function" href="astcenc__ideal__endpoints__and__weights_8cpp.html#af42cf444db5f16e2ed4fb642acf81f4a">compute_quantized_weights_for_decimation</a>(</div>
<div class="line"><span class="lineno">  846</span>            di,</div>
<div class="line"><span class="lineno">  847</span>            weight_low_value2[i],</div>
<div class="line"><span class="lineno">  848</span>            weight_high_value2[i],</div>
<div class="line"><span class="lineno">  849</span>            dec_weights_ideal + <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a> * <a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a> + <a class="code hl_variable" href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a>,</div>
<div class="line"><span class="lineno">  850</span>            dec_weights_uquantf + <a class="code hl_variable" href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a>,</div>
<div class="line"><span class="lineno">  851</span>            dec_weights_uquant + <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a> * i + <a class="code hl_variable" href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a>,</div>
<div class="line"><span class="lineno">  852</span>            bm.<a class="code hl_function" href="structblock__mode.html#a760578093fb16da4932bc26d2d5c1837">get_weight_quant_mode</a>());</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>        <span class="comment">// Compute weight quantization errors for the block mode</span></div>
<div class="line"><span class="lineno">  855</span>        qwt_errors[i] = <a class="code hl_function" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a09a63c4b1e684f7ff9d88e5717b10bfb">compute_error_of_weight_set_2planes</a>(</div>
<div class="line"><span class="lineno">  856</span>            ei1,</div>
<div class="line"><span class="lineno">  857</span>            ei2,</div>
<div class="line"><span class="lineno">  858</span>            di,</div>
<div class="line"><span class="lineno">  859</span>            dec_weights_uquantf,</div>
<div class="line"><span class="lineno">  860</span>            dec_weights_uquantf + <a class="code hl_variable" href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a>);</div>
<div class="line"><span class="lineno">  861</span>    }</div>
<div class="line"><span class="lineno">  862</span> </div>
<div class="line"><span class="lineno">  863</span>    <span class="comment">// Decide the optimal combination of color endpoint encodings and weight encodings</span></div>
<div class="line"><span class="lineno">  864</span>    uint8_t partition_format_specifiers[<a class="code hl_variable" href="astcenc__internal_8h.html#a0f2aba262e65e945037f4ed5dda3f2f9">TUNE_MAX_TRIAL_CANDIDATES</a>][<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>];</div>
<div class="line"><span class="lineno">  865</span>    <span class="keywordtype">int</span> block_mode_index[<a class="code hl_variable" href="astcenc__internal_8h.html#a0f2aba262e65e945037f4ed5dda3f2f9">TUNE_MAX_TRIAL_CANDIDATES</a>];</div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>    <a class="code hl_enumeration" href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75">quant_method</a> color_quant_level[<a class="code hl_variable" href="astcenc__internal_8h.html#a0f2aba262e65e945037f4ed5dda3f2f9">TUNE_MAX_TRIAL_CANDIDATES</a>];</div>
<div class="line"><span class="lineno">  868</span>    <a class="code hl_enumeration" href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75">quant_method</a> color_quant_level_mod[<a class="code hl_variable" href="astcenc__internal_8h.html#a0f2aba262e65e945037f4ed5dda3f2f9">TUNE_MAX_TRIAL_CANDIDATES</a>];</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>    <a class="code hl_struct" href="structendpoints.html">endpoints</a> epm;</div>
<div class="line"><span class="lineno">  871</span>    <a class="code hl_function" href="#a7a73021370668773ad84b7a2f6285023">merge_endpoints</a>(ei1.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>, ei2.<a class="code hl_variable" href="structendpoints__and__weights.html#a9b5a8f6a4d2bdbf5993eeba5593228c4">ep</a>, plane2_component, epm);</div>
<div class="line"><span class="lineno">  872</span> </div>
<div class="line"><span class="lineno">  873</span>    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pi = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#aa9dfc7b23c8b5e6c71e956e2e39fff74">get_partition_info</a>(1, 0);</div>
<div class="line"><span class="lineno">  874</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> candidate_count = <a class="code hl_function" href="astcenc__internal_8h.html#a81c7b68e8c7b82a5ff718f21bd4f3c35">compute_ideal_endpoint_formats</a>(</div>
<div class="line"><span class="lineno">  875</span>        pi, blk, epm, qwt_bitcounts, qwt_errors,</div>
<div class="line"><span class="lineno">  876</span>        config.<a class="code hl_variable" href="structastcenc__config.html#a1985670205a89fcb92ba1995e6645c5e">tune_candidate_limit</a>,</div>
<div class="line"><span class="lineno">  877</span>        bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a2f96c6e4d1e35b4bac8778c474c69bb1">block_mode_count_1plane_selected</a>, bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a796557a9c78ee86175f67ed504731ac5">block_mode_count_1plane_2plane_selected</a>,</div>
<div class="line"><span class="lineno">  878</span>        partition_format_specifiers, block_mode_index,</div>
<div class="line"><span class="lineno">  879</span>        color_quant_level, color_quant_level_mod, tmpbuf);</div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>    <span class="comment">// Iterate over the N believed-to-be-best modes to find out which one is actually best</span></div>
<div class="line"><span class="lineno">  882</span>    <span class="keywordtype">float</span> best_errorval_in_mode = <a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a>;</div>
<div class="line"><span class="lineno">  883</span>    <span class="keywordtype">float</span> best_errorval_in_scb = scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4ed0a59a081d379e15d29e29f761d105">errorval</a>;</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; candidate_count; i++)</div>
<div class="line"><span class="lineno">  886</span>    {</div>
<div class="line"><span class="lineno">  887</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#ae040957570ced46496efbca3b734cffa">TRACE_NODE</a>(node0, <span class="stringliteral">&quot;candidate&quot;</span>);</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> bm_packed_index = block_mode_index[i];</div>
<div class="line"><span class="lineno">  890</span>        assert(bm_packed_index &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a2f96c6e4d1e35b4bac8778c474c69bb1">block_mode_count_1plane_selected</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  891</span>               bm_packed_index &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a796557a9c78ee86175f67ed504731ac5">block_mode_count_1plane_2plane_selected</a>));</div>
<div class="line"><span class="lineno">  892</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structblock__mode.html">block_mode</a>&amp; qw_bm = bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a82d0bf7e49df4683f0823b4951fb77f8">block_modes</a>[bm_packed_index];</div>
<div class="line"><span class="lineno">  893</span> </div>
<div class="line"><span class="lineno">  894</span>        <span class="keywordtype">int</span> <a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a> = qw_bm.<a class="code hl_variable" href="structblock__mode.html#aaf9846117d40406d5e84508f429cf949">decimation_mode</a>;</div>
<div class="line"><span class="lineno">  895</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; di = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d">get_decimation_info</a>(<a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a>);</div>
<div class="line"><span class="lineno">  896</span>        <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(di.weight_count &gt; 0);</div>
<div class="line"><span class="lineno">  897</span> </div>
<div class="line"><span class="lineno">  898</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;weight_x&quot;</span>, di.weight_x);</div>
<div class="line"><span class="lineno">  899</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;weight_y&quot;</span>, di.weight_y);</div>
<div class="line"><span class="lineno">  900</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;weight_z&quot;</span>, di.weight_z);</div>
<div class="line"><span class="lineno">  901</span>        <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;weight_quant&quot;</span>, qw_bm.<a class="code hl_variable" href="structblock__mode.html#a57910e5bd3d21447cdea6c7789723a86">quant_mode</a>);</div>
<div class="line"><span class="lineno">  902</span> </div>
<div class="line"><span class="lineno">  903</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> rgbs_color;</div>
<div class="line"><span class="lineno">  904</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> rgbo_color;</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>        <a class="code hl_struct" href="structsymbolic__compressed__block.html">symbolic_compressed_block</a> workscb;</div>
<div class="line"><span class="lineno">  907</span>        <a class="code hl_struct" href="structendpoints.html">endpoints</a> workep = epm;</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>        uint8_t* u8_weight1_src = dec_weights_uquant + <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a> * bm_packed_index;</div>
<div class="line"><span class="lineno">  910</span>        uint8_t* u8_weight2_src = dec_weights_uquant + <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a> * bm_packed_index + <a class="code hl_variable" href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a>;</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; di.weight_count; j++)</div>
<div class="line"><span class="lineno">  913</span>        {</div>
<div class="line"><span class="lineno">  914</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4c7260c4aa675446ffcb37f09e92dd0b">weights</a>[j] = u8_weight1_src[j];</div>
<div class="line"><span class="lineno">  915</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4c7260c4aa675446ffcb37f09e92dd0b">weights</a>[j + <a class="code hl_variable" href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a>] = u8_weight2_src[j];</div>
<div class="line"><span class="lineno">  916</span>        }</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l = 0; l &lt; config.<a class="code hl_variable" href="structastcenc__config.html#ae756e28f11bd615a23198c4ae2b1e90f">tune_refinement_limit</a>; l++)</div>
<div class="line"><span class="lineno">  919</span>        {</div>
<div class="line"><span class="lineno">  920</span>            <a class="code hl_function" href="astcenc__ideal__endpoints__and__weights_8cpp.html#afb3c455470bef24f48d7815bb78bb569">recompute_ideal_colors_2planes</a>(</div>
<div class="line"><span class="lineno">  921</span>                blk, bsd, di,</div>
<div class="line"><span class="lineno">  922</span>                workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4c7260c4aa675446ffcb37f09e92dd0b">weights</a>, workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4c7260c4aa675446ffcb37f09e92dd0b">weights</a> + <a class="code hl_variable" href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a>,</div>
<div class="line"><span class="lineno">  923</span>                workep, rgbs_color, rgbo_color, plane2_component);</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>            <span class="comment">// Quantize the chosen color</span></div>
<div class="line"><span class="lineno">  926</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a21dc79a4f976f6aa78d564576dcdde60">color_formats</a>[0] = <a class="code hl_function" href="astcenc__color__quantize_8cpp.html#ab9f9b564c57688af1f8fc1d9e000af81">pack_color_endpoints</a>(</div>
<div class="line"><span class="lineno">  927</span>                                           workep.<a class="code hl_variable" href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpt0</a>[0],</div>
<div class="line"><span class="lineno">  928</span>                                           workep.<a class="code hl_variable" href="structendpoints.html#a89660f637b681eaea32e7db6b9d9def2">endpt1</a>[0],</div>
<div class="line"><span class="lineno">  929</span>                                           rgbs_color, rgbo_color,</div>
<div class="line"><span class="lineno">  930</span>                                           partition_format_specifiers[i][0],</div>
<div class="line"><span class="lineno">  931</span>                                           workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ad539bb907ce654690e8a89cf62196f9c">color_values</a>[0],</div>
<div class="line"><span class="lineno">  932</span>                                           color_quant_level[i]);</div>
<div class="line"><span class="lineno">  933</span> </div>
<div class="line"><span class="lineno">  934</span>            <span class="comment">// Store header fields</span></div>
<div class="line"><span class="lineno">  935</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a6ac68bba1c38975e28fb3e67e974c551">partition_count</a> = 1;</div>
<div class="line"><span class="lineno">  936</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a17d42e08747747b32c650a48fe1b5b6e">partition_index</a> = 0;</div>
<div class="line"><span class="lineno">  937</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a449d8e3e4362348f1bd588eecaaa12c9">quant_mode</a> = color_quant_level[i];</div>
<div class="line"><span class="lineno">  938</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a2ad392432ebf011c42f7a72f49000d13">color_formats_matched</a> = 0;</div>
<div class="line"><span class="lineno">  939</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a7ba54ca805498286add2148b3b86546b">block_mode</a> = qw_bm.<a class="code hl_variable" href="structblock__mode.html#a045cae1a970db63e55e66df097c84863">mode_index</a>;</div>
<div class="line"><span class="lineno">  940</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a49f36c368c0d976f230c76c33aed2b9d">plane2_component</a> = <span class="keyword">static_cast&lt;</span>int8_t<span class="keyword">&gt;</span>(plane2_component);</div>
<div class="line"><span class="lineno">  941</span>            workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ac4c50ed170ee1fdbf19d288af74a8909">block_type</a> = <a class="code hl_variable" href="astcenc__internal_8h.html#a62b894529f4eb2badc6656c94ca1c003">SYM_BTYPE_NONCONST</a>;</div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="line"><span class="lineno">  943</span>            <span class="comment">// Pre-realign test</span></div>
<div class="line"><span class="lineno">  944</span>            <span class="keywordflow">if</span> (l == 0)</div>
<div class="line"><span class="lineno">  945</span>            {</div>
<div class="line"><span class="lineno">  946</span>                <span class="keywordtype">float</span> errorval = <a class="code hl_function" href="astcenc__decompress__symbolic_8cpp.html#a9c23f8373c9f5e708650b7c8e038b182">compute_symbolic_block_difference_2plane</a>(config, bsd, workscb, blk);</div>
<div class="line"><span class="lineno">  947</span>                <span class="keywordflow">if</span> (errorval == -<a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a>)</div>
<div class="line"><span class="lineno">  948</span>                {</div>
<div class="line"><span class="lineno">  949</span>                    errorval = -errorval;</div>
<div class="line"><span class="lineno">  950</span>                    workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ac4c50ed170ee1fdbf19d288af74a8909">block_type</a> = <a class="code hl_variable" href="astcenc__internal_8h.html#abbaedf878cfb7c16b1d10b72128b5ee7">SYM_BTYPE_ERROR</a>;</div>
<div class="line"><span class="lineno">  951</span>                }</div>
<div class="line"><span class="lineno">  952</span> </div>
<div class="line"><span class="lineno">  953</span>                <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;error_prerealign&quot;</span>, errorval);</div>
<div class="line"><span class="lineno">  954</span>                best_errorval_in_mode = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(errorval, best_errorval_in_mode);</div>
<div class="line"><span class="lineno">  955</span> </div>
<div class="line"><span class="lineno">  956</span>                <span class="comment">// Average refinement improvement is 3.5% per iteration (allow 4.5%), but the first</span></div>
<div class="line"><span class="lineno">  957</span>                <span class="comment">// iteration can help more so we give it a extra 8% leeway. Use this knowledge to</span></div>
<div class="line"><span class="lineno">  958</span>                <span class="comment">// drive a heuristic to skip blocks that are unlikely to catch up with the best</span></div>
<div class="line"><span class="lineno">  959</span>                <span class="comment">// block we have already.</span></div>
<div class="line"><span class="lineno">  960</span>                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iters_remaining = config.<a class="code hl_variable" href="structastcenc__config.html#ae756e28f11bd615a23198c4ae2b1e90f">tune_refinement_limit</a> - l;</div>
<div class="line"><span class="lineno">  961</span>                <span class="keywordtype">float</span> threshold = (0.045f * <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(iters_remaining)) + 1.08f;</div>
<div class="line"><span class="lineno">  962</span>                <span class="keywordflow">if</span> (errorval &gt; (threshold * best_errorval_in_scb))</div>
<div class="line"><span class="lineno">  963</span>                {</div>
<div class="line"><span class="lineno">  964</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  965</span>                }</div>
<div class="line"><span class="lineno">  966</span> </div>
<div class="line"><span class="lineno">  967</span>                <span class="keywordflow">if</span> (errorval &lt; best_errorval_in_scb)</div>
<div class="line"><span class="lineno">  968</span>                {</div>
<div class="line"><span class="lineno">  969</span>                    best_errorval_in_scb = errorval;</div>
<div class="line"><span class="lineno">  970</span>                    workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4ed0a59a081d379e15d29e29f761d105">errorval</a> = errorval;</div>
<div class="line"><span class="lineno">  971</span>                    scb = workscb;</div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span>                    <span class="keywordflow">if</span> (errorval &lt; tune_errorval_threshold)</div>
<div class="line"><span class="lineno">  974</span>                    {</div>
<div class="line"><span class="lineno">  975</span>                        <span class="comment">// Skip remaining candidates - this is &quot;good enough&quot;</span></div>
<div class="line"><span class="lineno">  976</span>                        i = candidate_count;</div>
<div class="line"><span class="lineno">  977</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  978</span>                    }</div>
<div class="line"><span class="lineno">  979</span>                }</div>
<div class="line"><span class="lineno">  980</span>            }</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>            <span class="comment">// Perform a final pass over the weights to try to improve them.</span></div>
<div class="line"><span class="lineno">  983</span>            <span class="keywordtype">bool</span> adjustments;</div>
<div class="line"><span class="lineno">  984</span>            <span class="keywordflow">if</span> (di.weight_count != bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a0df466b2eda6958f2e5f8a4f147367e4">texel_count</a>)</div>
<div class="line"><span class="lineno">  985</span>            {</div>
<div class="line"><span class="lineno">  986</span>                adjustments = <a class="code hl_function" href="#af80747ee43aa6fda579161376205c294">realign_weights_decimated</a>(</div>
<div class="line"><span class="lineno">  987</span>                    config.<a class="code hl_variable" href="structastcenc__config.html#ada0c6b7d066d933aa09a0c5e189a7856">profile</a>, bsd, blk, workscb);</div>
<div class="line"><span class="lineno">  988</span>            }</div>
<div class="line"><span class="lineno">  989</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  990</span>            {</div>
<div class="line"><span class="lineno">  991</span>                adjustments = <a class="code hl_function" href="#a91e5fa530ba0e492b85132e416a5ddf4">realign_weights_undecimated</a>(</div>
<div class="line"><span class="lineno">  992</span>                    config.<a class="code hl_variable" href="structastcenc__config.html#ada0c6b7d066d933aa09a0c5e189a7856">profile</a>, bsd, blk, workscb);</div>
<div class="line"><span class="lineno">  993</span>            }</div>
<div class="line"><span class="lineno">  994</span> </div>
<div class="line"><span class="lineno">  995</span>            <span class="comment">// Post-realign test</span></div>
<div class="line"><span class="lineno">  996</span>            <span class="keywordtype">float</span> errorval = <a class="code hl_function" href="astcenc__decompress__symbolic_8cpp.html#a9c23f8373c9f5e708650b7c8e038b182">compute_symbolic_block_difference_2plane</a>(config, bsd, workscb, blk);</div>
<div class="line"><span class="lineno">  997</span>            <span class="keywordflow">if</span> (errorval == -<a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a>)</div>
<div class="line"><span class="lineno">  998</span>            {</div>
<div class="line"><span class="lineno">  999</span>                errorval = -errorval;</div>
<div class="line"><span class="lineno"> 1000</span>                workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ac4c50ed170ee1fdbf19d288af74a8909">block_type</a> = <a class="code hl_variable" href="astcenc__internal_8h.html#abbaedf878cfb7c16b1d10b72128b5ee7">SYM_BTYPE_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1001</span>            }</div>
<div class="line"><span class="lineno"> 1002</span> </div>
<div class="line"><span class="lineno"> 1003</span>            <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;error_postrealign&quot;</span>, errorval);</div>
<div class="line"><span class="lineno"> 1004</span>            best_errorval_in_mode = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(errorval, best_errorval_in_mode);</div>
<div class="line"><span class="lineno"> 1005</span> </div>
<div class="line"><span class="lineno"> 1006</span>            <span class="comment">// Average refinement improvement is 3.5% per iteration, so skip blocks that are</span></div>
<div class="line"><span class="lineno"> 1007</span>            <span class="comment">// unlikely to catch up with the best block we have already. Assume a 4.5% per step to</span></div>
<div class="line"><span class="lineno"> 1008</span>            <span class="comment">// give benefit of the doubt ...</span></div>
<div class="line"><span class="lineno"> 1009</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iters_remaining = config.<a class="code hl_variable" href="structastcenc__config.html#ae756e28f11bd615a23198c4ae2b1e90f">tune_refinement_limit</a> - 1 - l;</div>
<div class="line"><span class="lineno"> 1010</span>            <span class="keywordtype">float</span> threshold = (0.045f * <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(iters_remaining)) + 1.0f;</div>
<div class="line"><span class="lineno"> 1011</span>            <span class="keywordflow">if</span> (errorval &gt; (threshold * best_errorval_in_scb))</div>
<div class="line"><span class="lineno"> 1012</span>            {</div>
<div class="line"><span class="lineno"> 1013</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1014</span>            }</div>
<div class="line"><span class="lineno"> 1015</span> </div>
<div class="line"><span class="lineno"> 1016</span>            <span class="keywordflow">if</span> (errorval &lt; best_errorval_in_scb)</div>
<div class="line"><span class="lineno"> 1017</span>            {</div>
<div class="line"><span class="lineno"> 1018</span>                best_errorval_in_scb = errorval;</div>
<div class="line"><span class="lineno"> 1019</span>                workscb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4ed0a59a081d379e15d29e29f761d105">errorval</a> = errorval;</div>
<div class="line"><span class="lineno"> 1020</span>                scb = workscb;</div>
<div class="line"><span class="lineno"> 1021</span> </div>
<div class="line"><span class="lineno"> 1022</span>                <span class="keywordflow">if</span> (errorval &lt; tune_errorval_threshold)</div>
<div class="line"><span class="lineno"> 1023</span>                {</div>
<div class="line"><span class="lineno"> 1024</span>                    <span class="comment">// Skip remaining candidates - this is &quot;good enough&quot;</span></div>
<div class="line"><span class="lineno"> 1025</span>                    i = candidate_count;</div>
<div class="line"><span class="lineno"> 1026</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1027</span>                }</div>
<div class="line"><span class="lineno"> 1028</span>            }</div>
<div class="line"><span class="lineno"> 1029</span> </div>
<div class="line"><span class="lineno"> 1030</span>            <span class="keywordflow">if</span> (!adjustments)</div>
<div class="line"><span class="lineno"> 1031</span>            {</div>
<div class="line"><span class="lineno"> 1032</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1033</span>            }</div>
<div class="line"><span class="lineno"> 1034</span>        }</div>
<div class="line"><span class="lineno"> 1035</span>    }</div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>    <span class="keywordflow">return</span> best_errorval_in_mode;</div>
<div class="line"><span class="lineno"> 1038</span>}</div>
<div class="ttc" id="aastcenc__compress__symbolic_8cpp_html_a7a73021370668773ad84b7a2f6285023"><div class="ttname"><a href="#a7a73021370668773ad84b7a2f6285023">merge_endpoints</a></div><div class="ttdeci">static void merge_endpoints(const endpoints &amp;ep_plane1, const endpoints &amp;ep_plane2, unsigned int component_plane2, endpoints &amp;result)</div><div class="ttdoc">Functions to compress a symbolic block.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__compress__symbolic_8cpp_source.html#l00037">astcenc_compress_symbolic.cpp:37</a></div></div>
<div class="ttc" id="aastcenc__decompress__symbolic_8cpp_html_a9c23f8373c9f5e708650b7c8e038b182"><div class="ttname"><a href="astcenc__decompress__symbolic_8cpp.html#a9c23f8373c9f5e708650b7c8e038b182">compute_symbolic_block_difference_2plane</a></div><div class="ttdeci">float compute_symbolic_block_difference_2plane(const astcenc_config &amp;config, const block_size_descriptor &amp;bsd, const symbolic_compressed_block &amp;scb, const image_block &amp;blk)</div><div class="ttdoc">Compute the error between a symbolic block and the original input data.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__decompress__symbolic_8cpp_source.html#l00324">astcenc_decompress_symbolic.cpp:324</a></div></div>
<div class="ttc" id="aastcenc__ideal__endpoints__and__weights_8cpp_html_a09a63c4b1e684f7ff9d88e5717b10bfb"><div class="ttname"><a href="astcenc__ideal__endpoints__and__weights_8cpp.html#a09a63c4b1e684f7ff9d88e5717b10bfb">compute_error_of_weight_set_2planes</a></div><div class="ttdeci">float compute_error_of_weight_set_2planes(const endpoints_and_weights &amp;eai1, const endpoints_and_weights &amp;eai2, const decimation_info &amp;di, const float *dec_weight_quant_uvalue_plane1, const float *dec_weight_quant_uvalue_plane2)</div><div class="ttdoc">Compute the error of a decimated weight set for 2 planes.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__ideal__endpoints__and__weights_8cpp_source.html#l00752">astcenc_ideal_endpoints_and_weights.cpp:752</a></div></div>
<div class="ttc" id="aastcenc__ideal__endpoints__and__weights_8cpp_html_a52d3985007cfc83025661e0347bc00cc"><div class="ttname"><a href="astcenc__ideal__endpoints__and__weights_8cpp.html#a52d3985007cfc83025661e0347bc00cc">compute_ideal_colors_and_weights_2planes</a></div><div class="ttdeci">void compute_ideal_colors_and_weights_2planes(const block_size_descriptor &amp;bsd, const image_block &amp;blk, unsigned int plane2_component, endpoints_and_weights &amp;ei1, endpoints_and_weights &amp;ei2)</div><div class="ttdoc">Compute ideal endpoint colors and weights for 2 planes of weights.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__ideal__endpoints__and__weights_8cpp_source.html#l00630">astcenc_ideal_endpoints_and_weights.cpp:630</a></div></div>
<div class="ttc" id="aastcenc__ideal__endpoints__and__weights_8cpp_html_afb3c455470bef24f48d7815bb78bb569"><div class="ttname"><a href="astcenc__ideal__endpoints__and__weights_8cpp.html#afb3c455470bef24f48d7815bb78bb569">recompute_ideal_colors_2planes</a></div><div class="ttdeci">void recompute_ideal_colors_2planes(const image_block &amp;blk, const block_size_descriptor &amp;bsd, const decimation_info &amp;di, const uint8_t *dec_weights_uquant_plane1, const uint8_t *dec_weights_uquant_plane2, endpoints &amp;ep, vfloat4 &amp;rgbs_vector, vfloat4 &amp;rgbo_vector, int plane2_component)</div><div class="ttdoc">For a given 2 plane weight set recompute the endpoint colors.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__ideal__endpoints__and__weights_8cpp_source.html#l01380">astcenc_ideal_endpoints_and_weights.cpp:1380</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a2dcf39b1f3c1e5f152abdf1f24e698da"><div class="ttname"><a href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a></div><div class="ttdeci">static constexpr unsigned int WEIGHTS_PLANE2_OFFSET</div><div class="ttdoc">The offset of the plane 2 weights in shared weight arrays.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00108">astcenc_internal.h:108</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a571d7379fd52446338ef4fa7e700cb42"><div class="ttname"><a href="astcenc__internal_8h.html#a571d7379fd52446338ef4fa7e700cb42">compute_angular_endpoints_2planes</a></div><div class="ttdeci">void compute_angular_endpoints_2planes(const block_size_descriptor &amp;bsd, const float *dec_weight_ideal_value, unsigned int max_weight_quant, compression_working_buffers &amp;tmpbuf)</div><div class="ttdoc">Compute the angular endpoints for two planes for each block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__weight__align_8cpp_source.html#l00405">astcenc_weight_align.cpp:405</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_a796557a9c78ee86175f67ed504731ac5"><div class="ttname"><a href="structblock__size__descriptor.html#a796557a9c78ee86175f67ed504731ac5">block_size_descriptor::block_mode_count_1plane_2plane_selected</a></div><div class="ttdeci">unsigned int block_mode_count_1plane_2plane_selected</div><div class="ttdoc">The number of stored block modes for active 1 and 2 plane encodings.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00568">astcenc_internal.h:568</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a6b3f7da41bb370993657d209bbb95d03"><div class="ttname"><a href="structcompression__working__buffers.html#a6b3f7da41bb370993657d209bbb95d03">compression_working_buffers::weight_low_value2</a></div><div class="ttdeci">float weight_low_value2[WEIGHTS_MAX_BLOCK_MODES]</div><div class="ttdoc">The low weight value in plane 2 for each block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00997">astcenc_internal.h:997</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a72e3ac47a49cfb6ed8b4933699014858"><div class="ttname"><a href="structcompression__working__buffers.html#a72e3ac47a49cfb6ed8b4933699014858">compression_working_buffers::weight_high_value2</a></div><div class="ttdeci">float weight_high_value2[WEIGHTS_MAX_BLOCK_MODES]</div><div class="ttdoc">The high weight value in plane 2 for each block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01000">astcenc_internal.h:1000</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_aea66967939a847f55562ba3049b53964"><div class="ttname"><a href="structcompression__working__buffers.html#aea66967939a847f55562ba3049b53964">compression_working_buffers::ei2</a></div><div class="ttdeci">endpoints_and_weights ei2</div><div class="ttdoc">Ideal endpoints and weights for plane 2.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00947">astcenc_internal.h:947</a></div></div>
<div class="ttc" id="astructvint4_html_a21e3d111e37da1aaaeb5ba21a831c863"><div class="ttname"><a href="structvint4.html#a21e3d111e37da1aaaeb5ba21a831c863">vint4::lane_id</a></div><div class="ttdeci">static ASTCENC_SIMD_INLINE vint4 lane_id()</div><div class="ttdoc">Factory that returns a vector containing the lane IDs.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00294">astcenc_vecmathlib_neon_4.h:294</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_af11a976c8ea386db054bef472ce0667c_cgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_af11a976c8ea386db054bef472ce0667c_cgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_af11a976c8ea386db054bef472ce0667c_cgraph" id="aastcenc__compress__symbolic_8cpp_af11a976c8ea386db054bef472ce0667c_cgraph">
<area shape="rect" title="Compress a block using a chosen partitioning and 2 planes of weights." alt="" coords="5,844,181,884"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a571d7379fd52446338ef4fa7e700cb42" title="Compute the angular endpoints for two planes for each block mode." alt="" coords="229,127,413,167"/>
<area shape="poly" title=" " alt="" coords="91,844,93,740,98,665,108,579,124,487,149,393,182,302,227,216,247,192,270,173,273,177,250,196,232,219,187,304,154,395,130,489,113,580,103,666,98,741,97,844"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc" title="Return lanes from b if cond is set, else a." alt="" coords="747,598,804,623"/>
<area shape="poly" title=" " alt="" coords="93,843,99,773,119,674,137,620,160,567,190,517,227,474,279,430,330,396,380,372,431,358,483,355,537,363,594,381,655,411,678,427,699,448,732,495,755,543,770,584,765,585,750,545,728,497,695,451,675,432,652,416,592,386,536,368,483,361,432,364,382,377,332,401,282,434,231,478,194,520,164,569,142,622,125,675,105,774,98,844"/>
<area shape="rect" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d" title="Get the decimation info structure for index decimation_mode." alt="" coords="701,149,849,189"/>
<area shape="poly" title=" " alt="" coords="93,844,101,699,123,480,140,365,163,259,192,172,209,138,227,113,276,67,324,35,373,14,423,4,476,4,531,13,590,30,654,54,685,70,712,91,754,136,750,140,708,95,682,74,652,58,589,35,530,19,475,10,424,9,375,19,327,39,279,71,231,116,213,141,197,174,168,261,146,366,128,480,106,700,98,844"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a09a63c4b1e684f7ff9d88e5717b10bfb" title="Compute the error of a decimated weight set for 2 planes." alt="" coords="474,2219,641,2259"/>
<area shape="poly" title=" " alt="" coords="98,884,108,1140,132,1556,150,1770,172,1961,200,2105,215,2154,231,2182,246,2193,267,2203,325,2217,393,2227,461,2232,460,2238,393,2232,324,2223,266,2208,243,2198,227,2186,210,2156,194,2107,167,1962,145,1771,127,1556,103,1140,93,884"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a52d3985007cfc83025661e0347bc00cc" title="Compute ideal endpoint colors and weights for 2 planes of weights." alt="" coords="245,904,398,944"/>
<area shape="poly" title=" " alt="" coords="171,882,232,898,231,903,170,887"/>
<area shape="rect" href="structvint4.html#a21e3d111e37da1aaaeb5ba21a831c863" title="Factory that returns a vector containing the lane IDs." alt="" coords="727,785,824,810"/>
<area shape="poly" title=" " alt="" coords="130,841,176,818,228,796,343,760,461,741,558,731,600,732,654,741,701,756,742,776,739,780,699,761,653,747,600,738,558,736,462,747,344,765,230,801,178,823,132,846"/>
<area shape="rect" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738" title="Return the minimum of two values." alt="" coords="737,1719,813,1745"/>
<area shape="poly" title=" " alt="" coords="98,884,110,1067,136,1361,154,1518,176,1666,202,1792,217,1843,232,1884,275,1978,295,2016,318,2048,344,2077,375,2104,414,2129,462,2154,515,2176,561,2186,583,2185,605,2180,627,2170,651,2154,665,2134,680,2095,714,1980,766,1757,771,1759,719,1981,685,2097,669,2137,655,2158,630,2175,606,2185,583,2191,561,2191,514,2181,460,2158,411,2134,372,2108,340,2081,313,2052,291,2018,270,1980,227,1886,211,1845,197,1794,171,1667,149,1519,131,1362,105,1068,93,884"/>
<area shape="rect" href="structblock__size__descriptor.html#aa9dfc7b23c8b5e6c71e956e2e39fff74" title="Get the partition info structure for a given partition count and seed." alt="" coords="701,397,849,437"/>
<area shape="poly" title=" " alt="" coords="95,843,111,749,139,615,158,547,179,485,202,434,227,401,279,362,329,337,377,325,425,322,476,327,529,338,654,365,690,375,724,389,722,394,688,380,653,371,528,343,475,333,425,328,378,330,331,342,282,366,231,405,207,437,184,487,163,548,145,616,116,750,100,844"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a81c7b68e8c7b82a5ff718f21bd4f3c35" title="Identify, for each mode, which set of color endpoint produces the best result." alt="" coords="240,1432,403,1472"/>
<area shape="poly" title=" " alt="" coords="105,883,310,1418,305,1420,100,885"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#ae1b4e922c67d5349fc849709ca08178f" title="Compute the optimal unquantized weights for a decimation table." alt="" coords="479,2283,636,2323"/>
<area shape="poly" title=" " alt="" coords="98,884,107,1149,131,1581,149,1805,172,2003,185,2086,199,2154,215,2204,231,2234,261,2247,319,2262,465,2287,464,2292,318,2267,259,2252,228,2238,210,2206,194,2155,180,2087,166,2004,144,1805,126,1582,102,1149,93,884"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#af42cf444db5f16e2ed4fb642acf81f4a" title="Compute the optimal quantized weights for a decimation table." alt="" coords="464,591,651,631"/>
<area shape="poly" title=" " alt="" coords="103,842,151,771,186,732,228,698,281,669,339,647,396,631,450,620,451,625,398,636,340,652,284,674,231,702,190,735,155,775,108,845"/>
<area shape="rect" href="astcenc__decompress__symbolic_8cpp.html#a9c23f8373c9f5e708650b7c8e038b182" title="Compute the error between a symbolic block and the original input data." alt="" coords="473,476,642,516"/>
<area shape="poly" title=" " alt="" coords="96,843,110,792,135,724,173,652,198,619,228,590,281,554,341,529,402,512,459,501,460,506,403,517,343,534,284,559,231,594,203,622,178,655,140,726,115,794,101,844"/>
<area shape="rect" href="structblock__size__descriptor.html#aef601af82748a14a8826e94f5e1b4184" title="Get the decimation mode structure for index decimation_mode." alt="" coords="243,2297,400,2337"/>
<area shape="poly" title=" " alt="" coords="98,884,109,1155,135,1599,153,1829,175,2034,202,2191,216,2244,232,2277,241,2287,237,2291,227,2280,211,2246,196,2192,170,2034,148,1829,129,1599,104,1155,93,884"/>
<area shape="rect" href="structblock__mode.html#a760578093fb16da4932bc26d2d5c1837" title="Get the weight quantization used by this block mode." alt="" coords="240,2361,403,2401"/>
<area shape="poly" title=" " alt="" coords="98,884,107,1167,131,1634,149,1877,172,2093,199,2258,215,2314,232,2348,234,2351,230,2354,227,2351,210,2316,194,2259,167,2093,144,1877,126,1635,102,1168,93,884"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a5618d81f875c0158284ccc9923d83dab" title="Return the horizontal minimum of a vector." alt="" coords="289,1847,353,1873"/>
<area shape="poly" title=" " alt="" coords="100,884,142,1170,182,1383,232,1601,274,1733,312,1834,307,1836,269,1735,227,1602,176,1384,137,1171,95,885"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a7a73021370668773ad84b7a2f6285023" title="Functions to compress a symbolic block." alt="" coords="497,541,618,566"/>
<area shape="poly" title=" " alt="" coords="99,843,116,802,143,748,180,693,203,668,228,646,289,609,357,583,424,566,483,557,484,562,425,571,358,588,292,614,231,650,206,672,184,697,148,751,121,804,104,845"/>
<area shape="rect" href="astcenc__color__quantize_8cpp.html#ab9f9b564c57688af1f8fc1d9e000af81" title="Pack a single pair of color endpoints as effectively as possible." alt="" coords="247,2146,395,2171"/>
<area shape="poly" title=" " alt="" coords="98,884,111,1128,137,1524,156,1729,178,1911,203,2050,217,2097,231,2125,245,2137,241,2141,227,2128,212,2099,198,2051,173,1911,151,1729,132,1525,105,1129,93,884"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af80747ee43aa6fda579161376205c294" title="Attempt to improve weights given a chosen configuration." alt="" coords="468,757,647,782"/>
<area shape="poly" title=" " alt="" coords="181,844,480,782,481,787,182,849"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a91e5fa530ba0e492b85132e416a5ddf4" title="Attempt to improve weights given a chosen configuration." alt="" coords="461,426,653,451"/>
<area shape="poly" title=" " alt="" coords="94,843,105,783,128,700,145,655,167,610,194,569,228,533,277,497,334,471,392,454,447,444,448,449,393,459,336,476,280,502,231,537,199,572,172,613,150,657,133,701,110,784,100,844"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#afb3c455470bef24f48d7815bb78bb569" title="For a given 2 plane weight set recompute the endpoint colors." alt="" coords="478,1673,637,1713"/>
<area shape="poly" title=" " alt="" coords="97,884,98,984,104,1056,114,1138,130,1226,154,1315,188,1402,232,1483,257,1516,286,1546,353,1597,422,1637,486,1666,483,1670,420,1642,350,1601,282,1550,253,1519,227,1485,183,1404,149,1317,125,1227,109,1139,98,1057,93,984,91,884"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a52f057b7da5fc35adac361b3696ac963" title="The main function for the angular algorithm." alt="" coords="465,159,649,199"/>
<area shape="poly" title=" " alt="" coords="414,156,452,162,451,167,413,162"/>
<area shape="poly" title=" " alt="" coords="354,124,403,99,461,80,515,69,558,63,601,66,654,80,680,91,705,105,746,138,743,142,702,110,678,96,652,85,600,72,558,69,516,74,462,85,405,104,357,129"/>
<area shape="rect" href="structdecimation__mode.html#aa2fe4a73b6781930c375b1810a03f73b" title="Test if this mode is active below a given 2 plane weight quant (inclusive)." alt="" coords="486,95,629,135"/>
<area shape="poly" title=" " alt="" coords="413,132,472,123,473,129,414,137"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82" title="Return a 8&#45;bit mask code indicating mask status." alt="" coords="748,325,803,350"/>
<area shape="poly" title=" " alt="" coords="619,196,655,215,685,238,713,264,757,312,753,316,710,268,682,242,652,220,617,201"/>
<area shape="poly" title=" " alt="" coords="589,197,624,227,656,267,677,315,685,356,691,397,704,448,734,523,764,585,759,587,730,526,699,450,685,398,680,356,672,316,651,269,620,231,586,201"/>
<area shape="poly" title=" " alt="" coords="630,130,655,145,681,174,711,220,763,311,759,314,707,222,677,178,652,149,627,134"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a617a8dec1d2168023a84f5c0fa1c20ca" title="Functions for computing color endpoints and texel weights." alt="" coords="718,2175,833,2201"/>
<area shape="poly" title=" " alt="" coords="640,2217,706,2201,707,2206,641,2222"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a84286bd889620da3be77539ddfdf3b45" title="Compute the infilled weight for N texel indices in a decimated grid." alt="" coords="711,2126,839,2151"/>
<area shape="poly" title=" " alt="" coords="614,2216,652,2198,676,2180,700,2162,717,2154,719,2159,703,2166,679,2184,655,2202,616,2221"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aaa291a197219a09a2e1103aec6945b3c" title="Accumulate lane&#45;wise sums for a vector, folded 4&#45;wide." alt="" coords="727,2077,823,2102"/>
<area shape="poly" title=" " alt="" coords="623,2216,652,2198,668,2177,675,2156,682,2134,700,2113,713,2103,716,2108,703,2117,687,2137,680,2158,672,2180,655,2202,626,2221"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898" title="Return the horizontal sum of a vector." alt="" coords="743,1161,807,1186"/>
<area shape="poly" title=" " alt="" coords="591,2217,624,2190,639,2173,651,2155,668,2106,679,2042,686,1968,690,1888,692,1732,699,1612,735,1372,766,1199,772,1200,740,1373,704,1612,698,1733,695,1889,691,1968,685,2043,673,2107,656,2157,643,2176,628,2194,594,2221"/>
<area shape="rect" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae" title="Factory that returns a vector of zeros." alt="" coords="730,1067,821,1093"/>
<area shape="poly" title=" " alt="" coords="592,2216,625,2190,639,2173,651,2155,666,2112,677,2060,682,2001,684,1936,679,1791,669,1638,659,1484,656,1341,660,1276,667,1217,680,1166,699,1124,711,1109,726,1097,730,1101,715,1113,704,1127,685,1168,673,1218,665,1276,662,1341,664,1484,674,1637,684,1791,689,1936,688,2001,682,2061,672,2113,656,2157,644,2176,628,2194,595,2221"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aae2f99eb48f3cde0f4739b894e8ca29f" title="Load a vector of gathered results from an array;" alt="" coords="897,2175,959,2201"/>
<area shape="poly" title=" " alt="" coords="833,2185,883,2185,883,2191,833,2191"/>
<area shape="poly" title=" " alt="" coords="816,2149,885,2171,884,2177,814,2154"/>
<area shape="poly" title=" " alt="" coords="750,2078,744,2068,747,2059,758,2052,775,2050,796,2053,805,2062,802,2066,794,2058,775,2055,760,2057,751,2062,750,2068,754,2075"/>
<area shape="poly" title=" " alt="" coords="750,1162,744,1152,747,1143,758,1136,775,1134,796,1137,805,1146,802,1150,794,1142,775,1139,760,1141,751,1146,750,1152,754,1159"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a3e9812129972c73914841ecc0f6a7e71" title="Compute the ideal endpoints and weights for 1 color component." alt="" coords="480,935,635,975"/>
<area shape="poly" title=" " alt="" coords="399,931,466,940,466,945,398,937"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#ad96c399a873ddd142d4779b6aeb74b87" title="Compute the ideal endpoints and weights for 2 color components." alt="" coords="480,1049,635,1089"/>
<area shape="poly" title=" " alt="" coords="357,942,514,1040,511,1044,354,946"/>
<area shape="rect" href="astcenc__ideal__endpoints__and__weights_8cpp.html#a7ec20ff2556f6357cc0754c13e841262" title="Compute the ideal endpoints and weights for 3 color components." alt="" coords="480,1164,635,1204"/>
<area shape="poly" title=" " alt="" coords="339,943,391,1014,463,1099,521,1153,518,1157,459,1103,387,1017,334,946"/>
<area shape="poly" title=" " alt="" coords="322,903,336,799,364,649,383,572,405,503,430,447,444,426,460,411,488,394,518,383,550,376,583,374,647,379,704,391,703,396,646,384,583,379,550,382,519,388,490,399,463,415,449,430,435,450,410,505,388,574,369,650,342,800,328,904"/>
<area shape="rect" href="structimage__block.html#ae3c0735355d378591db6cb7a011e381a" title="Test if a single color channel is constant across the block." alt="" coords="472,807,643,847"/>
<area shape="poly" title=" " alt="" coords="361,901,460,856,479,849,481,854,462,861,363,906"/>
<area shape="poly" title=" " alt="" coords="633,934,652,921,666,903,675,887,684,853,688,817,699,772,759,635,764,637,704,774,693,818,689,854,680,888,671,906,655,925,636,938"/>
<area shape="poly" title=" " alt="" coords="629,932,652,920,683,897,711,870,755,819,759,823,715,874,687,901,655,925,631,937"/>
<area shape="poly" title=" " alt="" coords="595,973,628,1000,643,1017,656,1036,676,1082,689,1125,697,1165,700,1204,695,1278,682,1349,670,1419,664,1493,666,1531,673,1572,685,1615,704,1660,722,1687,745,1709,742,1713,718,1691,699,1663,680,1616,668,1573,661,1532,659,1492,665,1418,677,1348,690,1277,694,1204,691,1166,684,1126,671,1083,651,1039,639,1020,624,1004,592,977"/>
<area shape="poly" title=" " alt="" coords="589,1047,622,1020,651,985,666,956,675,930,682,883,685,833,699,772,729,696,759,634,763,637,734,698,704,774,691,834,687,884,680,932,671,958,656,988,626,1024,592,1051"/>
<area shape="poly" title=" " alt="" coords="601,1087,737,1152,734,1157,599,1092"/>
<area shape="poly" title=" " alt="" coords="635,1070,716,1074,716,1080,635,1076"/>
<area shape="poly" title=" " alt="" coords="625,1047,652,1029,671,1004,680,980,687,953,699,921,756,820,761,823,704,924,692,955,685,981,676,1006,655,1033,628,1051"/>
<area shape="poly" title=" " alt="" coords="594,1087,628,1114,643,1131,656,1151,672,1188,684,1223,693,1288,691,1348,682,1406,673,1464,670,1524,678,1588,688,1623,704,1660,722,1687,746,1709,742,1713,718,1691,699,1663,683,1625,673,1589,664,1524,668,1463,677,1405,686,1348,688,1288,679,1224,667,1190,651,1153,639,1135,624,1118,591,1091"/>
<area shape="poly" title=" " alt="" coords="635,1177,730,1173,730,1178,635,1183"/>
<area shape="poly" title=" " alt="" coords="610,1161,652,1143,739,1097,742,1102,654,1148,612,1166"/>
<area shape="poly" title=" " alt="" coords="636,1199,655,1216,666,1233,674,1254,683,1307,687,1368,687,1435,687,1565,692,1619,704,1660,722,1687,745,1709,742,1713,718,1690,699,1662,687,1620,681,1565,681,1435,681,1369,678,1307,669,1256,661,1235,651,1219,633,1204"/>
<area shape="poly" title=" " alt="" coords="643,812,712,803,713,808,644,818"/>
<area shape="poly" title=" " alt="" coords="324,1431,364,1238,389,1099,411,956,414,902,414,833,411,674,413,594,420,519,435,457,446,432,459,412,488,385,522,364,559,350,598,340,673,331,734,331,734,336,673,336,599,345,561,355,525,369,492,389,463,415,450,434,440,459,425,520,418,594,416,674,419,833,419,902,416,956,394,1100,369,1239,330,1432"/>
<area shape="poly" title=" " alt="" coords="324,1431,395,1050,436,841,459,743,479,725,507,707,581,673,663,643,733,620,734,625,665,648,583,678,510,712,482,729,464,745,441,842,400,1051,329,1432"/>
<area shape="poly" title=" " alt="" coords="320,1431,326,1357,346,1250,364,1192,388,1135,419,1082,460,1035,484,1018,508,1009,531,1006,555,1006,602,1005,626,999,652,985,670,961,699,917,757,821,762,823,704,920,675,965,655,989,628,1004,603,1011,555,1011,532,1011,509,1014,486,1022,463,1039,424,1085,392,1138,369,1194,351,1252,332,1358,326,1432"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a163a7d0cf020b6f86049745807912ec1" title="For a given partition compute the error for every endpoint integer count and quant level." alt="" coords="475,1465,640,1519"/>
<area shape="poly" title=" " alt="" coords="403,1463,462,1473,461,1478,403,1468"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#affc96d3eeffef962cd64307bf0b85590" title="For a given set of input colors and partitioning determine endpoint encode errors." alt="" coords="469,871,645,911"/>
<area shape="poly" title=" " alt="" coords="323,1431,339,1326,368,1173,387,1094,409,1022,433,962,459,921,463,917,467,921,463,924,438,964,414,1023,392,1095,373,1174,344,1327,328,1432"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#aa54b7e3566c1445d292b8ff7cf6f5e28" title="For 4 partitions compute the best format and quantization for a given bit count." alt="" coords="481,1543,633,1598"/>
<area shape="poly" title=" " alt="" coords="356,1470,463,1530,474,1535,472,1540,460,1534,353,1474"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a806d3ce88e28226224c6b929b69f2fda" title="For 4 partitions compute the best format combinations for every pair of quant mode and integer count." alt="" coords="475,1924,639,1993"/>
<area shape="poly" title=" " alt="" coords="329,1471,348,1564,380,1695,420,1824,441,1875,463,1910,467,1914,463,1918,459,1914,437,1877,415,1826,375,1696,343,1565,324,1473"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ae7ff255b24f24f8d2a31e6849f4b1250" title="Return the horizontal minimum of a vector." alt="" coords="532,2069,583,2094"/>
<area shape="poly" title=" " alt="" coords="330,1472,416,1835,424,1899,424,1951,426,1975,432,1998,444,2022,463,2047,489,2065,519,2075,517,2080,487,2070,459,2051,439,2025,427,2000,421,1975,418,1951,418,1899,411,1836,325,1473"/>
<area shape="rect" href="structvint4.html#a01e3f7debf73dc6c757fa36d585c9d17" title="Get the scalar from a single lane." alt="" coords="517,2118,597,2143"/>
<area shape="poly" title=" " alt="" coords="330,1472,368,1622,416,1835,422,1878,422,1916,418,1983,419,2013,425,2043,439,2073,463,2105,482,2118,504,2125,503,2131,479,2123,459,2109,434,2076,420,2044,413,2013,413,1983,417,1916,416,1878,411,1836,363,1624,325,1473"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a4a0bf4253790d6b09132c02f57fcbe32" title="For one partition compute the best format and quantization for a given bit count." alt="" coords="481,1229,633,1283"/>
<area shape="poly" title=" " alt="" coords="334,1430,385,1364,420,1327,460,1294,469,1288,471,1292,463,1298,424,1331,389,1368,338,1433"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a63b1ecd0244123ff734e6791e33bf9ca" title="Round a count down to the largest multiple of the SIMD width." alt="" coords="703,2225,847,2265"/>
<area shape="poly" title=" " alt="" coords="330,1472,402,1772,442,1931,464,2004,486,2021,509,2029,533,2031,557,2029,581,2028,606,2029,631,2038,655,2055,671,2075,679,2095,681,2134,683,2173,690,2192,703,2212,706,2215,703,2218,699,2215,685,2194,678,2174,676,2134,673,2096,666,2078,651,2059,628,2042,605,2035,581,2033,557,2035,533,2036,508,2034,483,2025,459,2007,437,1932,397,1773,325,1473"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ac55f9ffdc41bee5d274cb6433809fefc" title="Store lowest N (vector width) bytes into an unaligned address." alt="" coords="727,934,824,959"/>
<area shape="poly" title=" " alt="" coords="323,1431,336,1375,361,1299,379,1258,401,1219,428,1182,460,1150,485,1133,509,1124,555,1121,601,1119,626,1113,652,1099,675,1077,704,1042,756,969,760,972,708,1046,679,1081,655,1103,628,1118,602,1124,555,1126,510,1130,487,1138,463,1154,432,1185,405,1222,383,1261,366,1301,341,1376,329,1432"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a" title="Store a vector to a 16B aligned memory address." alt="" coords="746,1623,805,1649"/>
<area shape="poly" title=" " alt="" coords="341,1470,408,1552,442,1589,463,1608,497,1623,533,1633,607,1643,676,1644,732,1639,732,1645,676,1649,606,1648,532,1638,495,1628,460,1613,438,1593,404,1555,337,1474"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a7681b157ce5786accf05034e1facbdbe" title="For 3 partitions compute the best format and quantization for a given bit count." alt="" coords="481,1307,633,1362"/>
<area shape="poly" title=" " alt="" coords="355,1429,460,1372,475,1365,477,1370,463,1377,358,1434"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#ab08ff5ed53a05a876dc8e90c05aeef72" title="For 3 partitions compute the best format combinations for every pair of quant mode and integer count." alt="" coords="475,1831,639,1900"/>
<area shape="poly" title=" " alt="" coords="328,1472,339,1536,363,1627,380,1677,403,1727,430,1774,463,1817,466,1820,463,1824,459,1820,426,1777,398,1729,375,1679,358,1629,334,1537,322,1473"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#a5c74518d7a68796ba962179901f805ae" title="For 2 partitions compute the best format and quantization for a given bit count." alt="" coords="481,1386,633,1441"/>
<area shape="poly" title=" " alt="" coords="403,1436,467,1425,468,1431,403,1441"/>
<area shape="rect" href="astcenc__pick__best__endpoint__format_8cpp.html#ac317754d4bbd795d6f29b331883e8eb3" title="For 2 partitions compute the best format combinations for every pair of quant mode and integer count." alt="" coords="475,1737,639,1807"/>
<area shape="poly" title=" " alt="" coords="331,1471,346,1521,374,1587,412,1659,436,1693,463,1723,466,1726,463,1730,459,1727,432,1696,408,1662,369,1590,341,1523,326,1473"/>
<area shape="poly" title=" " alt="" coords="639,869,651,857,662,840,669,818,678,762,680,696,679,625,677,486,684,428,690,404,699,384,715,365,734,352,737,356,719,369,704,387,695,405,689,429,683,486,684,625,686,696,684,763,675,819,667,842,655,860,642,873"/>
<area shape="poly" title=" " alt="" coords="634,908,655,920,679,944,708,980,760,1054,756,1057,703,983,675,948,652,925,631,913"/>
<area shape="poly" title=" " alt="" coords="636,1922,652,1910,687,1872,718,1830,760,1756,765,1759,722,1833,692,1876,655,1914,639,1926"/>
<area shape="poly" title=" " alt="" coords="631,1828,652,1816,702,1783,746,1751,749,1755,705,1787,655,1821,633,1833"/>
<area shape="poly" title=" " alt="" coords="639,1754,724,1739,725,1744,640,1760"/>
<area shape="poly" title=" " alt="" coords="631,2280,652,2268,666,2255,675,2241,684,2226,700,2211,712,2204,715,2208,703,2215,688,2229,680,2243,671,2258,655,2273,633,2285"/>
<area shape="poly" title=" " alt="" coords="636,2309,686,2309,741,2305,796,2295,848,2275,867,2262,884,2246,910,2211,915,2215,888,2250,871,2266,851,2280,798,2300,741,2311,686,2315,636,2314"/>
<area shape="poly" title=" " alt="" coords="635,2280,652,2269,663,2256,669,2243,675,2217,681,2190,688,2176,699,2162,707,2156,710,2160,703,2166,692,2179,686,2191,680,2218,674,2245,667,2259,655,2273,638,2285"/>
<area shape="poly" title=" " alt="" coords="634,2284,651,2269,663,2241,672,2196,681,2064,683,1892,679,1701,675,1509,675,1336,681,1202,688,1155,699,1124,711,1109,726,1097,729,1102,715,1113,704,1127,694,1156,687,1202,680,1336,681,1509,685,1701,688,1892,687,2064,677,2197,668,2243,655,2272,638,2288"/>
<area shape="poly" title=" " alt="" coords="633,2280,689,2265,691,2270,635,2285"/>
<area shape="poly" title=" " alt="" coords="634,2283,651,2269,664,2248,673,2222,683,2157,686,2079,684,1995,680,1830,685,1760,690,1731,699,1707,718,1678,742,1655,746,1659,722,1682,704,1709,695,1733,690,1761,685,1830,689,1995,691,2079,689,2157,678,2223,668,2250,655,2272,638,2287"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e" title="Return the clamped value between min and max." alt="" coords="747,2390,804,2415"/>
<area shape="poly" title=" " alt="" coords="594,2320,644,2348,702,2376,734,2388,733,2393,700,2381,642,2353,591,2325"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a516a2f0d872381b8c7c047845a90c9a3" title="Return the horizontal maximum of a vector." alt="" coords="748,2341,803,2366"/>
<area shape="poly" title=" " alt="" coords="637,2318,735,2341,734,2347,636,2324"/>
<area shape="poly" title=" " alt="" coords="635,588,651,575,668,552,676,529,678,507,678,484,678,436,685,411,699,384,715,366,734,353,738,357,719,370,703,387,690,412,683,437,683,484,684,507,681,531,673,555,655,579,639,593"/>
<area shape="poly" title=" " alt="" coords="651,608,733,608,733,613,651,613"/>
<area shape="poly" title=" " alt="" coords="576,630,656,742,762,921,758,924,651,745,572,633"/>
<area shape="poly" title=" " alt="" coords="580,629,620,678,640,709,656,743,677,809,690,866,696,918,697,967,695,1069,697,1129,704,1198,741,1437,772,1609,766,1610,736,1438,699,1199,692,1129,690,1069,691,967,690,918,685,867,672,810,651,745,635,712,616,681,576,632"/>
<area shape="poly" title=" " alt="" coords="627,514,655,526,706,556,750,587,746,592,703,561,652,530,625,519"/>
<area shape="poly" title=" " alt="" coords="635,474,651,461,666,443,675,426,683,392,687,355,699,311,726,252,753,200,758,203,731,254,704,313,692,356,688,393,680,428,671,446,655,465,638,478"/>
<area shape="poly" title=" " alt="" coords="642,514,655,526,666,543,674,565,685,617,690,678,691,744,691,874,695,929,704,971,728,1017,756,1055,751,1058,723,1020,699,973,689,930,686,874,685,744,684,678,680,617,669,566,661,546,651,530,639,518"/>
<area shape="poly" title=" " alt="" coords="638,514,655,526,765,771,760,773,651,530,635,518"/>
<area shape="poly" title=" " alt="" coords="331,1871,349,1906,378,1953,416,2004,463,2047,490,2062,519,2072,518,2077,488,2067,460,2051,412,2007,373,1956,344,1909,326,1874"/>
<area shape="poly" title=" " alt="" coords="607,563,734,597,732,602,606,569"/>
<area shape="poly" title=" " alt="" coords="619,559,638,566,655,577,684,611,714,664,765,770,761,773,710,667,679,614,652,581,635,571,617,564"/>
<area shape="poly" title=" " alt="" coords="396,2147,503,2134,504,2140,396,2152"/>
<area shape="poly" title=" " alt="" coords="334,2170,403,2262,440,2308,463,2332,496,2350,532,2365,606,2385,676,2396,733,2400,733,2405,676,2401,605,2390,530,2370,494,2355,460,2337,436,2312,399,2265,330,2173"/>
<area shape="poly" title=" " alt="" coords="574,754,744,629,747,634,578,759"/>
<area shape="poly" title=" " alt="" coords="570,755,611,707,633,676,651,642,667,594,676,553,679,479,680,404,686,361,699,311,724,251,752,200,756,202,729,253,704,313,691,362,686,404,684,479,681,553,672,596,656,644,638,679,615,711,574,758"/>
<area shape="poly" title=" " alt="" coords="639,780,655,793,682,832,694,869,695,906,690,943,685,980,682,1019,687,1060,704,1104,722,1129,745,1150,741,1154,718,1133,699,1107,682,1061,677,1019,679,980,685,942,690,906,688,870,677,834,651,796,636,784"/>
<area shape="poly" title=" " alt="" coords="637,780,655,793,673,814,683,835,689,877,690,921,694,945,704,971,729,1016,757,1054,752,1057,725,1019,699,973,689,946,685,921,684,877,678,837,668,817,652,797,634,784"/>
<area shape="poly" title=" " alt="" coords="647,778,713,787,712,792,647,783"/>
<area shape="poly" title=" " alt="" coords="567,755,606,706,651,641,711,537,756,449,761,451,716,539,656,644,610,709,571,758"/>
<area shape="poly" title=" " alt="" coords="639,780,655,793,674,827,687,873,694,929,697,989,699,1107,704,1198,742,1437,772,1609,767,1610,736,1438,699,1199,694,1107,692,989,689,929,681,874,669,829,651,796,636,784"/>
<area shape="poly" title=" " alt="" coords="628,449,655,462,690,490,720,523,763,585,758,588,716,526,686,494,652,466,626,454"/>
<area shape="poly" title=" " alt="" coords="637,449,655,462,673,483,683,503,691,542,693,584,704,634,735,709,764,771,759,773,730,711,699,635,688,585,686,543,678,504,668,486,652,466,634,454"/>
<area shape="poly" title=" " alt="" coords="653,427,687,423,688,429,654,432"/>
<area shape="poly" title=" " alt="" coords="592,1671,625,1644,639,1628,651,1609,664,1575,674,1534,687,1434,690,1320,689,1197,684,957,687,854,699,773,711,733,726,695,757,634,762,636,731,698,716,735,704,774,693,855,689,957,694,1197,696,1320,692,1435,680,1534,669,1576,656,1612,644,1631,628,1648,595,1675"/>
<area shape="poly" title=" " alt="" coords="639,1709,655,1724,675,1752,688,1781,695,1809,698,1837,693,1892,680,1945,667,1999,662,2053,664,2079,671,2107,684,2134,703,2162,708,2167,704,2171,699,2166,679,2137,666,2109,659,2080,656,2053,662,1998,675,1944,687,1891,693,1837,690,1810,683,1783,670,1755,651,1727,635,1713"/>
<area shape="poly" title=" " alt="" coords="639,1709,655,1723,673,1749,685,1774,692,1799,694,1824,690,1873,680,1921,669,1968,665,2016,668,2040,675,2064,686,2088,703,2113,706,2116,702,2119,699,2116,681,2091,670,2066,663,2041,660,2016,664,1967,675,1920,685,1872,689,1824,687,1800,680,1776,668,1752,651,1727,635,1713"/>
<area shape="poly" title=" " alt="" coords="591,1671,624,1644,651,1609,666,1575,677,1541,684,1479,679,1421,669,1365,659,1309,657,1252,660,1221,668,1190,681,1158,699,1124,712,1109,727,1097,731,1101,715,1113,704,1127,685,1160,673,1192,666,1222,662,1252,665,1309,674,1364,685,1421,689,1479,682,1543,671,1576,656,1612,628,1648,594,1675"/>
<area shape="poly" title=" " alt="" coords="592,1671,625,1644,639,1628,651,1609,662,1581,671,1547,681,1466,684,1371,683,1270,682,1073,687,988,699,922,724,866,753,820,758,823,729,868,704,923,692,989,687,1073,689,1270,689,1371,686,1466,676,1548,667,1583,656,1612,644,1631,628,1648,595,1675"/>
<area shape="poly" title=" " alt="" coords="637,1705,724,1720,723,1726,637,1710"/>
<area shape="poly" title=" " alt="" coords="633,1671,732,1644,733,1650,635,1676"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_af11a976c8ea386db054bef472ce0667c_icgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_af11a976c8ea386db054bef472ce0667c_icgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_af11a976c8ea386db054bef472ce0667c_icgraph" id="aastcenc__compress__symbolic_8cpp_af11a976c8ea386db054bef472ce0667c_icgraph">
<area shape="rect" title="Compress a block using a chosen partitioning and 2 planes of weights." alt="" coords="1015,5,1191,45"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a579b9a2ceeecda2fb3abe63b8311df1c" title="Compress an image block into a physical block." alt="" coords="849,13,967,38"/>
<area shape="poly" title=" " alt="" coords="1001,28,967,28,967,23,1001,23"/>
<area shape="rect" href="astcenc__entry_8cpp.html#acbecfd32ce013d567cac16a877c20f42" title="Compress an image, after any preflight has completed." alt="" coords="680,13,801,38"/>
<area shape="poly" title=" " alt="" coords="835,28,802,28,802,23,835,23"/>
<area shape="rect" href="astcenc__entry_8cpp.html#ad762aa055eed75156c99309158a40e90" title="Compress an image." alt="" coords="457,13,632,38"/>
<area shape="poly" title=" " alt="" coords="666,28,632,28,632,23,666,23"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,13,207,38"/>
<area shape="poly" title=" " alt="" coords="444,25,409,24,255,24,207,26,207,20,255,19,409,19,444,19"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa" title="Runner callback function for a compression worker thread." alt="" coords="255,33,409,73"/>
<area shape="poly" title=" " alt="" coords="444,41,410,46,409,41,443,36"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,13,56,38"/>
<area shape="poly" title=" " alt="" coords="90,28,57,28,57,23,90,23"/>
<area shape="poly" title=" " alt="" coords="241,42,206,36,207,31,242,36"/>
</map>
</div>

</div>
</div>
<a id="a7a73021370668773ad84b7a2f6285023" name="a7a73021370668773ad84b7a2f6285023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a73021370668773ad84b7a2f6285023">&#9670;&#160;</a></span>merge_endpoints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void merge_endpoints </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structendpoints.html">endpoints</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ep_plane1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structendpoints.html">endpoints</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ep_plane2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>component_plane2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structendpoints.html">endpoints</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>result</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Functions to compress a symbolic block. </p>
<p>Merge two planes of endpoints into a single vector.</p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ep_plane1</td><td>The endpoints for plane 1. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ep_plane2</td><td>The endpoints for plane 2. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">component_plane2</td><td>The color component for plane 2. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>The merged output. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenc__compress__symbolic_8cpp_source.html">astcenc_compress_symbolic.cpp</a> 파일의 <a class="el" href="astcenc__compress__symbolic_8cpp_source.html#l00037">37</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   42</span>  {</div>
<div class="line"><span class="lineno">   43</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partition_count = ep_plane1.<a class="code hl_variable" href="structendpoints.html#a6815660d1584ae9e1fc4faebddf91658">partition_count</a>;</div>
<div class="line"><span class="lineno">   44</span>    assert(partition_count == 1);</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_struct" href="structvmask4.html">vmask4</a> sep_mask = <a class="code hl_function" href="structvint4.html#a21e3d111e37da1aaaeb5ba21a831c863">vint4::lane_id</a>() == <a class="code hl_struct" href="structvint4.html">vint4</a>(component_plane2);</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>    result.<a class="code hl_variable" href="structendpoints.html#a6815660d1584ae9e1fc4faebddf91658">partition_count</a> = partition_count;</div>
<div class="line"><span class="lineno">   49</span>    result.<a class="code hl_variable" href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpt0</a>[0] = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(ep_plane1.<a class="code hl_variable" href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpt0</a>[0], ep_plane2.<a class="code hl_variable" href="structendpoints.html#a2a084800ec101a03de2b8deb0d926263">endpt0</a>[0], sep_mask);</div>
<div class="line"><span class="lineno">   50</span>    result.<a class="code hl_variable" href="structendpoints.html#a89660f637b681eaea32e7db6b9d9def2">endpt1</a>[0] = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(ep_plane1.<a class="code hl_variable" href="structendpoints.html#a89660f637b681eaea32e7db6b9d9def2">endpt1</a>[0], ep_plane2.<a class="code hl_variable" href="structendpoints.html#a89660f637b681eaea32e7db6b9d9def2">endpt1</a>[0], sep_mask);</div>
<div class="line"><span class="lineno">   51</span>}</div>
<div class="ttc" id="astructendpoints_html_a6815660d1584ae9e1fc4faebddf91658"><div class="ttname"><a href="structendpoints.html#a6815660d1584ae9e1fc4faebddf91658">endpoints::partition_count</a></div><div class="ttdeci">unsigned int partition_count</div><div class="ttdoc">The number of partition endpoints stored.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00887">astcenc_internal.h:887</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_a7a73021370668773ad84b7a2f6285023_cgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_a7a73021370668773ad84b7a2f6285023_cgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_a7a73021370668773ad84b7a2f6285023_cgraph" id="aastcenc__compress__symbolic_8cpp_a7a73021370668773ad84b7a2f6285023_cgraph">
<area shape="rect" title="Functions to compress a symbolic block." alt="" coords="5,31,127,56"/>
<area shape="rect" href="structvint4.html#a21e3d111e37da1aaaeb5ba21a831c863" title="Factory that returns a vector containing the lane IDs." alt="" coords="175,5,272,31"/>
<area shape="poly" title=" " alt="" coords="126,31,161,25,162,31,127,36"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc" title="Return lanes from b if cond is set, else a." alt="" coords="195,55,252,80"/>
<area shape="poly" title=" " alt="" coords="127,50,182,58,181,64,126,55"/>
<area shape="rect" href="structvint4.html#a3315184e8bb4f0cf1ca8dcff1f57cdae" title="Construct from zero&#45;initialized value." alt="" coords="320,5,403,31"/>
<area shape="poly" title=" " alt="" coords="272,15,306,15,306,21,272,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_a7a73021370668773ad84b7a2f6285023_icgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_a7a73021370668773ad84b7a2f6285023_icgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_a7a73021370668773ad84b7a2f6285023_icgraph" id="aastcenc__compress__symbolic_8cpp_a7a73021370668773ad84b7a2f6285023_icgraph">
<area shape="rect" title="Functions to compress a symbolic block." alt="" coords="1239,13,1360,38"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af11a976c8ea386db054bef472ce0667c" title="Compress a block using a chosen partitioning and 2 planes of weights." alt="" coords="1015,5,1191,45"/>
<area shape="poly" title=" " alt="" coords="1225,28,1191,28,1191,23,1225,23"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a579b9a2ceeecda2fb3abe63b8311df1c" title="Compress an image block into a physical block." alt="" coords="849,13,967,38"/>
<area shape="poly" title=" " alt="" coords="1001,28,967,28,967,23,1001,23"/>
<area shape="rect" href="astcenc__entry_8cpp.html#acbecfd32ce013d567cac16a877c20f42" title="Compress an image, after any preflight has completed." alt="" coords="680,13,801,38"/>
<area shape="poly" title=" " alt="" coords="835,28,802,28,802,23,835,23"/>
<area shape="rect" href="astcenc__entry_8cpp.html#ad762aa055eed75156c99309158a40e90" title="Compress an image." alt="" coords="457,13,632,38"/>
<area shape="poly" title=" " alt="" coords="666,28,632,28,632,23,666,23"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,13,207,38"/>
<area shape="poly" title=" " alt="" coords="444,25,409,24,255,24,207,26,207,20,255,19,409,19,444,19"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa" title="Runner callback function for a compression worker thread." alt="" coords="255,33,409,73"/>
<area shape="poly" title=" " alt="" coords="444,41,410,46,409,41,443,36"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,13,56,38"/>
<area shape="poly" title=" " alt="" coords="90,28,57,28,57,23,90,23"/>
<area shape="poly" title=" " alt="" coords="241,42,206,36,207,31,242,36"/>
</map>
</div>

</div>
</div>
<a id="a6ac5bc5977155d0c8433492cd1985ce6" name="a6ac5bc5977155d0c8433492cd1985ce6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ac5bc5977155d0c8433492cd1985ce6">&#9670;&#160;</a></span>prepare_block_statistics()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float prepare_block_statistics </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>texels_per_block</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structimage__block.html">image_block</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>blk</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine the lowest cross-channel correlation factor. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">texels_per_block</td><td>The number of texels in a block. </td></tr>
    <tr><td class="paramname">blk</td><td>The image block color data to compress.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>Return the lowest correlation factor. </dd></dl>

<p class="definition"><a class="el" href="astcenc__compress__symbolic_8cpp_source.html">astcenc_compress_symbolic.cpp</a> 파일의 <a class="el" href="astcenc__compress__symbolic_8cpp_source.html#l01048">1048</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1051</span>  {</div>
<div class="line"><span class="lineno"> 1052</span>    <span class="comment">// Compute covariance matrix, as a collection of 10 scalars that form the upper-triangular row</span></div>
<div class="line"><span class="lineno"> 1053</span>    <span class="comment">// of the matrix. The matrix is symmetric, so this is all we need for this use case.</span></div>
<div class="line"><span class="lineno"> 1054</span>    <span class="keywordtype">float</span> rs = 0.0f;</div>
<div class="line"><span class="lineno"> 1055</span>    <span class="keywordtype">float</span> gs = 0.0f;</div>
<div class="line"><span class="lineno"> 1056</span>    <span class="keywordtype">float</span> bs = 0.0f;</div>
<div class="line"><span class="lineno"> 1057</span>    <span class="keywordtype">float</span> as = 0.0f;</div>
<div class="line"><span class="lineno"> 1058</span>    <span class="keywordtype">float</span> rr_var = 0.0f;</div>
<div class="line"><span class="lineno"> 1059</span>    <span class="keywordtype">float</span> gg_var = 0.0f;</div>
<div class="line"><span class="lineno"> 1060</span>    <span class="keywordtype">float</span> bb_var = 0.0f;</div>
<div class="line"><span class="lineno"> 1061</span>    <span class="keywordtype">float</span> aa_var = 0.0f;</div>
<div class="line"><span class="lineno"> 1062</span>    <span class="keywordtype">float</span> rg_cov = 0.0f;</div>
<div class="line"><span class="lineno"> 1063</span>    <span class="keywordtype">float</span> rb_cov = 0.0f;</div>
<div class="line"><span class="lineno"> 1064</span>    <span class="keywordtype">float</span> ra_cov = 0.0f;</div>
<div class="line"><span class="lineno"> 1065</span>    <span class="keywordtype">float</span> gb_cov = 0.0f;</div>
<div class="line"><span class="lineno"> 1066</span>    <span class="keywordtype">float</span> ga_cov = 0.0f;</div>
<div class="line"><span class="lineno"> 1067</span>    <span class="keywordtype">float</span> ba_cov = 0.0f;</div>
<div class="line"><span class="lineno"> 1068</span> </div>
<div class="line"><span class="lineno"> 1069</span>    <span class="keywordtype">float</span> weight_sum = 0.0f;</div>
<div class="line"><span class="lineno"> 1070</span> </div>
<div class="line"><span class="lineno"> 1071</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(texels_per_block &gt; 0);</div>
<div class="line"><span class="lineno"> 1072</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; texels_per_block; i++)</div>
<div class="line"><span class="lineno"> 1073</span>    {</div>
<div class="line"><span class="lineno"> 1074</span>        <span class="keywordtype">float</span> weight = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898">hadd_s</a>(blk.<a class="code hl_variable" href="structimage__block.html#a6fd749c93e25e5e96748a10387c24a77">channel_weight</a>) / 4.0f;</div>
<div class="line"><span class="lineno"> 1075</span>        assert(weight &gt;= 0.0f);</div>
<div class="line"><span class="lineno"> 1076</span>        weight_sum += weight;</div>
<div class="line"><span class="lineno"> 1077</span> </div>
<div class="line"><span class="lineno"> 1078</span>        <span class="keywordtype">float</span> r = blk.<a class="code hl_variable" href="structimage__block.html#acd4ea54654959c7b325efe9d02aaeacc">data_r</a>[i];</div>
<div class="line"><span class="lineno"> 1079</span>        <span class="keywordtype">float</span> g = blk.<a class="code hl_variable" href="structimage__block.html#abc5bc97aed6bb644726f952818ec74b5">data_g</a>[i];</div>
<div class="line"><span class="lineno"> 1080</span>        <span class="keywordtype">float</span> b = blk.<a class="code hl_variable" href="structimage__block.html#a298273079b0de525a0c12ced8bf98d13">data_b</a>[i];</div>
<div class="line"><span class="lineno"> 1081</span>        <span class="keywordtype">float</span> a = blk.<a class="code hl_variable" href="structimage__block.html#a602c8c88dc1ceef33e833f6d6cbc09ea">data_a</a>[i];</div>
<div class="line"><span class="lineno"> 1082</span> </div>
<div class="line"><span class="lineno"> 1083</span>        <span class="keywordtype">float</span> rw = r * weight;</div>
<div class="line"><span class="lineno"> 1084</span>        rs += rw;</div>
<div class="line"><span class="lineno"> 1085</span>        rr_var += r * rw;</div>
<div class="line"><span class="lineno"> 1086</span>        rg_cov += g * rw;</div>
<div class="line"><span class="lineno"> 1087</span>        rb_cov += b * rw;</div>
<div class="line"><span class="lineno"> 1088</span>        ra_cov += a * rw;</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span>        <span class="keywordtype">float</span> gw = g * weight;</div>
<div class="line"><span class="lineno"> 1091</span>        gs += gw;</div>
<div class="line"><span class="lineno"> 1092</span>        gg_var += g * gw;</div>
<div class="line"><span class="lineno"> 1093</span>        gb_cov += b * gw;</div>
<div class="line"><span class="lineno"> 1094</span>        ga_cov += a * gw;</div>
<div class="line"><span class="lineno"> 1095</span> </div>
<div class="line"><span class="lineno"> 1096</span>        <span class="keywordtype">float</span> bw = b * weight;</div>
<div class="line"><span class="lineno"> 1097</span>        bs += bw;</div>
<div class="line"><span class="lineno"> 1098</span>        bb_var += b * bw;</div>
<div class="line"><span class="lineno"> 1099</span>        ba_cov += a * bw;</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>        <span class="keywordtype">float</span> aw = a * weight;</div>
<div class="line"><span class="lineno"> 1102</span>        as += aw;</div>
<div class="line"><span class="lineno"> 1103</span>        aa_var += a * aw;</div>
<div class="line"><span class="lineno"> 1104</span>    }</div>
<div class="line"><span class="lineno"> 1105</span> </div>
<div class="line"><span class="lineno"> 1106</span>    <span class="keywordtype">float</span> rpt = 1.0f / <a class="code hl_function" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f">astc::max</a>(weight_sum, 1e-7f);</div>
<div class="line"><span class="lineno"> 1107</span> </div>
<div class="line"><span class="lineno"> 1108</span>    rr_var -= rs * (rs * rpt);</div>
<div class="line"><span class="lineno"> 1109</span>    rg_cov -= gs * (rs * rpt);</div>
<div class="line"><span class="lineno"> 1110</span>    rb_cov -= bs * (rs * rpt);</div>
<div class="line"><span class="lineno"> 1111</span>    ra_cov -= as * (rs * rpt);</div>
<div class="line"><span class="lineno"> 1112</span> </div>
<div class="line"><span class="lineno"> 1113</span>    gg_var -= gs * (gs * rpt);</div>
<div class="line"><span class="lineno"> 1114</span>    gb_cov -= bs * (gs * rpt);</div>
<div class="line"><span class="lineno"> 1115</span>    ga_cov -= as * (gs * rpt);</div>
<div class="line"><span class="lineno"> 1116</span> </div>
<div class="line"><span class="lineno"> 1117</span>    bb_var -= bs * (bs * rpt);</div>
<div class="line"><span class="lineno"> 1118</span>    ba_cov -= as * (bs * rpt);</div>
<div class="line"><span class="lineno"> 1119</span> </div>
<div class="line"><span class="lineno"> 1120</span>    aa_var -= as * (as * rpt);</div>
<div class="line"><span class="lineno"> 1121</span> </div>
<div class="line"><span class="lineno"> 1122</span>    <span class="comment">// These will give a NaN if a channel is constant - these are fixed up in the next step</span></div>
<div class="line"><span class="lineno"> 1123</span>    rg_cov *= <a class="code hl_function" href="namespaceastc.html#a5e60e4c749fe4fc5c746f481af9564f4">astc::rsqrt</a>(rr_var * gg_var);</div>
<div class="line"><span class="lineno"> 1124</span>    rb_cov *= <a class="code hl_function" href="namespaceastc.html#a5e60e4c749fe4fc5c746f481af9564f4">astc::rsqrt</a>(rr_var * bb_var);</div>
<div class="line"><span class="lineno"> 1125</span>    ra_cov *= <a class="code hl_function" href="namespaceastc.html#a5e60e4c749fe4fc5c746f481af9564f4">astc::rsqrt</a>(rr_var * aa_var);</div>
<div class="line"><span class="lineno"> 1126</span>    gb_cov *= <a class="code hl_function" href="namespaceastc.html#a5e60e4c749fe4fc5c746f481af9564f4">astc::rsqrt</a>(gg_var * bb_var);</div>
<div class="line"><span class="lineno"> 1127</span>    ga_cov *= <a class="code hl_function" href="namespaceastc.html#a5e60e4c749fe4fc5c746f481af9564f4">astc::rsqrt</a>(gg_var * aa_var);</div>
<div class="line"><span class="lineno"> 1128</span>    ba_cov *= <a class="code hl_function" href="namespaceastc.html#a5e60e4c749fe4fc5c746f481af9564f4">astc::rsqrt</a>(bb_var * aa_var);</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceastc.html#aa80ae2eee0ffb5b754bdf0bb08b8759b">astc::isnan</a>(rg_cov)) rg_cov = 1.0f;</div>
<div class="line"><span class="lineno"> 1131</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceastc.html#aa80ae2eee0ffb5b754bdf0bb08b8759b">astc::isnan</a>(rb_cov)) rb_cov = 1.0f;</div>
<div class="line"><span class="lineno"> 1132</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceastc.html#aa80ae2eee0ffb5b754bdf0bb08b8759b">astc::isnan</a>(ra_cov)) ra_cov = 1.0f;</div>
<div class="line"><span class="lineno"> 1133</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceastc.html#aa80ae2eee0ffb5b754bdf0bb08b8759b">astc::isnan</a>(gb_cov)) gb_cov = 1.0f;</div>
<div class="line"><span class="lineno"> 1134</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceastc.html#aa80ae2eee0ffb5b754bdf0bb08b8759b">astc::isnan</a>(ga_cov)) ga_cov = 1.0f;</div>
<div class="line"><span class="lineno"> 1135</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceastc.html#aa80ae2eee0ffb5b754bdf0bb08b8759b">astc::isnan</a>(ba_cov)) ba_cov = 1.0f;</div>
<div class="line"><span class="lineno"> 1136</span> </div>
<div class="line"><span class="lineno"> 1137</span>    <span class="keywordtype">float</span> lowest_correlation = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(fabsf(rg_cov),      fabsf(rb_cov));</div>
<div class="line"><span class="lineno"> 1138</span>    lowest_correlation       = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(lowest_correlation, fabsf(ra_cov));</div>
<div class="line"><span class="lineno"> 1139</span>    lowest_correlation       = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(lowest_correlation, fabsf(gb_cov));</div>
<div class="line"><span class="lineno"> 1140</span>    lowest_correlation       = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(lowest_correlation, fabsf(ga_cov));</div>
<div class="line"><span class="lineno"> 1141</span>    lowest_correlation       = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(lowest_correlation, fabsf(ba_cov));</div>
<div class="line"><span class="lineno"> 1142</span> </div>
<div class="line"><span class="lineno"> 1143</span>    <span class="comment">// Diagnostic trace points</span></div>
<div class="line"><span class="lineno"> 1144</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;min_r&quot;</span>, blk.<a class="code hl_variable" href="structimage__block.html#a4222fc6e5a97194fd342700adff483db">data_min</a>.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;0&gt;());</div>
<div class="line"><span class="lineno"> 1145</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;max_r&quot;</span>, blk.<a class="code hl_variable" href="structimage__block.html#af1b03600b295cf8dc02a333db04871fc">data_max</a>.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;0&gt;());</div>
<div class="line"><span class="lineno"> 1146</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;min_g&quot;</span>, blk.<a class="code hl_variable" href="structimage__block.html#a4222fc6e5a97194fd342700adff483db">data_min</a>.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;1&gt;());</div>
<div class="line"><span class="lineno"> 1147</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;max_g&quot;</span>, blk.<a class="code hl_variable" href="structimage__block.html#af1b03600b295cf8dc02a333db04871fc">data_max</a>.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;1&gt;());</div>
<div class="line"><span class="lineno"> 1148</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;min_b&quot;</span>, blk.<a class="code hl_variable" href="structimage__block.html#a4222fc6e5a97194fd342700adff483db">data_min</a>.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;2&gt;());</div>
<div class="line"><span class="lineno"> 1149</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;max_b&quot;</span>, blk.<a class="code hl_variable" href="structimage__block.html#af1b03600b295cf8dc02a333db04871fc">data_max</a>.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;2&gt;());</div>
<div class="line"><span class="lineno"> 1150</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;min_a&quot;</span>, blk.<a class="code hl_variable" href="structimage__block.html#a4222fc6e5a97194fd342700adff483db">data_min</a>.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;3&gt;());</div>
<div class="line"><span class="lineno"> 1151</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;max_a&quot;</span>, blk.<a class="code hl_variable" href="structimage__block.html#af1b03600b295cf8dc02a333db04871fc">data_max</a>.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;3&gt;());</div>
<div class="line"><span class="lineno"> 1152</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;cov_rg&quot;</span>, fabsf(rg_cov));</div>
<div class="line"><span class="lineno"> 1153</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;cov_rb&quot;</span>, fabsf(rb_cov));</div>
<div class="line"><span class="lineno"> 1154</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;cov_ra&quot;</span>, fabsf(ra_cov));</div>
<div class="line"><span class="lineno"> 1155</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;cov_gb&quot;</span>, fabsf(gb_cov));</div>
<div class="line"><span class="lineno"> 1156</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;cov_ga&quot;</span>, fabsf(ga_cov));</div>
<div class="line"><span class="lineno"> 1157</span>    <a class="code hl_define" href="astcenc__diagnostic__trace_8h.html#a76621371d2f495306f397fcfae2bd268">trace_add_data</a>(<span class="stringliteral">&quot;cov_ba&quot;</span>, fabsf(ba_cov));</div>
<div class="line"><span class="lineno"> 1158</span> </div>
<div class="line"><span class="lineno"> 1159</span>    <span class="keywordflow">return</span> lowest_correlation;</div>
<div class="line"><span class="lineno"> 1160</span>}</div>
<div class="ttc" id="anamespaceastc_html_a5e60e4c749fe4fc5c746f481af9564f4"><div class="ttname"><a href="namespaceastc.html#a5e60e4c749fe4fc5c746f481af9564f4">astc::rsqrt</a></div><div class="ttdeci">static float rsqrt(float v)</div><div class="ttdoc">Fast approximation of 1.0 / sqrt(val).</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00371">astcenc_mathlib.h:371</a></div></div>
<div class="ttc" id="anamespaceastc_html_a83a55552d03399cdff6cf2fed8312c9f"><div class="ttname"><a href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f">astc::max</a></div><div class="ttdeci">static T max(T p, T q)</div><div class="ttdoc">Return the maximum of two values.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00210">astcenc_mathlib.h:210</a></div></div>
<div class="ttc" id="anamespaceastc_html_aa80ae2eee0ffb5b754bdf0bb08b8759b"><div class="ttname"><a href="namespaceastc.html#aa80ae2eee0ffb5b754bdf0bb08b8759b">astc::isnan</a></div><div class="ttdeci">static bool isnan(float v)</div><div class="ttdoc">Test if a float value is a nan.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00143">astcenc_mathlib.h:143</a></div></div>
<div class="ttc" id="astructimage__block_html_a298273079b0de525a0c12ced8bf98d13"><div class="ttname"><a href="structimage__block.html#a298273079b0de525a0c12ced8bf98d13">image_block::data_b</a></div><div class="ttdeci">ASTCENC_ALIGNAS float data_b[BLOCK_MAX_TEXELS+ASTCENC_SIMD_WIDTH - 1]</div><div class="ttdoc">The input (compress) or output (decompress) data for the blue color component.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00753">astcenc_internal.h:753</a></div></div>
<div class="ttc" id="astructimage__block_html_a602c8c88dc1ceef33e833f6d6cbc09ea"><div class="ttname"><a href="structimage__block.html#a602c8c88dc1ceef33e833f6d6cbc09ea">image_block::data_a</a></div><div class="ttdeci">ASTCENC_ALIGNAS float data_a[BLOCK_MAX_TEXELS+ASTCENC_SIMD_WIDTH - 1]</div><div class="ttdoc">The input (compress) or output (decompress) data for the alpha color component.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00756">astcenc_internal.h:756</a></div></div>
<div class="ttc" id="astructimage__block_html_abc5bc97aed6bb644726f952818ec74b5"><div class="ttname"><a href="structimage__block.html#abc5bc97aed6bb644726f952818ec74b5">image_block::data_g</a></div><div class="ttdeci">ASTCENC_ALIGNAS float data_g[BLOCK_MAX_TEXELS+ASTCENC_SIMD_WIDTH - 1]</div><div class="ttdoc">The input (compress) or output (decompress) data for the green color component.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00750">astcenc_internal.h:750</a></div></div>
<div class="ttc" id="astructimage__block_html_acd4ea54654959c7b325efe9d02aaeacc"><div class="ttname"><a href="structimage__block.html#acd4ea54654959c7b325efe9d02aaeacc">image_block::data_r</a></div><div class="ttdeci">ASTCENC_ALIGNAS float data_r[BLOCK_MAX_TEXELS+ASTCENC_SIMD_WIDTH - 1]</div><div class="ttdoc">The input (compress) or output (decompress) data for the red color component.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00747">astcenc_internal.h:747</a></div></div>
<div class="ttc" id="astructvfloat4_html_a04462a7815432c6bc3ce1b5e5d11e4fc"><div class="ttname"><a href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">vfloat4::lane</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE float lane() const</div><div class="ttdoc">Get the scalar value of a single lane.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00100">astcenc_vecmathlib_neon_4.h:100</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_a6ac5bc5977155d0c8433492cd1985ce6_cgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_a6ac5bc5977155d0c8433492cd1985ce6_cgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_a6ac5bc5977155d0c8433492cd1985ce6_cgraph" id="aastcenc__compress__symbolic_8cpp_a6ac5bc5977155d0c8433492cd1985ce6_cgraph">
<area shape="rect" title="Determine the lowest cross&#45;channel correlation factor." alt="" coords="5,153,168,179"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898" title="Return the horizontal sum of a vector." alt="" coords="229,29,293,55"/>
<area shape="poly" title=" " alt="" coords="101,151,150,111,215,64,222,59,224,64,217,68,154,115,104,155"/>
<area shape="rect" href="namespaceastc.html#aa80ae2eee0ffb5b754bdf0bb08b8759b" title="Test if a float value is a nan." alt="" coords="218,79,305,104"/>
<area shape="poly" title=" " alt="" coords="117,151,217,107,219,112,119,156"/>
<area shape="rect" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc" title="Get the scalar value of a single lane." alt="" coords="216,128,307,153"/>
<area shape="poly" title=" " alt="" coords="168,152,202,147,203,152,169,157"/>
<area shape="rect" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f" title="Return the maximum of two values." alt="" coords="221,177,301,203"/>
<area shape="poly" title=" " alt="" coords="169,175,208,180,207,185,168,180"/>
<area shape="rect" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738" title="Return the minimum of two values." alt="" coords="223,227,299,252"/>
<area shape="poly" title=" " alt="" coords="119,176,218,219,216,224,117,181"/>
<area shape="rect" href="namespaceastc.html#a5e60e4c749fe4fc5c746f481af9564f4" title="Fast approximation of 1.0 / sqrt(val)." alt="" coords="221,276,302,301"/>
<area shape="poly" title=" " alt="" coords="105,177,155,216,217,261,226,267,223,271,215,266,151,220,102,181"/>
<area shape="poly" title=" " alt="" coords="232,31,226,21,230,11,242,5,261,3,285,6,295,15,292,19,283,11,261,8,243,10,234,15,232,20,237,28"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_a6ac5bc5977155d0c8433492cd1985ce6_icgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_a6ac5bc5977155d0c8433492cd1985ce6_icgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_a6ac5bc5977155d0c8433492cd1985ce6_icgraph" id="aastcenc__compress__symbolic_8cpp_a6ac5bc5977155d0c8433492cd1985ce6_icgraph">
<area shape="rect" title="Determine the lowest cross&#45;channel correlation factor." alt="" coords="1015,5,1177,31"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a579b9a2ceeecda2fb3abe63b8311df1c" title="Compress an image block into a physical block." alt="" coords="849,5,967,31"/>
<area shape="poly" title=" " alt="" coords="1001,21,967,21,967,15,1001,15"/>
<area shape="rect" href="astcenc__entry_8cpp.html#acbecfd32ce013d567cac16a877c20f42" title="Compress an image, after any preflight has completed." alt="" coords="680,5,801,31"/>
<area shape="poly" title=" " alt="" coords="835,21,802,21,802,15,835,15"/>
<area shape="rect" href="astcenc__entry_8cpp.html#ad762aa055eed75156c99309158a40e90" title="Compress an image." alt="" coords="457,5,632,31"/>
<area shape="poly" title=" " alt="" coords="666,21,632,21,632,15,666,15"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="444,17,409,17,255,17,207,18,207,13,255,11,409,11,444,12"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa" title="Runner callback function for a compression worker thread." alt="" coords="255,26,409,66"/>
<area shape="poly" title=" " alt="" coords="444,34,410,38,409,33,443,29"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
<area shape="poly" title=" " alt="" coords="241,34,206,29,207,23,242,29"/>
</map>
</div>

</div>
</div>
<a id="af80747ee43aa6fda579161376205c294" name="af80747ee43aa6fda579161376205c294"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af80747ee43aa6fda579161376205c294">&#9670;&#160;</a></span>realign_weights_decimated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool realign_weights_decimated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29">astcenc_profile</a></td>          <td class="paramname"><span class="paramname"><em>decode_mode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structblock__size__descriptor.html">block_size_descriptor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>bsd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structimage__block.html">image_block</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>blk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsymbolic__compressed__block.html">symbolic_compressed_block</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>scb</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempt to improve weights given a chosen configuration. </p>
<p>Given a fixed weight grid decimation and weight value quantization, iterate over all weights (per partition and per plane) and attempt to improve image quality by moving each weight up by one or down by one quantization step.</p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">decode_mode</td><td>The decode mode (LDR, HDR). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">bsd</td><td>The block size information. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">blk</td><td>The image block color data to compress. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">scb</td><td>The symbolic compressed block output. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenc__compress__symbolic_8cpp_source.html">astcenc_compress_symbolic.cpp</a> 파일의 <a class="el" href="astcenc__compress__symbolic_8cpp_source.html#l00188">188</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  193</span>  {</div>
<div class="line"><span class="lineno">  194</span>    <span class="comment">// Get the partition descriptor</span></div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partition_count = scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a6ac68bba1c38975e28fb3e67e974c551">partition_count</a>;</div>
<div class="line"><span class="lineno">  196</span>    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pi = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#aa9dfc7b23c8b5e6c71e956e2e39fff74">get_partition_info</a>(partition_count, scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a17d42e08747747b32c650a48fe1b5b6e">partition_index</a>);</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>    <span class="comment">// Get the quantization table</span></div>
<div class="line"><span class="lineno">  199</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structblock__mode.html">block_mode</a>&amp; bm = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#a13608eb55e48c96b6243f4830278ebf3">get_block_mode</a>(scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a7ba54ca805498286add2148b3b86546b">block_mode</a>);</div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> weight_quant_level = bm.<a class="code hl_variable" href="structblock__mode.html#a57910e5bd3d21447cdea6c7789723a86">quant_mode</a>;</div>
<div class="line"><span class="lineno">  201</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structquant__and__transfer__table.html">quant_and_transfer_table</a>&amp; qat = <a class="code hl_variable" href="astcenc__internal_8h.html#a9d58fe49f85551cd8c9ccadb5aece318">quant_and_xfer_tables</a>[weight_quant_level];</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>    <span class="comment">// Get the decimation table</span></div>
<div class="line"><span class="lineno">  204</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structdecimation__info.html">decimation_info</a>&amp; di = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d">get_decimation_info</a>(bm.<a class="code hl_variable" href="structblock__mode.html#aaf9846117d40406d5e84508f429cf949">decimation_mode</a>);</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> weight_count = di.<a class="code hl_variable" href="structdecimation__info.html#af7d0c86be805995a20a6c09f6c3ab8ca">weight_count</a>;</div>
<div class="line"><span class="lineno">  206</span>    assert(weight_count != bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a0df466b2eda6958f2e5f8a4f147367e4">texel_count</a>);</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_plane = bm.<a class="code hl_variable" href="structblock__mode.html#a78b282103d0a8bee2b07c0da075a3dc4">is_dual_plane</a>;</div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordtype">int</span> plane2_component = scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a49f36c368c0d976f230c76c33aed2b9d">plane2_component</a>;</div>
<div class="line"><span class="lineno">  210</span>    <a class="code hl_struct" href="structvmask4.html">vmask4</a> plane_mask = <a class="code hl_function" href="structvint4.html#a21e3d111e37da1aaaeb5ba21a831c863">vint4::lane_id</a>() == <a class="code hl_struct" href="structvint4.html">vint4</a>(plane2_component);</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    <span class="comment">// Decode the color endpoints</span></div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordtype">bool</span> rgb_hdr;</div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordtype">bool</span> alpha_hdr;</div>
<div class="line"><span class="lineno">  215</span>    <a class="code hl_struct" href="structvint4.html">vint4</a> endpnt0[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>];</div>
<div class="line"><span class="lineno">  216</span>    <a class="code hl_struct" href="structvint4.html">vint4</a> endpnt1[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>];</div>
<div class="line"><span class="lineno">  217</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> endpnt0f[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>];</div>
<div class="line"><span class="lineno">  218</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> offset[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>];</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(partition_count &gt; 0);</div>
<div class="line"><span class="lineno">  221</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(weight_count &gt; 0);</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pa_idx = 0; pa_idx &lt; partition_count; pa_idx++)</div>
<div class="line"><span class="lineno">  224</span>    {</div>
<div class="line"><span class="lineno">  225</span>        <a class="code hl_function" href="astcenc__color__unquantize_8cpp.html#ab9b659180fb522b05391892336dbc095">unpack_color_endpoints</a>(decode_mode,</div>
<div class="line"><span class="lineno">  226</span>                               scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a21dc79a4f976f6aa78d564576dcdde60">color_formats</a>[pa_idx],</div>
<div class="line"><span class="lineno">  227</span>                               scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ad539bb907ce654690e8a89cf62196f9c">color_values</a>[pa_idx],</div>
<div class="line"><span class="lineno">  228</span>                               rgb_hdr, alpha_hdr,</div>
<div class="line"><span class="lineno">  229</span>                               endpnt0[pa_idx],</div>
<div class="line"><span class="lineno">  230</span>                               endpnt1[pa_idx]);</div>
<div class="line"><span class="lineno">  231</span>    }</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>    uint8_t* dec_weights_uquant = scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4c7260c4aa675446ffcb37f09e92dd0b">weights</a>;</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordtype">bool</span> adjustments = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <span class="comment">// For each plane and partition ...</span></div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pl_idx = 0; pl_idx &lt;= max_plane; pl_idx++)</div>
<div class="line"><span class="lineno">  238</span>    {</div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pa_idx = 0; pa_idx &lt; partition_count; pa_idx++)</div>
<div class="line"><span class="lineno">  240</span>        {</div>
<div class="line"><span class="lineno">  241</span>            <span class="comment">// Compute the endpoint delta for all components in current plane</span></div>
<div class="line"><span class="lineno">  242</span>            <a class="code hl_struct" href="structvint4.html">vint4</a> epd = endpnt1[pa_idx] - endpnt0[pa_idx];</div>
<div class="line"><span class="lineno">  243</span>            epd = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(epd, <a class="code hl_function" href="structvint4.html#a9dfa1c40a3c4dbc0858567dc629a80b8">vint4::zero</a>(), plane_mask);</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>            endpnt0f[pa_idx] = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a3a2ce0fb403294db7fe126a6b3e87ab7">int_to_float</a>(endpnt0[pa_idx]);</div>
<div class="line"><span class="lineno">  246</span>            offset[pa_idx] = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a3a2ce0fb403294db7fe126a6b3e87ab7">int_to_float</a>(epd) * (1.0f / 64.0f);</div>
<div class="line"><span class="lineno">  247</span>        }</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>        <span class="comment">// Create an unquantized weight grid for this decimation level</span></div>
<div class="line"><span class="lineno">  250</span>        <a class="code hl_define" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> <span class="keywordtype">float</span> uq_weightsf[<a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a>];</div>
<div class="line"><span class="lineno">  251</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> we_idx = 0; we_idx &lt; weight_count; we_idx += <a class="code hl_define" href="astcenc__vecmathlib_8h.html#aaf679f3389069313db808a4ebd6af8ad">ASTCENC_SIMD_WIDTH</a>)</div>
<div class="line"><span class="lineno">  252</span>        {</div>
<div class="line"><span class="lineno">  253</span>            <a class="code hl_struct" href="structvint4.html">vint</a> unquant_value(dec_weights_uquant + we_idx);</div>
<div class="line"><span class="lineno">  254</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat</a> unquant_valuef = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a3a2ce0fb403294db7fe126a6b3e87ab7">int_to_float</a>(unquant_value);</div>
<div class="line"><span class="lineno">  255</span>            <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a">storea</a>(unquant_valuef, uq_weightsf + we_idx);</div>
<div class="line"><span class="lineno">  256</span>        }</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>        <span class="comment">// For each weight compute previous, current, and next errors</span></div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> we_idx = 0; we_idx &lt; weight_count; we_idx++)</div>
<div class="line"><span class="lineno">  260</span>        {</div>
<div class="line"><span class="lineno">  261</span>            <span class="keywordtype">int</span> uqw = dec_weights_uquant[we_idx];</div>
<div class="line"><span class="lineno">  262</span>            uint32_t prev_and_next = qat.<a class="code hl_variable" href="structquant__and__transfer__table.html#a6e8a9f0e2cb20155c0d2034399802b29">prev_next_values</a>[uqw];</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>            <span class="keywordtype">float</span> uqw_base = uq_weightsf[we_idx];</div>
<div class="line"><span class="lineno">  265</span>            <span class="keywordtype">float</span> uqw_down = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(prev_and_next &amp; 0xFF);</div>
<div class="line"><span class="lineno">  266</span>            <span class="keywordtype">float</span> uqw_up = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>((prev_and_next &gt;&gt; 8) &amp; 0xFF);</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>            <span class="keywordtype">float</span> uqw_diff_down = uqw_down - uqw_base;</div>
<div class="line"><span class="lineno">  269</span>            <span class="keywordtype">float</span> uqw_diff_up = uqw_up - uqw_base;</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> error_basev = <a class="code hl_function" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae">vfloat4::zero</a>();</div>
<div class="line"><span class="lineno">  272</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> error_downv = <a class="code hl_function" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae">vfloat4::zero</a>();</div>
<div class="line"><span class="lineno">  273</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> error_upv = <a class="code hl_function" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae">vfloat4::zero</a>();</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>            <span class="comment">// Interpolate the colors to create the diffs</span></div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> texels_to_evaluate = di.<a class="code hl_variable" href="structdecimation__info.html#af8cbdbb54638ad694f845fb0bd96d007">weight_texel_count</a>[we_idx];</div>
<div class="line"><span class="lineno">  277</span>            <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(texels_to_evaluate &gt; 0);</div>
<div class="line"><span class="lineno">  278</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> te_idx = 0; te_idx &lt; texels_to_evaluate; te_idx++)</div>
<div class="line"><span class="lineno">  279</span>            {</div>
<div class="line"><span class="lineno">  280</span>                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> texel = di.<a class="code hl_variable" href="structdecimation__info.html#a312c1244893e84561d7d01bb43493d2e">weight_texels_tr</a>[te_idx][we_idx];</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>                <span class="keywordtype">float</span> tw_base = di.<a class="code hl_variable" href="structdecimation__info.html#a512f049d754ab5546758122dc0f5efcc">texel_contrib_for_weight</a>[te_idx][we_idx];</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>                <span class="keywordtype">float</span> weight_base = (uq_weightsf[di.<a class="code hl_variable" href="structdecimation__info.html#adcee6ed79e4c94e1bcb305d429e3cff5">texel_weights_tr</a>[0][texel]] * di.<a class="code hl_variable" href="structdecimation__info.html#a4d05a42b1764a046f86d4a5220cb5365">texel_weight_contribs_float_tr</a>[0][texel]</div>
<div class="line"><span class="lineno">  285</span>                                   + uq_weightsf[di.<a class="code hl_variable" href="structdecimation__info.html#adcee6ed79e4c94e1bcb305d429e3cff5">texel_weights_tr</a>[1][texel]] * di.<a class="code hl_variable" href="structdecimation__info.html#a4d05a42b1764a046f86d4a5220cb5365">texel_weight_contribs_float_tr</a>[1][texel])</div>
<div class="line"><span class="lineno">  286</span>                                  + (uq_weightsf[di.<a class="code hl_variable" href="structdecimation__info.html#adcee6ed79e4c94e1bcb305d429e3cff5">texel_weights_tr</a>[2][texel]] * di.<a class="code hl_variable" href="structdecimation__info.html#a4d05a42b1764a046f86d4a5220cb5365">texel_weight_contribs_float_tr</a>[2][texel]</div>
<div class="line"><span class="lineno">  287</span>                                   + uq_weightsf[di.<a class="code hl_variable" href="structdecimation__info.html#adcee6ed79e4c94e1bcb305d429e3cff5">texel_weights_tr</a>[3][texel]] * di.<a class="code hl_variable" href="structdecimation__info.html#a4d05a42b1764a046f86d4a5220cb5365">texel_weight_contribs_float_tr</a>[3][texel]);</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>                <span class="comment">// Ideally this is integer rounded, but IQ gain it isn&#39;t worth the overhead</span></div>
<div class="line"><span class="lineno">  290</span>                <span class="comment">// float weight = astc::flt_rd(weight_base + 0.5f);</span></div>
<div class="line"><span class="lineno">  291</span>                <span class="comment">// float weight_down = astc::flt_rd(weight_base + 0.5f + uqw_diff_down * tw_base) - weight;</span></div>
<div class="line"><span class="lineno">  292</span>                <span class="comment">// float weight_up = astc::flt_rd(weight_base + 0.5f + uqw_diff_up * tw_base) - weight;</span></div>
<div class="line"><span class="lineno">  293</span>                <span class="keywordtype">float</span> weight_down = weight_base + uqw_diff_down * tw_base - weight_base;</div>
<div class="line"><span class="lineno">  294</span>                <span class="keywordtype">float</span> weight_up = weight_base + uqw_diff_up * tw_base - weight_base;</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partition = pi.partition_of_texel[texel];</div>
<div class="line"><span class="lineno">  297</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color_offset = offset[partition];</div>
<div class="line"><span class="lineno">  298</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color_base   = endpnt0f[partition];</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color = color_base + color_offset * weight_base;</div>
<div class="line"><span class="lineno">  301</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> orig_color = blk.<a class="code hl_function" href="structimage__block.html#af99de7d75e1e380b31d70d131509caa9">texel</a>(texel);</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color_diff      = color - orig_color;</div>
<div class="line"><span class="lineno">  304</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color_down_diff = color_diff + color_offset * weight_down;</div>
<div class="line"><span class="lineno">  305</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color_up_diff   = color_diff + color_offset * weight_up;</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>                error_basev += color_diff * color_diff;</div>
<div class="line"><span class="lineno">  308</span>                error_downv += color_down_diff * color_down_diff;</div>
<div class="line"><span class="lineno">  309</span>                error_upv   += color_up_diff * color_up_diff;</div>
<div class="line"><span class="lineno">  310</span>            }</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> error_weight = blk.<a class="code hl_variable" href="structimage__block.html#a6fd749c93e25e5e96748a10387c24a77">channel_weight</a>;</div>
<div class="line"><span class="lineno">  313</span>            <span class="keywordtype">float</span> error_base = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898">hadd_s</a>(error_basev * error_weight);</div>
<div class="line"><span class="lineno">  314</span>            <span class="keywordtype">float</span> error_down = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898">hadd_s</a>(error_downv * error_weight);</div>
<div class="line"><span class="lineno">  315</span>            <span class="keywordtype">float</span> error_up   = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898">hadd_s</a>(error_upv   * error_weight);</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>            <span class="comment">// Check if the prev or next error is better, and if so use it</span></div>
<div class="line"><span class="lineno">  318</span>            <span class="keywordflow">if</span> ((error_up &lt; error_base) &amp;&amp; (error_up &lt; error_down) &amp;&amp; (uqw &lt; 64))</div>
<div class="line"><span class="lineno">  319</span>            {</div>
<div class="line"><span class="lineno">  320</span>                uq_weightsf[we_idx] = uqw_up;</div>
<div class="line"><span class="lineno">  321</span>                dec_weights_uquant[we_idx] = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(uqw_up);</div>
<div class="line"><span class="lineno">  322</span>                adjustments = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  323</span>            }</div>
<div class="line"><span class="lineno">  324</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((error_down &lt; error_base) &amp;&amp; (uqw &gt; 0))</div>
<div class="line"><span class="lineno">  325</span>            {</div>
<div class="line"><span class="lineno">  326</span>                uq_weightsf[we_idx] = uqw_down;</div>
<div class="line"><span class="lineno">  327</span>                dec_weights_uquant[we_idx] = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(uqw_down);</div>
<div class="line"><span class="lineno">  328</span>                adjustments = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  329</span>            }</div>
<div class="line"><span class="lineno">  330</span>        }</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>        <span class="comment">// Prepare iteration for plane 2</span></div>
<div class="line"><span class="lineno">  333</span>        dec_weights_uquant += <a class="code hl_variable" href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a>;</div>
<div class="line"><span class="lineno">  334</span>        plane_mask = ~plane_mask;</div>
<div class="line"><span class="lineno">  335</span>    }</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">return</span> adjustments;</div>
<div class="line"><span class="lineno">  338</span>}</div>
<div class="ttc" id="aastcenc__color__unquantize_8cpp_html_ab9b659180fb522b05391892336dbc095"><div class="ttname"><a href="astcenc__color__unquantize_8cpp.html#ab9b659180fb522b05391892336dbc095">unpack_color_endpoints</a></div><div class="ttdeci">void unpack_color_endpoints(astcenc_profile decode_mode, int format, const uint8_t *input, bool &amp;rgb_hdr, bool &amp;alpha_hdr, vint4 &amp;output0, vint4 &amp;output1)</div><div class="ttdoc">Unpack a single pair of encoded endpoints.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__color__unquantize_8cpp_source.html#l00762">astcenc_color_unquantize.cpp:762</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a9d58fe49f85551cd8c9ccadb5aece318"><div class="ttname"><a href="astcenc__internal_8h.html#a9d58fe49f85551cd8c9ccadb5aece318">quant_and_xfer_tables</a></div><div class="ttdeci">const quant_and_transfer_table quant_and_xfer_tables[12]</div><div class="ttdoc">The precomputed quant and transfer table.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__weight__quant__xfer__tables_8cpp_source.html#l00026">astcenc_weight_quant_xfer_tables.cpp:26</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib_8h_html_aaf679f3389069313db808a4ebd6af8ad"><div class="ttname"><a href="astcenc__vecmathlib_8h.html#aaf679f3389069313db808a4ebd6af8ad">ASTCENC_SIMD_WIDTH</a></div><div class="ttdeci">#define ASTCENC_SIMD_WIDTH</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib_8h_source.html#l00146">astcenc_vecmathlib.h:146</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a3a2ce0fb403294db7fe126a6b3e87ab7"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a3a2ce0fb403294db7fe126a6b3e87ab7">int_to_float</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vfloat8 int_to_float(vint8 a)</div><div class="ttdoc">Return a float value for an integer vector.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l01019">astcenc_vecmathlib_avx2_8.h:1019</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_ad4c0a7bde35d6fe9c54531e1e0652f4a"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a">storea</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE void storea(vint8 a, int *p)</div><div class="ttdoc">Store a vector to a 16B aligned memory address.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00549">astcenc_vecmathlib_avx2_8.h:549</a></div></div>
<div class="ttc" id="astructdecimation__info_html"><div class="ttname"><a href="structdecimation__info.html">decimation_info</a></div><div class="ttdoc">The weight grid information for a single decimation pattern.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00346">astcenc_internal.h:347</a></div></div>
<div class="ttc" id="astructdecimation__info_html_a312c1244893e84561d7d01bb43493d2e"><div class="ttname"><a href="structdecimation__info.html#a312c1244893e84561d7d01bb43493d2e">decimation_info::weight_texels_tr</a></div><div class="ttdeci">ASTCENC_ALIGNAS uint8_t weight_texels_tr[BLOCK_MAX_TEXELS][BLOCK_MAX_WEIGHTS]</div><div class="ttdoc">The list of texels that use a specific weight index. Stored transposed to improve vectorization.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00397">astcenc_internal.h:397</a></div></div>
<div class="ttc" id="astructdecimation__info_html_a4d05a42b1764a046f86d4a5220cb5365"><div class="ttname"><a href="structdecimation__info.html#a4d05a42b1764a046f86d4a5220cb5365">decimation_info::texel_weight_contribs_float_tr</a></div><div class="ttdeci">ASTCENC_ALIGNAS float texel_weight_contribs_float_tr[4][BLOCK_MAX_TEXELS]</div><div class="ttdoc">The bilinear contribution of the N weights that are interpolated for each texel. Value is between 0 a...</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00388">astcenc_internal.h:388</a></div></div>
<div class="ttc" id="astructdecimation__info_html_a512f049d754ab5546758122dc0f5efcc"><div class="ttname"><a href="structdecimation__info.html#a512f049d754ab5546758122dc0f5efcc">decimation_info::texel_contrib_for_weight</a></div><div class="ttdeci">float texel_contrib_for_weight[BLOCK_MAX_TEXELS][BLOCK_MAX_WEIGHTS]</div><div class="ttdoc">The bilinear contribution to the Nth texel that uses each weight. Value is between 0 and 1,...</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00409">astcenc_internal.h:409</a></div></div>
<div class="ttc" id="astructdecimation__info_html_adcee6ed79e4c94e1bcb305d429e3cff5"><div class="ttname"><a href="structdecimation__info.html#adcee6ed79e4c94e1bcb305d429e3cff5">decimation_info::texel_weights_tr</a></div><div class="ttdeci">ASTCENC_ALIGNAS uint8_t texel_weights_tr[4][BLOCK_MAX_TEXELS]</div><div class="ttdoc">The weight index of the N weights that are interpolated for each texel. Stored transposed to improve ...</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00376">astcenc_internal.h:376</a></div></div>
<div class="ttc" id="astructdecimation__info_html_af7d0c86be805995a20a6c09f6c3ab8ca"><div class="ttname"><a href="structdecimation__info.html#af7d0c86be805995a20a6c09f6c3ab8ca">decimation_info::weight_count</a></div><div class="ttdeci">uint8_t weight_count</div><div class="ttdoc">The total number of weights stored.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00355">astcenc_internal.h:355</a></div></div>
<div class="ttc" id="astructdecimation__info_html_af8cbdbb54638ad694f845fb0bd96d007"><div class="ttname"><a href="structdecimation__info.html#af8cbdbb54638ad694f845fb0bd96d007">decimation_info::weight_texel_count</a></div><div class="ttdeci">ASTCENC_ALIGNAS uint8_t weight_texel_count[BLOCK_MAX_WEIGHTS]</div><div class="ttdoc">The number of texels that each stored weight contributes to.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00391">astcenc_internal.h:391</a></div></div>
<div class="ttc" id="astructimage__block_html_af99de7d75e1e380b31d70d131509caa9"><div class="ttname"><a href="structimage__block.html#af99de7d75e1e380b31d70d131509caa9">image_block::texel</a></div><div class="ttdeci">vfloat4 texel(unsigned int index) const</div><div class="ttdoc">Get an RGBA texel value from the data.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00804">astcenc_internal.h:804</a></div></div>
<div class="ttc" id="astructquant__and__transfer__table_html"><div class="ttname"><a href="structquant__and__transfer__table.html">quant_and_transfer_table</a></div><div class="ttdoc">Weight quantization transfer table.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01031">astcenc_internal.h:1032</a></div></div>
<div class="ttc" id="astructquant__and__transfer__table_html_a6e8a9f0e2cb20155c0d2034399802b29"><div class="ttname"><a href="structquant__and__transfer__table.html#a6e8a9f0e2cb20155c0d2034399802b29">quant_and_transfer_table::prev_next_values</a></div><div class="ttdeci">uint16_t prev_next_values[65]</div><div class="ttdoc">A table of previous-and-next weights, indexed by the current unquantized value.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01047">astcenc_internal.h:1047</a></div></div>
<div class="ttc" id="astructvfloat4_html_a04b5f338012dab6be0b2bd7910fcbcae"><div class="ttname"><a href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae">vfloat4::zero</a></div><div class="ttdeci">static ASTCENC_SIMD_INLINE vfloat4 zero()</div><div class="ttdoc">Factory that returns a vector of zeros.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00116">astcenc_vecmathlib_neon_4.h:116</a></div></div>
<div class="ttc" id="astructvint4_html_a9dfa1c40a3c4dbc0858567dc629a80b8"><div class="ttname"><a href="structvint4.html#a9dfa1c40a3c4dbc0858567dc629a80b8">vint4::zero</a></div><div class="ttdeci">static ASTCENC_SIMD_INLINE vint4 zero()</div><div class="ttdoc">Factory that returns a vector of zeros.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00260">astcenc_vecmathlib_neon_4.h:260</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_af80747ee43aa6fda579161376205c294_cgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_af80747ee43aa6fda579161376205c294_cgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_af80747ee43aa6fda579161376205c294_cgraph" id="aastcenc__compress__symbolic_8cpp_af80747ee43aa6fda579161376205c294_cgraph">
<area shape="rect" title="Attempt to improve weights given a chosen configuration." alt="" coords="5,347,184,373"/>
<area shape="rect" href="structblock__size__descriptor.html#a13608eb55e48c96b6243f4830278ebf3" title="Get the block mode structure for index block_mode." alt="" coords="239,5,387,45"/>
<area shape="poly" title=" " alt="" coords="96,347,107,294,132,217,150,174,172,131,199,91,230,55,235,51,238,55,234,59,203,94,177,134,155,176,137,218,113,295,101,348"/>
<area shape="rect" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d" title="Get the decimation info structure for index decimation_mode." alt="" coords="239,69,387,109"/>
<area shape="poly" title=" " alt="" coords="97,346,113,304,140,243,179,178,203,147,230,119,236,115,239,119,234,123,207,150,183,181,144,246,118,306,102,348"/>
<area shape="rect" href="structblock__size__descriptor.html#aa9dfc7b23c8b5e6c71e956e2e39fff74" title="Get the partition info structure for a given partition count and seed." alt="" coords="239,133,387,173"/>
<area shape="poly" title=" " alt="" coords="101,346,148,270,186,224,230,183,238,178,241,182,234,187,190,228,153,274,105,349"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898" title="Return the horizontal sum of a vector." alt="" coords="281,222,345,247"/>
<area shape="poly" title=" " alt="" coords="108,345,159,302,194,278,231,256,267,242,269,247,233,261,197,282,163,306,111,349"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a3a2ce0fb403294db7fe126a6b3e87ab7" title="Return a float value for an integer vector." alt="" coords="271,271,356,297"/>
<area shape="poly" title=" " alt="" coords="131,345,262,299,264,304,133,350"/>
<area shape="rect" href="structvint4.html#a21e3d111e37da1aaaeb5ba21a831c863" title="Factory that returns a vector containing the lane IDs." alt="" coords="887,322,985,347"/>
<area shape="poly" title=" " alt="" coords="184,355,874,334,874,339,184,360"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc" title="Return lanes from b if cond is set, else a." alt="" coords="1061,693,1119,718"/>
<area shape="poly" title=" " alt="" coords="140,370,213,389,310,410,419,427,530,433,747,433,805,441,859,462,910,494,955,531,995,572,1029,613,1076,679,1072,682,1025,616,991,576,952,535,907,498,857,467,803,446,746,439,530,439,418,432,309,415,212,394,139,375"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a" title="Store a vector to a 16B aligned memory address." alt="" coords="284,923,343,949"/>
<area shape="poly" title=" " alt="" coords="100,373,114,477,141,639,160,724,182,803,206,867,220,892,234,910,251,922,271,929,270,934,249,927,230,914,215,895,202,869,177,804,155,726,136,640,108,478,95,373"/>
<area shape="rect" href="structimage__block.html#af99de7d75e1e380b31d70d131509caa9" title="Get an RGBA texel value from the data." alt="" coords="248,973,379,998"/>
<area shape="poly" title=" " alt="" coords="100,373,112,485,138,662,157,756,179,842,205,912,219,939,234,960,238,964,235,967,230,963,214,942,200,914,174,843,152,757,133,663,107,486,95,373"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#ab9b659180fb522b05391892336dbc095" title="Unpack a single pair of encoded endpoints." alt="" coords="232,874,395,899"/>
<area shape="poly" title=" " alt="" coords="104,372,304,860,299,862,99,374"/>
<area shape="rect" href="structvint4.html#a9dfa1c40a3c4dbc0858567dc629a80b8" title="Factory that returns a vector of zeros." alt="" coords="1049,373,1131,398"/>
<area shape="poly" title=" " alt="" coords="184,365,345,377,530,383,747,383,1036,383,1036,388,747,388,530,388,345,382,184,371"/>
<area shape="rect" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae" title="Factory that returns a vector of zeros." alt="" coords="268,1263,359,1289"/>
<area shape="poly" title=" " alt="" coords="101,372,148,621,188,813,235,1010,273,1145,306,1249,301,1251,268,1147,229,1011,183,814,143,622,96,373"/>
<area shape="rect" href="structblock__size__descriptor.html#a6d0c429d925ab011c22ab28b5807c368" title="Get the partition info table for a given partition count." alt="" coords="457,133,605,173"/>
<area shape="poly" title=" " alt="" coords="388,151,444,151,444,156,388,156"/>
<area shape="poly" title=" " alt="" coords="279,224,271,214,274,204,289,198,313,195,345,199,353,205,356,211,351,213,349,208,343,205,313,201,290,203,278,208,276,213,283,221"/>
<area shape="rect" href="structvint4.html#a3315184e8bb4f0cf1ca8dcff1f57cdae" title="Construct from zero&#45;initialized value." alt="" coords="1179,347,1261,373"/>
<area shape="poly" title=" " alt="" coords="985,336,1165,352,1164,358,985,342"/>
<area shape="poly" title=" " alt="" coords="327,872,375,833,407,812,442,795,525,766,613,744,701,727,786,716,939,704,1047,702,1047,707,939,709,787,721,701,732,614,749,527,771,444,800,410,817,378,837,330,876"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#aa2c0643330441f9232c720d4acd01552" title="Unpack an HDR L (large range) direct encoding." alt="" coords="461,975,602,1015"/>
<area shape="poly" title=" " alt="" coords="368,897,396,910,411,921,421,932,444,954,466,966,464,971,441,958,417,935,408,925,393,914,365,902"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#ac9b70bb1bd214dee745ded9bcb04742e" title="Unpack an HDR L (small range) direct encoding." alt="" coords="459,1039,603,1079"/>
<area shape="poly" title=" " alt="" coords="376,897,396,910,409,925,416,939,422,969,427,997,433,1011,445,1025,450,1029,446,1033,441,1029,429,1014,422,999,416,969,411,941,405,928,393,914,374,902"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#aded0cdfa2613a96d69299785784bfa7e" title="Unpack an HDR RGBA direct encoding." alt="" coords="443,1153,620,1178"/>
<area shape="poly" title=" " alt="" coords="380,897,397,910,416,940,424,969,424,999,421,1028,417,1056,418,1084,425,1112,445,1140,448,1143,444,1146,441,1143,421,1114,412,1085,412,1056,415,1027,419,998,419,970,411,942,393,914,376,902"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#ade2461b695d17d056a56c091736a9cc9" title="Unpack an HDR RGB direct encoding." alt="" coords="688,1251,803,1277"/>
<area shape="poly" title=" " alt="" coords="381,897,397,910,414,935,425,960,431,986,433,1011,427,1061,414,1109,403,1157,399,1203,403,1226,411,1248,424,1269,444,1290,461,1298,484,1303,546,1302,616,1291,682,1277,683,1283,617,1296,546,1307,483,1308,459,1303,441,1294,420,1272,406,1250,398,1227,394,1204,397,1156,409,1108,421,1060,428,1011,426,986,420,962,409,938,393,914,378,902"/>
<area shape="rect" href="structvint4.html#a1e438bb142ad09e372b0834acd0c0b68" title="Set the scalar value of a single lane." alt="" coords="693,1202,798,1227"/>
<area shape="poly" title=" " alt="" coords="380,897,397,910,419,947,427,983,424,1020,417,1056,411,1091,410,1124,420,1157,445,1189,470,1207,498,1221,529,1229,560,1234,624,1234,680,1227,681,1233,624,1240,560,1239,528,1235,496,1226,467,1212,441,1193,415,1159,405,1125,406,1090,412,1055,419,1019,421,984,414,949,393,914,377,902"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#aa7a2e2f7b578cb97b5ade543c8db2614" title="Unpack an HDR RGB + LDR A direct encoding." alt="" coords="445,1254,618,1279"/>
<area shape="poly" title=" " alt="" coords="381,897,397,910,412,931,422,952,432,993,430,1033,422,1073,415,1113,412,1152,421,1192,430,1212,445,1233,458,1245,455,1249,441,1236,426,1215,416,1194,407,1153,409,1112,417,1072,424,1033,426,993,417,954,407,934,393,914,377,902"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#ab52d36b55d82a9b3a149429ed6d5332c" title="Unpack an HDR RGB + offset encoding." alt="" coords="471,474,592,499"/>
<area shape="poly" title=" " alt="" coords="312,874,317,809,335,711,351,657,374,603,403,553,441,509,456,498,459,502,444,513,408,556,378,605,356,658,340,712,323,810,318,874"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a86240f0fb5745ded88afe10d524c960f" title="Logical shift left." alt="" coords="512,523,551,549"/>
<area shape="poly" title=" " alt="" coords="313,873,321,816,341,731,358,685,379,639,407,595,441,558,468,542,498,535,499,540,470,547,444,562,411,599,384,641,363,687,346,733,326,817,318,874"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#a3b8032ce212a167d91be041c0226cb3a" title="Unpack an LDR LA color that uses delta encoding." alt="" coords="668,1301,823,1341"/>
<area shape="poly" title=" " alt="" coords="381,897,397,910,415,936,427,963,433,989,434,1015,428,1067,415,1118,402,1168,398,1217,402,1240,410,1263,424,1286,444,1309,468,1326,493,1338,521,1346,550,1350,608,1350,663,1342,664,1347,609,1355,549,1355,520,1351,491,1343,465,1330,441,1313,420,1289,405,1266,397,1241,393,1217,397,1167,410,1117,423,1066,429,1015,427,990,422,964,410,939,393,914,378,901"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#a7de49dc5d2c25680d4beeaf389c7ee05" title="Unpack an LDR LA color that uses direct encoding." alt="" coords="447,573,615,598"/>
<area shape="poly" title=" " alt="" coords="314,873,325,824,347,752,364,713,385,674,410,638,441,607,447,602,451,607,444,611,415,642,389,677,369,715,352,754,330,825,319,874"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#aef3d7e05db47fe6589797a1abde0ece1" title="Unpack an LDR L color that uses delta encoding." alt="" coords="449,622,614,647"/>
<area shape="poly" title=" " alt="" coords="316,873,329,831,354,772,391,710,414,681,441,657,449,651,452,656,444,661,418,685,395,713,359,775,334,833,321,874"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#a4b46bc42a37e5286f564c7bcdf1d26a7" title="Unpack an LDR L color that uses direct encoding." alt="" coords="466,671,597,697"/>
<area shape="poly" title=" " alt="" coords="319,873,363,799,398,753,441,714,466,700,468,704,444,718,402,757,367,802,323,875"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82" title="Return a 8&#45;bit mask code indicating mask status." alt="" coords="1063,891,1117,917"/>
<area shape="poly" title=" " alt="" coords="339,871,386,851,442,832,547,807,632,794,716,794,823,809,848,818,872,828,1050,889,1048,894,870,833,846,822,822,815,716,799,632,799,548,812,443,837,388,856,341,876"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#a09b179400bc4fa4d90e9b093380e5541" title="Unpack an LDR RGB color that uses delta encoding." alt="" coords="469,874,593,899"/>
<area shape="poly" title=" " alt="" coords="395,884,456,884,456,889,395,889"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#abb9e5b31fe822e7e3ab0757f1989a321" title="Unpack an LDR RGBA color that uses delta encoding." alt="" coords="680,823,811,849"/>
<area shape="poly" title=" " alt="" coords="375,871,442,860,560,847,666,838,667,843,560,852,443,865,376,877"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#aab96eda6a634d4d49db5d672ec7b4521" title="Unpack an LDR RGBA color that uses scaled encoding." alt="" coords="449,1406,614,1431"/>
<area shape="poly" title=" " alt="" coords="381,897,397,910,418,941,432,972,440,1002,443,1032,437,1091,423,1149,408,1207,402,1265,404,1294,411,1324,425,1354,445,1385,458,1397,454,1401,441,1388,420,1357,406,1326,399,1295,396,1265,403,1206,417,1148,432,1090,438,1032,435,1003,427,974,414,944,393,914,378,901"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#af892d5217804e7cd7087fb7791c86c53" title="Unpack an LDR RGB color that uses scaled encoding." alt="" coords="468,1455,595,1481"/>
<area shape="poly" title=" " alt="" coords="381,897,397,910,409,931,418,957,425,1021,425,1097,421,1179,416,1260,416,1335,424,1398,433,1423,445,1442,457,1453,454,1457,441,1446,428,1425,419,1399,411,1336,411,1260,415,1178,420,1097,420,1022,412,958,404,933,393,914,378,902"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#ae84a3a83b3f1dbe4288ee4054ded6419" title="Unpack an LDR RGB color that uses direct encoding." alt="" coords="487,1103,576,1129"/>
<area shape="poly" title=" " alt="" coords="379,897,397,910,413,933,421,956,421,1002,422,1046,429,1067,445,1089,458,1099,475,1106,472,1111,456,1104,441,1093,424,1070,416,1047,416,1002,415,957,408,936,393,914,376,902"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#aa8f902332b94b93405c7496b1b3838ba" title="Unpack an LDR RGBA color that uses direct encoding." alt="" coords="697,931,793,957"/>
<area shape="poly" title=" " alt="" coords="374,897,443,909,572,926,684,937,683,942,571,931,442,915,373,902"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#af3675c2edfd62b1bb94f7977eb981191" title="Unpack an HDR A direct encoding." alt="" coords="682,1153,809,1178"/>
<area shape="poly" title=" " alt="" coords="620,1163,669,1163,669,1168,620,1168"/>
<area shape="poly" title=" " alt="" coords="554,1176,605,1206,669,1238,686,1244,684,1249,667,1242,603,1211,551,1180"/>
<area shape="poly" title=" " alt="" coords="588,1175,680,1197,679,1202,586,1181"/>
<area shape="rect" href="namespaceastc.html#a8f8b2ad23b04a389f6785bc80b61349b" title="Clamp a value value between mn and mx." alt="" coords="891,1279,981,1305"/>
<area shape="poly" title=" " alt="" coords="803,1270,877,1281,876,1286,803,1275"/>
<area shape="poly" title=" " alt="" coords="618,1263,674,1262,674,1268,618,1268"/>
<area shape="poly" title=" " alt="" coords="584,1251,679,1228,680,1233,585,1257"/>
<area shape="poly" title=" " alt="" coords="823,1307,877,1298,878,1304,824,1312"/>
<area shape="rect" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738" title="Return the minimum of two values." alt="" coords="707,622,783,647"/>
<area shape="poly" title=" " alt="" coords="614,632,694,632,694,637,614,637"/>
<area shape="poly" title=" " alt="" coords="556,897,590,924,608,941,622,961,637,994,643,1025,640,1082,639,1108,641,1135,650,1161,670,1189,682,1199,679,1203,666,1192,646,1164,636,1136,633,1108,635,1081,637,1025,632,996,618,964,604,945,587,928,553,902"/>
<area shape="poly" title=" " alt="" coords="585,871,677,849,678,854,587,876"/>
<area shape="rect" href="astcenc__vecmathlib__common__4_8h.html#acaab0374259bd298c1282e6a0b84bc8f" title="Apply signed bit transfer." alt="" coords="871,743,1001,769"/>
<area shape="poly" title=" " alt="" coords="774,821,870,779,888,771,890,776,872,784,776,826"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e" title="Return the clamped value between min and max." alt="" coords="907,793,965,818"/>
<area shape="poly" title=" " alt="" coords="810,823,893,809,894,815,811,828"/>
<area shape="rect" href="astcenc__vecmathlib__common__4_8h.html#a48e833d0cfdf950b6bc3431fce00507e" title="Return the horizontal sum of RGB vector lanes as a scalar." alt="" coords="891,943,981,969"/>
<area shape="poly" title=" " alt="" coords="762,847,809,887,872,930,884,936,881,940,869,934,806,891,758,851"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#a604a48c74e6d1c8476146b0955331344" title="Functions for color unquantization." alt="" coords="877,894,995,919"/>
<area shape="poly" title=" " alt="" coords="782,846,889,887,887,892,780,851"/>
<area shape="poly" title=" " alt="" coords="975,741,1047,716,1049,722,976,746"/>
<area shape="poly" title=" " alt="" coords="984,767,1003,779,1022,804,1029,829,1035,853,1051,878,1054,881,1050,885,1047,882,1031,855,1024,830,1017,807,999,783,981,771"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a0a3a7d755cec1c73d0ce9c50b33bc207" title="Logical shift right." alt="" coords="1071,743,1109,769"/>
<area shape="poly" title=" " alt="" coords="1002,753,1057,753,1057,759,1002,759"/>
<area shape="poly" title=" " alt="" coords="940,742,1076,410,1081,412,945,744"/>
<area shape="poly" title=" " alt="" coords="1130,375,1165,368,1166,373,1131,380"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aa162915c044e97cc1f6d630338761fd3" title="Return the max vector of two vectors." alt="" coords="1067,842,1113,867"/>
<area shape="poly" title=" " alt="" coords="966,812,1054,841,1053,846,964,817"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a165b3db4e7ced1551e1880a01a01150b" title="Return the min vector of two vectors." alt="" coords="1069,793,1111,818"/>
<area shape="poly" title=" " alt="" coords="965,803,1055,803,1055,808,965,808"/>
<area shape="rect" href="structvint4.html#a01e3f7debf73dc6c757fa36d585c9d17" title="Get the scalar from a single lane." alt="" coords="1050,943,1130,969"/>
<area shape="poly" title=" " alt="" coords="981,953,1036,953,1036,959,981,959"/>
<area shape="poly" title=" " alt="" coords="948,892,973,864,999,829,1013,802,1021,778,1029,755,1047,729,1052,725,1055,728,1051,732,1034,757,1026,780,1018,804,1004,832,977,867,952,895"/>
<area shape="poly" title=" " alt="" coords="995,903,1049,902,1049,907,995,908"/>
<area shape="poly" title=" " alt="" coords="977,917,1037,936,1036,942,975,922"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aff39374b256d568d084ba4fd2fed7819" title="Arithmetic shift right." alt="" coords="1070,1417,1110,1442"/>
<area shape="poly" title=" " alt="" coords="987,917,1003,930,1024,968,1042,1023,1056,1088,1068,1160,1083,1300,1090,1403,1085,1403,1078,1301,1062,1161,1051,1089,1037,1024,1020,971,999,934,984,921"/>
<area shape="poly" title=" " alt="" coords="539,1404,599,1316,636,1269,666,1238,679,1230,682,1235,670,1242,640,1273,603,1320,543,1407"/>
<area shape="poly" title=" " alt="" coords="613,1403,844,1361,946,1337,981,1326,1000,1315,1016,1291,1031,1255,1056,1160,1073,1059,1083,982,1089,983,1079,1060,1061,1161,1036,1256,1021,1294,1003,1319,983,1330,948,1342,845,1367,614,1409"/>
<area shape="poly" title=" " alt="" coords="614,1418,1056,1426,1056,1431,614,1423"/>
<area shape="poly" title=" " alt="" coords="594,1458,618,1442,636,1418,643,1393,644,1368,642,1343,640,1317,640,1291,648,1265,666,1238,679,1228,682,1232,670,1242,653,1267,646,1292,645,1317,647,1342,650,1368,649,1394,640,1420,622,1446,596,1462"/>
<area shape="poly" title=" " alt="" coords="595,1461,1056,1429,1056,1434,595,1466"/>
<area shape="poly" title=" " alt="" coords="577,1121,621,1139,637,1152,646,1164,655,1177,669,1188,681,1195,679,1199,667,1193,651,1180,642,1167,633,1155,619,1144,575,1126"/>
<area shape="poly" title=" " alt="" coords="575,1106,598,1099,619,1088,653,1061,684,1028,728,967,732,970,688,1031,657,1065,621,1093,600,1104,577,1111"/>
<area shape="poly" title=" " alt="" coords="794,944,878,950,877,955,793,950"/>
<area shape="poly" title=" " alt="" coords="793,932,863,918,864,923,794,937"/>
<area shape="rect" href="structvfloat4.html#a9df51cb30b68d6d51ca607e64aa1ebf0" title="Construct from zero&#45;initialized value." alt="" coords="480,1505,583,1530"/>
<area shape="poly" title=" " alt="" coords="321,1288,335,1328,360,1383,396,1442,419,1468,444,1491,468,1504,466,1509,441,1496,415,1472,392,1445,355,1386,330,1330,316,1290"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_af80747ee43aa6fda579161376205c294_icgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_af80747ee43aa6fda579161376205c294_icgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_af80747ee43aa6fda579161376205c294_icgraph" id="aastcenc__compress__symbolic_8cpp_af80747ee43aa6fda579161376205c294_icgraph">
<area shape="rect" title="Attempt to improve weights given a chosen configuration." alt="" coords="1239,45,1417,70"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af5f518a15600c71922e69267dea2db99" title="Compress a block using a chosen partitioning and 1 plane of weights." alt="" coords="1015,5,1191,45"/>
<area shape="poly" title=" " alt="" coords="1225,45,1191,40,1191,35,1226,40"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af11a976c8ea386db054bef472ce0667c" title="Compress a block using a chosen partitioning and 2 planes of weights." alt="" coords="1015,69,1191,109"/>
<area shape="poly" title=" " alt="" coords="1226,75,1191,79,1191,74,1225,69"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a579b9a2ceeecda2fb3abe63b8311df1c" title="Compress an image block into a physical block." alt="" coords="849,45,967,70"/>
<area shape="poly" title=" " alt="" coords="1002,45,967,50,966,45,1001,39"/>
<area shape="rect" href="astcenc__entry_8cpp.html#acbecfd32ce013d567cac16a877c20f42" title="Compress an image, after any preflight has completed." alt="" coords="680,45,801,70"/>
<area shape="poly" title=" " alt="" coords="835,60,802,60,802,55,835,55"/>
<area shape="rect" href="astcenc__entry_8cpp.html#ad762aa055eed75156c99309158a40e90" title="Compress an image." alt="" coords="457,45,632,70"/>
<area shape="poly" title=" " alt="" coords="666,60,632,60,632,55,666,55"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,45,207,70"/>
<area shape="poly" title=" " alt="" coords="444,57,409,56,255,56,207,58,207,52,255,51,409,51,444,51"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa" title="Runner callback function for a compression worker thread." alt="" coords="255,65,409,105"/>
<area shape="poly" title=" " alt="" coords="444,73,410,78,409,73,443,68"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,45,56,70"/>
<area shape="poly" title=" " alt="" coords="90,60,57,60,57,55,90,55"/>
<area shape="poly" title=" " alt="" coords="241,74,206,68,207,63,242,68"/>
<area shape="poly" title=" " alt="" coords="1001,75,966,70,967,64,1002,70"/>
</map>
</div>

</div>
</div>
<a id="a91e5fa530ba0e492b85132e416a5ddf4" name="a91e5fa530ba0e492b85132e416a5ddf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91e5fa530ba0e492b85132e416a5ddf4">&#9670;&#160;</a></span>realign_weights_undecimated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool realign_weights_undecimated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29">astcenc_profile</a></td>          <td class="paramname"><span class="paramname"><em>decode_mode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structblock__size__descriptor.html">block_size_descriptor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>bsd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structimage__block.html">image_block</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>blk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsymbolic__compressed__block.html">symbolic_compressed_block</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>scb</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempt to improve weights given a chosen configuration. </p>
<p>Given a fixed weight grid decimation and weight value quantization, iterate over all weights (per partition and per plane) and attempt to improve image quality by moving each weight up by one or down by one quantization step.</p>
<p>This is a specialized function which only supports operating on undecimated weight grids, therefore primarily improving the performance of 4x4 and 5x5 blocks where grid decimation is needed less often.</p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">decode_mode</td><td>The decode mode (LDR, HDR). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">bsd</td><td>The block size information. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">blk</td><td>The image block color data to compress. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">scb</td><td>The symbolic compressed block output. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenc__compress__symbolic_8cpp_source.html">astcenc_compress_symbolic.cpp</a> 파일의 <a class="el" href="astcenc__compress__symbolic_8cpp_source.html#l00069">69</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   74</span>  {</div>
<div class="line"><span class="lineno">   75</span>    <span class="comment">// Get the partition descriptor</span></div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partition_count = scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a6ac68bba1c38975e28fb3e67e974c551">partition_count</a>;</div>
<div class="line"><span class="lineno">   77</span>    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pi = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#aa9dfc7b23c8b5e6c71e956e2e39fff74">get_partition_info</a>(partition_count, scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a17d42e08747747b32c650a48fe1b5b6e">partition_index</a>);</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>    <span class="comment">// Get the quantization table</span></div>
<div class="line"><span class="lineno">   80</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structblock__mode.html">block_mode</a>&amp; bm = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#a13608eb55e48c96b6243f4830278ebf3">get_block_mode</a>(scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a7ba54ca805498286add2148b3b86546b">block_mode</a>);</div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> weight_quant_level = bm.<a class="code hl_variable" href="structblock__mode.html#a57910e5bd3d21447cdea6c7789723a86">quant_mode</a>;</div>
<div class="line"><span class="lineno">   82</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structquant__and__transfer__table.html">quant_and_transfer_table</a>&amp; qat = <a class="code hl_variable" href="astcenc__internal_8h.html#a9d58fe49f85551cd8c9ccadb5aece318">quant_and_xfer_tables</a>[weight_quant_level];</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_plane = bm.<a class="code hl_variable" href="structblock__mode.html#a78b282103d0a8bee2b07c0da075a3dc4">is_dual_plane</a>;</div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordtype">int</span> plane2_component = scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a49f36c368c0d976f230c76c33aed2b9d">plane2_component</a>;</div>
<div class="line"><span class="lineno">   86</span>    <a class="code hl_struct" href="structvmask4.html">vmask4</a> plane_mask = <a class="code hl_function" href="structvint4.html#a21e3d111e37da1aaaeb5ba21a831c863">vint4::lane_id</a>() == <a class="code hl_struct" href="structvint4.html">vint4</a>(plane2_component);</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    <span class="comment">// Decode the color endpoints</span></div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordtype">bool</span> rgb_hdr;</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordtype">bool</span> alpha_hdr;</div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_struct" href="structvint4.html">vint4</a> endpnt0[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>];</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_struct" href="structvint4.html">vint4</a> endpnt1[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>];</div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> endpnt0f[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>];</div>
<div class="line"><span class="lineno">   94</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> offset[<a class="code hl_variable" href="astcenc__internal_8h.html#a31f42bb3da7abe95be4b6960feead130">BLOCK_MAX_PARTITIONS</a>];</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(partition_count &gt; 0);</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pa_idx = 0; pa_idx &lt; partition_count; pa_idx++)</div>
<div class="line"><span class="lineno">   99</span>    {</div>
<div class="line"><span class="lineno">  100</span>        <a class="code hl_function" href="astcenc__color__unquantize_8cpp.html#ab9b659180fb522b05391892336dbc095">unpack_color_endpoints</a>(decode_mode,</div>
<div class="line"><span class="lineno">  101</span>                               scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a21dc79a4f976f6aa78d564576dcdde60">color_formats</a>[pa_idx],</div>
<div class="line"><span class="lineno">  102</span>                               scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#ad539bb907ce654690e8a89cf62196f9c">color_values</a>[pa_idx],</div>
<div class="line"><span class="lineno">  103</span>                               rgb_hdr, alpha_hdr,</div>
<div class="line"><span class="lineno">  104</span>                               endpnt0[pa_idx],</div>
<div class="line"><span class="lineno">  105</span>                               endpnt1[pa_idx]);</div>
<div class="line"><span class="lineno">  106</span>    }</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>    uint8_t* dec_weights_uquant = scb.<a class="code hl_variable" href="structsymbolic__compressed__block.html#a4c7260c4aa675446ffcb37f09e92dd0b">weights</a>;</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordtype">bool</span> adjustments = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    <span class="comment">// For each plane and partition ...</span></div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pl_idx = 0; pl_idx &lt;= max_plane; pl_idx++)</div>
<div class="line"><span class="lineno">  113</span>    {</div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pa_idx = 0; pa_idx &lt; partition_count; pa_idx++)</div>
<div class="line"><span class="lineno">  115</span>        {</div>
<div class="line"><span class="lineno">  116</span>            <span class="comment">// Compute the endpoint delta for all components in current plane</span></div>
<div class="line"><span class="lineno">  117</span>            <a class="code hl_struct" href="structvint4.html">vint4</a> epd = endpnt1[pa_idx] - endpnt0[pa_idx];</div>
<div class="line"><span class="lineno">  118</span>            epd = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(epd, <a class="code hl_function" href="structvint4.html#a9dfa1c40a3c4dbc0858567dc629a80b8">vint4::zero</a>(), plane_mask);</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>            endpnt0f[pa_idx] = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a3a2ce0fb403294db7fe126a6b3e87ab7">int_to_float</a>(endpnt0[pa_idx]);</div>
<div class="line"><span class="lineno">  121</span>            offset[pa_idx] = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a3a2ce0fb403294db7fe126a6b3e87ab7">int_to_float</a>(epd) * (1.0f / 64.0f);</div>
<div class="line"><span class="lineno">  122</span>        }</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>        <span class="comment">// For each weight compute previous, current, and next errors</span></div>
<div class="line"><span class="lineno">  125</span>        <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a0df466b2eda6958f2e5f8a4f147367e4">texel_count</a> &gt; 0);</div>
<div class="line"><span class="lineno">  126</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> texel = 0; texel &lt; bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a0df466b2eda6958f2e5f8a4f147367e4">texel_count</a>; texel++)</div>
<div class="line"><span class="lineno">  127</span>        {</div>
<div class="line"><span class="lineno">  128</span>            <span class="keywordtype">int</span> uqw = dec_weights_uquant[texel];</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>            uint32_t prev_and_next = qat.<a class="code hl_variable" href="structquant__and__transfer__table.html#a6e8a9f0e2cb20155c0d2034399802b29">prev_next_values</a>[uqw];</div>
<div class="line"><span class="lineno">  131</span>            <span class="keywordtype">int</span> uqw_down = prev_and_next &amp; 0xFF;</div>
<div class="line"><span class="lineno">  132</span>            <span class="keywordtype">int</span> uqw_up = (prev_and_next &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>            <span class="comment">// Interpolate the colors to create the diffs</span></div>
<div class="line"><span class="lineno">  135</span>            <span class="keywordtype">float</span> weight_base = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(uqw);</div>
<div class="line"><span class="lineno">  136</span>            <span class="keywordtype">float</span> weight_down = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(uqw_down - uqw);</div>
<div class="line"><span class="lineno">  137</span>            <span class="keywordtype">float</span> weight_up = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(uqw_up - uqw);</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> partition = pi.partition_of_texel[texel];</div>
<div class="line"><span class="lineno">  140</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color_offset = offset[partition];</div>
<div class="line"><span class="lineno">  141</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color_base   = endpnt0f[partition];</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color = color_base + color_offset * weight_base;</div>
<div class="line"><span class="lineno">  144</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> orig_color   = blk.<a class="code hl_function" href="structimage__block.html#af99de7d75e1e380b31d70d131509caa9">texel</a>(texel);</div>
<div class="line"><span class="lineno">  145</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> error_weight = blk.<a class="code hl_variable" href="structimage__block.html#a6fd749c93e25e5e96748a10387c24a77">channel_weight</a>;</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color_diff      = color - orig_color;</div>
<div class="line"><span class="lineno">  148</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color_diff_down = color_diff + color_offset * weight_down;</div>
<div class="line"><span class="lineno">  149</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color_diff_up   = color_diff + color_offset * weight_up;</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>            <span class="keywordtype">float</span> error_base = <a class="code hl_function" href="astcenc__vecmathlib__common__4_8h.html#a53a7d8285fd42b50cf3600a004db34ac">dot_s</a>(color_diff      * color_diff,      error_weight);</div>
<div class="line"><span class="lineno">  152</span>            <span class="keywordtype">float</span> error_down = <a class="code hl_function" href="astcenc__vecmathlib__common__4_8h.html#a53a7d8285fd42b50cf3600a004db34ac">dot_s</a>(color_diff_down * color_diff_down, error_weight);</div>
<div class="line"><span class="lineno">  153</span>            <span class="keywordtype">float</span> error_up   = <a class="code hl_function" href="astcenc__vecmathlib__common__4_8h.html#a53a7d8285fd42b50cf3600a004db34ac">dot_s</a>(color_diff_up   * color_diff_up,   error_weight);</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>            <span class="comment">// Check if the prev or next error is better, and if so use it</span></div>
<div class="line"><span class="lineno">  156</span>            <span class="keywordflow">if</span> ((error_up &lt; error_base) &amp;&amp; (error_up &lt; error_down) &amp;&amp; (uqw &lt; 64))</div>
<div class="line"><span class="lineno">  157</span>            {</div>
<div class="line"><span class="lineno">  158</span>                dec_weights_uquant[texel] = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(uqw_up);</div>
<div class="line"><span class="lineno">  159</span>                adjustments = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  160</span>            }</div>
<div class="line"><span class="lineno">  161</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((error_down &lt; error_base) &amp;&amp; (uqw &gt; 0))</div>
<div class="line"><span class="lineno">  162</span>            {</div>
<div class="line"><span class="lineno">  163</span>                dec_weights_uquant[texel] = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(uqw_down);</div>
<div class="line"><span class="lineno">  164</span>                adjustments = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  165</span>            }</div>
<div class="line"><span class="lineno">  166</span>        }</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>        <span class="comment">// Prepare iteration for plane 2</span></div>
<div class="line"><span class="lineno">  169</span>        dec_weights_uquant += <a class="code hl_variable" href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a>;</div>
<div class="line"><span class="lineno">  170</span>        plane_mask = ~plane_mask;</div>
<div class="line"><span class="lineno">  171</span>    }</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordflow">return</span> adjustments;</div>
<div class="line"><span class="lineno">  174</span>}</div>
<div class="ttc" id="aastcenc__vecmathlib__common__4_8h_html_a53a7d8285fd42b50cf3600a004db34ac"><div class="ttname"><a href="astcenc__vecmathlib__common__4_8h.html#a53a7d8285fd42b50cf3600a004db34ac">dot_s</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE float dot_s(vfloat4 a, vfloat4 b)</div><div class="ttdoc">Return the dot product for the full 4 lanes, returning scalar.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__common__4_8h_source.html#l00303">astcenc_vecmathlib_common_4.h:303</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_a91e5fa530ba0e492b85132e416a5ddf4_cgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_a91e5fa530ba0e492b85132e416a5ddf4_cgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_a91e5fa530ba0e492b85132e416a5ddf4_cgraph" id="aastcenc__compress__symbolic_8cpp_a91e5fa530ba0e492b85132e416a5ddf4_cgraph">
<area shape="rect" title="Attempt to improve weights given a chosen configuration." alt="" coords="5,259,197,284"/>
<area shape="rect" href="astcenc__vecmathlib__common__4_8h.html#a53a7d8285fd42b50cf3600a004db34ac" title="Return the dot product for the full 4 lanes, returning scalar." alt="" coords="299,29,354,55"/>
<area shape="poly" title=" " alt="" coords="106,257,123,220,153,168,193,113,217,88,244,65,264,54,285,46,287,52,266,59,247,70,221,91,197,116,157,171,128,222,110,260"/>
<area shape="rect" href="structblock__size__descriptor.html#a13608eb55e48c96b6243f4830278ebf3" title="Get the block mode structure for index block_mode." alt="" coords="253,79,401,119"/>
<area shape="poly" title=" " alt="" coords="111,257,164,197,202,161,244,129,254,123,256,128,247,134,205,165,168,201,115,260"/>
<area shape="rect" href="structblock__size__descriptor.html#aa9dfc7b23c8b5e6c71e956e2e39fff74" title="Get the partition info structure for a given partition count and seed." alt="" coords="253,143,401,183"/>
<area shape="poly" title=" " alt="" coords="124,256,244,194,261,187,264,191,246,199,127,261"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a3a2ce0fb403294db7fe126a6b3e87ab7" title="Return a float value for an integer vector." alt="" coords="284,208,369,233"/>
<area shape="poly" title=" " alt="" coords="158,256,270,231,271,236,159,261"/>
<area shape="rect" href="structvint4.html#a21e3d111e37da1aaaeb5ba21a831c863" title="Factory that returns a vector containing the lane IDs." alt="" coords="901,259,998,284"/>
<area shape="poly" title=" " alt="" coords="198,269,887,269,887,274,198,274"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc" title="Return lanes from b if cond is set, else a." alt="" coords="1075,647,1132,672"/>
<area shape="poly" title=" " alt="" coords="136,282,208,307,308,336,424,360,484,367,543,370,760,370,790,372,820,379,876,402,927,435,972,476,1012,520,1045,563,1091,633,1086,636,1041,566,1008,523,968,480,923,439,873,406,818,384,790,377,760,375,543,375,484,373,423,365,307,341,207,312,134,287"/>
<area shape="rect" href="structimage__block.html#af99de7d75e1e380b31d70d131509caa9" title="Get an RGBA texel value from the data." alt="" coords="261,885,392,911"/>
<area shape="poly" title=" " alt="" coords="107,284,120,397,148,575,168,668,191,754,218,825,232,852,247,872,252,876,248,880,243,876,228,855,213,827,186,756,163,669,143,576,115,398,101,285"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#ab9b659180fb522b05391892336dbc095" title="Unpack a single pair of encoded endpoints." alt="" coords="245,836,408,861"/>
<area shape="poly" title=" " alt="" coords="110,284,318,822,313,824,105,285"/>
<area shape="rect" href="structvint4.html#a9dfa1c40a3c4dbc0858567dc629a80b8" title="Factory that returns a vector of zeros." alt="" coords="1063,309,1144,335"/>
<area shape="poly" title=" " alt="" coords="171,281,340,306,441,316,543,319,760,319,1049,319,1049,325,760,325,543,325,441,321,339,311,170,287"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898" title="Return the horizontal sum of a vector." alt="" coords="513,29,577,55"/>
<area shape="poly" title=" " alt="" coords="354,39,499,39,499,45,354,45"/>
<area shape="poly" title=" " alt="" coords="510,31,502,21,506,11,520,5,545,3,575,7,586,16,583,20,573,12,545,8,522,10,510,15,508,20,514,28"/>
<area shape="rect" href="structblock__size__descriptor.html#a6d0c429d925ab011c22ab28b5807c368" title="Get the partition info table for a given partition count." alt="" coords="471,143,619,183"/>
<area shape="poly" title=" " alt="" coords="401,161,457,161,457,166,401,166"/>
<area shape="rect" href="structvint4.html#a3315184e8bb4f0cf1ca8dcff1f57cdae" title="Construct from zero&#45;initialized value." alt="" coords="1192,284,1275,309"/>
<area shape="poly" title=" " alt="" coords="999,273,1178,289,1178,294,998,278"/>
<area shape="poly" title=" " alt="" coords="337,834,384,787,418,761,455,740,538,709,624,686,712,670,798,660,951,652,1060,654,1060,659,951,658,798,665,713,676,626,691,539,714,457,744,421,765,388,791,341,838"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#aa2c0643330441f9232c720d4acd01552" title="Unpack an HDR L (large range) direct encoding." alt="" coords="474,911,615,951"/>
<area shape="poly" title=" " alt="" coords="371,859,409,872,487,903,485,908,407,876,370,864"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#ac9b70bb1bd214dee745ded9bcb04742e" title="Unpack an HDR L (small range) direct encoding." alt="" coords="473,975,617,1015"/>
<area shape="poly" title=" " alt="" coords="388,859,410,872,428,895,435,918,441,940,458,961,463,966,460,970,454,965,437,942,430,919,423,897,406,876,385,864"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#aded0cdfa2613a96d69299785784bfa7e" title="Unpack an HDR RGBA direct encoding." alt="" coords="456,1089,633,1115"/>
<area shape="poly" title=" " alt="" coords="393,859,410,872,428,898,436,925,437,951,434,977,432,1002,433,1027,440,1052,458,1076,462,1080,458,1084,454,1080,436,1054,428,1028,426,1002,429,976,431,951,430,926,423,901,406,876,390,864"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#ade2461b695d17d056a56c091736a9cc9" title="Unpack an HDR RGB direct encoding." alt="" coords="701,1188,816,1213"/>
<area shape="poly" title=" " alt="" coords="394,859,410,872,426,896,437,919,443,943,445,966,439,1013,428,1058,418,1103,415,1146,418,1167,426,1187,439,1207,458,1227,474,1235,497,1239,559,1238,629,1228,694,1214,696,1219,630,1233,560,1243,497,1245,472,1240,454,1231,435,1210,421,1190,413,1168,410,1146,413,1102,423,1057,434,1012,439,966,438,943,432,921,422,898,406,876,391,864"/>
<area shape="rect" href="structvint4.html#a1e438bb142ad09e372b0834acd0c0b68" title="Set the scalar value of a single lane." alt="" coords="706,1139,811,1164"/>
<area shape="poly" title=" " alt="" coords="393,859,410,872,431,905,438,939,437,972,431,1005,426,1036,426,1067,435,1097,458,1125,483,1144,511,1157,542,1166,573,1170,636,1171,693,1164,693,1169,637,1176,573,1176,541,1171,510,1162,480,1148,454,1129,430,1099,421,1068,421,1036,426,1004,431,971,433,939,426,907,406,876,390,864"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#aa7a2e2f7b578cb97b5ade543c8db2614" title="Unpack an HDR RGB + LDR A direct encoding." alt="" coords="458,1191,631,1216"/>
<area shape="poly" title=" " alt="" coords="394,859,410,872,434,911,443,948,442,986,435,1022,429,1059,428,1095,436,1132,458,1170,472,1182,469,1186,454,1173,431,1134,422,1096,424,1058,430,1021,437,985,438,949,429,913,406,876,390,863"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#ab52d36b55d82a9b3a149429ed6d5332c" title="Unpack an HDR RGB + offset encoding." alt="" coords="484,411,605,436"/>
<area shape="poly" title=" " alt="" coords="325,836,329,768,346,663,362,605,385,548,415,494,454,447,470,436,473,440,458,451,419,497,389,550,367,607,351,664,335,768,331,836"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a86240f0fb5745ded88afe10d524c960f" title="Logical shift left." alt="" coords="525,460,564,485"/>
<area shape="poly" title=" " alt="" coords="326,836,333,775,352,684,368,633,390,584,419,537,454,496,482,480,511,472,512,477,484,485,458,500,423,540,395,586,373,635,357,685,338,776,331,836"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#a3b8032ce212a167d91be041c0226cb3a" title="Unpack an LDR LA color that uses delta encoding." alt="" coords="681,1238,836,1278"/>
<area shape="poly" title=" " alt="" coords="394,859,410,872,427,897,438,921,444,946,446,971,440,1019,428,1067,417,1114,414,1159,417,1181,425,1203,438,1224,458,1245,481,1262,506,1274,534,1282,563,1287,621,1286,676,1278,677,1284,622,1292,562,1292,533,1288,505,1279,478,1267,454,1249,434,1228,420,1205,412,1183,409,1160,412,1113,423,1066,435,1018,441,971,439,947,433,923,423,899,406,876,391,864"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#a7de49dc5d2c25680d4beeaf389c7ee05" title="Unpack an LDR LA color that uses direct encoding." alt="" coords="461,509,629,535"/>
<area shape="poly" title=" " alt="" coords="327,835,336,782,358,704,375,661,396,619,422,580,454,545,462,539,465,544,458,549,426,583,401,622,380,663,363,705,342,783,332,836"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#aef3d7e05db47fe6589797a1abde0ece1" title="Unpack an LDR L color that uses delta encoding." alt="" coords="462,559,627,584"/>
<area shape="poly" title=" " alt="" coords="328,835,340,790,364,725,401,655,426,623,454,595,463,588,466,593,458,599,430,626,406,658,369,727,345,791,333,837"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#a4b46bc42a37e5286f564c7bcdf1d26a7" title="Unpack an LDR L color that uses direct encoding." alt="" coords="479,608,610,633"/>
<area shape="poly" title=" " alt="" coords="331,835,347,799,373,749,409,697,454,651,477,637,480,641,458,655,413,700,377,752,351,801,335,837"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82" title="Return a 8&#45;bit mask code indicating mask status." alt="" coords="1076,845,1131,871"/>
<area shape="poly" title=" " alt="" coords="342,834,390,800,422,784,455,771,560,749,645,745,729,754,837,771,944,801,1064,842,1062,847,942,806,835,777,729,760,644,750,561,754,457,777,424,789,393,805,345,838"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#a09b179400bc4fa4d90e9b093380e5541" title="Unpack an LDR RGB color that uses delta encoding." alt="" coords="483,811,607,836"/>
<area shape="poly" title=" " alt="" coords="408,837,469,829,470,835,408,842"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#abb9e5b31fe822e7e3ab0757f1989a321" title="Unpack an LDR RGBA color that uses delta encoding." alt="" coords="693,785,824,811"/>
<area shape="poly" title=" " alt="" coords="352,833,399,813,455,797,514,789,573,786,680,788,680,793,573,791,514,794,457,802,401,818,354,838"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#aab96eda6a634d4d49db5d672ec7b4521" title="Unpack an LDR RGBA color that uses scaled encoding." alt="" coords="462,1343,627,1368"/>
<area shape="poly" title=" " alt="" coords="394,859,410,872,430,902,444,931,452,959,454,988,449,1043,436,1098,423,1153,417,1208,419,1236,426,1264,439,1293,458,1322,471,1334,468,1338,454,1325,434,1295,421,1266,414,1237,412,1208,417,1152,431,1097,444,1042,449,988,446,960,439,932,426,904,406,876,391,863"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#af892d5217804e7cd7087fb7791c86c53" title="Unpack an LDR RGB color that uses scaled encoding." alt="" coords="481,1392,608,1417"/>
<area shape="poly" title=" " alt="" coords="395,859,410,872,422,892,430,917,438,978,438,1050,434,1128,430,1206,430,1277,439,1337,447,1361,458,1379,471,1390,467,1394,454,1382,442,1363,433,1338,425,1278,425,1205,429,1128,433,1050,433,978,425,918,417,894,406,876,391,864"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#ae84a3a83b3f1dbe4288ee4054ded6419" title="Unpack an LDR RGB color that uses direct encoding." alt="" coords="500,1040,589,1065"/>
<area shape="poly" title=" " alt="" coords="392,859,410,872,425,892,432,912,434,951,437,989,444,1007,458,1025,472,1036,488,1043,486,1048,469,1040,454,1029,439,1010,431,990,429,951,427,913,420,894,406,876,389,864"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#aa8f902332b94b93405c7496b1b3838ba" title="Unpack an LDR RGBA color that uses direct encoding." alt="" coords="711,873,807,899"/>
<area shape="poly" title=" " alt="" coords="408,853,697,878,697,883,408,858"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#af3675c2edfd62b1bb94f7977eb981191" title="Unpack an HDR A direct encoding." alt="" coords="695,1089,822,1115"/>
<area shape="poly" title=" " alt="" coords="634,1099,682,1099,682,1105,634,1105"/>
<area shape="poly" title=" " alt="" coords="567,1112,619,1142,682,1174,700,1181,698,1186,680,1179,616,1147,565,1117"/>
<area shape="poly" title=" " alt="" coords="601,1112,693,1134,692,1139,600,1117"/>
<area shape="rect" href="namespaceastc.html#a8f8b2ad23b04a389f6785bc80b61349b" title="Clamp a value value between mn and mx." alt="" coords="904,1217,995,1243"/>
<area shape="poly" title=" " alt="" coords="817,1207,891,1218,890,1224,816,1212"/>
<area shape="poly" title=" " alt="" coords="631,1200,687,1199,687,1204,631,1205"/>
<area shape="poly" title=" " alt="" coords="597,1188,692,1165,693,1170,598,1193"/>
<area shape="poly" title=" " alt="" coords="836,1244,890,1236,891,1241,837,1249"/>
<area shape="rect" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738" title="Return the minimum of two values." alt="" coords="721,559,797,584"/>
<area shape="poly" title=" " alt="" coords="628,569,707,569,707,574,628,574"/>
<area shape="poly" title=" " alt="" coords="569,834,604,860,621,878,636,898,650,931,656,962,654,1018,652,1045,654,1071,664,1098,683,1126,696,1135,692,1139,679,1129,659,1100,649,1072,647,1045,648,1018,651,962,645,932,631,901,617,882,600,864,566,838"/>
<area shape="poly" title=" " alt="" coords="607,813,679,805,680,810,607,819"/>
<area shape="rect" href="astcenc__vecmathlib__common__4_8h.html#acaab0374259bd298c1282e6a0b84bc8f" title="Apply signed bit transfer." alt="" coords="884,697,1015,723"/>
<area shape="poly" title=" " alt="" coords="783,783,883,733,900,725,902,730,885,738,785,787"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e" title="Return the clamped value between min and max." alt="" coords="921,747,978,772"/>
<area shape="poly" title=" " alt="" coords="822,783,907,765,908,770,823,788"/>
<area shape="rect" href="astcenc__vecmathlib__common__4_8h.html#a48e833d0cfdf950b6bc3431fce00507e" title="Return the horizontal sum of RGB vector lanes as a scalar." alt="" coords="905,897,994,923"/>
<area shape="poly" title=" " alt="" coords="777,809,824,845,885,884,898,890,896,895,883,888,821,849,774,813"/>
<area shape="rect" href="astcenc__color__unquantize_8cpp.html#a604a48c74e6d1c8476146b0955331344" title="Functions for color unquantization." alt="" coords="890,848,1009,873"/>
<area shape="poly" title=" " alt="" coords="799,808,897,841,896,846,797,813"/>
<area shape="poly" title=" " alt="" coords="988,695,1060,670,1062,676,990,700"/>
<area shape="poly" title=" " alt="" coords="997,721,1017,733,1035,758,1042,783,1049,807,1065,832,1067,835,1063,839,1061,836,1044,809,1037,784,1030,761,1013,737,994,725"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a0a3a7d755cec1c73d0ce9c50b33bc207" title="Logical shift right." alt="" coords="1084,697,1123,723"/>
<area shape="poly" title=" " alt="" coords="1015,707,1070,707,1070,713,1015,713"/>
<area shape="poly" title=" " alt="" coords="953,696,1090,347,1094,349,958,698"/>
<area shape="poly" title=" " alt="" coords="1144,312,1178,305,1179,310,1145,317"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aa162915c044e97cc1f6d630338761fd3" title="Return the max vector of two vectors." alt="" coords="1080,796,1127,821"/>
<area shape="poly" title=" " alt="" coords="979,766,1068,795,1066,800,977,771"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a165b3db4e7ced1551e1880a01a01150b" title="Return the min vector of two vectors." alt="" coords="1082,747,1125,772"/>
<area shape="poly" title=" " alt="" coords="978,757,1068,757,1068,762,978,762"/>
<area shape="rect" href="structvint4.html#a01e3f7debf73dc6c757fa36d585c9d17" title="Get the scalar from a single lane." alt="" coords="1063,897,1143,923"/>
<area shape="poly" title=" " alt="" coords="994,907,1050,907,1050,913,994,913"/>
<area shape="poly" title=" " alt="" coords="961,846,986,818,1012,783,1026,756,1034,733,1043,710,1061,684,1066,679,1070,683,1065,688,1048,712,1039,735,1031,758,1017,786,990,822,965,850"/>
<area shape="poly" title=" " alt="" coords="1009,857,1062,856,1062,861,1009,862"/>
<area shape="poly" title=" " alt="" coords="990,871,1051,890,1049,896,989,876"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aff39374b256d568d084ba4fd2fed7819" title="Arithmetic shift right." alt="" coords="1083,1353,1123,1379"/>
<area shape="poly" title=" " alt="" coords="1001,871,1017,884,1037,921,1054,973,1068,1036,1080,1105,1096,1241,1103,1339,1098,1340,1090,1241,1075,1106,1063,1037,1049,975,1032,923,1013,888,997,875"/>
<area shape="poly" title=" " alt="" coords="552,1341,612,1253,649,1206,680,1175,692,1167,695,1172,683,1179,653,1209,617,1256,557,1344"/>
<area shape="poly" title=" " alt="" coords="627,1340,858,1299,960,1275,994,1263,1013,1253,1029,1230,1044,1196,1068,1106,1086,1010,1096,936,1102,937,1091,1011,1073,1107,1049,1198,1034,1233,1016,1257,996,1268,961,1280,859,1304,628,1345"/>
<area shape="poly" title=" " alt="" coords="627,1354,1069,1363,1069,1368,627,1360"/>
<area shape="poly" title=" " alt="" coords="607,1394,632,1379,649,1354,657,1330,658,1305,655,1280,653,1254,654,1228,661,1201,679,1175,692,1165,695,1169,683,1178,666,1204,659,1229,658,1254,661,1279,663,1305,662,1331,654,1357,635,1383,610,1399"/>
<area shape="poly" title=" " alt="" coords="608,1398,1069,1366,1070,1371,608,1403"/>
<area shape="poly" title=" " alt="" coords="591,1058,635,1076,650,1088,660,1101,668,1113,683,1125,695,1131,692,1136,680,1130,665,1117,655,1104,646,1092,632,1080,589,1063"/>
<area shape="poly" title=" " alt="" coords="589,1043,611,1036,632,1025,666,999,696,967,740,909,745,912,700,971,670,1003,635,1030,613,1040,590,1048"/>
<area shape="poly" title=" " alt="" coords="807,889,891,900,890,905,807,895"/>
<area shape="poly" title=" " alt="" coords="807,877,876,868,877,873,807,882"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__compress__symbolic_8cpp_a91e5fa530ba0e492b85132e416a5ddf4_icgraph.png" border="0" usemap="#aastcenc__compress__symbolic_8cpp_a91e5fa530ba0e492b85132e416a5ddf4_icgraph" alt=""/></div>
<map name="aastcenc__compress__symbolic_8cpp_a91e5fa530ba0e492b85132e416a5ddf4_icgraph" id="aastcenc__compress__symbolic_8cpp_a91e5fa530ba0e492b85132e416a5ddf4_icgraph">
<area shape="rect" title="Attempt to improve weights given a chosen configuration." alt="" coords="1239,45,1431,70"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af5f518a15600c71922e69267dea2db99" title="Compress a block using a chosen partitioning and 1 plane of weights." alt="" coords="1015,5,1191,45"/>
<area shape="poly" title=" " alt="" coords="1228,45,1191,40,1191,35,1229,40"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af11a976c8ea386db054bef472ce0667c" title="Compress a block using a chosen partitioning and 2 planes of weights." alt="" coords="1015,69,1191,109"/>
<area shape="poly" title=" " alt="" coords="1229,75,1191,80,1191,75,1228,69"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a579b9a2ceeecda2fb3abe63b8311df1c" title="Compress an image block into a physical block." alt="" coords="849,45,967,70"/>
<area shape="poly" title=" " alt="" coords="1002,45,967,50,966,45,1001,39"/>
<area shape="rect" href="astcenc__entry_8cpp.html#acbecfd32ce013d567cac16a877c20f42" title="Compress an image, after any preflight has completed." alt="" coords="680,45,801,70"/>
<area shape="poly" title=" " alt="" coords="835,60,802,60,802,55,835,55"/>
<area shape="rect" href="astcenc__entry_8cpp.html#ad762aa055eed75156c99309158a40e90" title="Compress an image." alt="" coords="457,45,632,70"/>
<area shape="poly" title=" " alt="" coords="666,60,632,60,632,55,666,55"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,45,207,70"/>
<area shape="poly" title=" " alt="" coords="444,57,409,56,255,56,207,58,207,52,255,51,409,51,444,51"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa" title="Runner callback function for a compression worker thread." alt="" coords="255,65,409,105"/>
<area shape="poly" title=" " alt="" coords="444,73,410,78,409,73,443,68"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,45,56,70"/>
<area shape="poly" title=" " alt="" coords="90,60,57,60,57,55,90,55"/>
<area shape="poly" title=" " alt="" coords="241,74,206,68,207,63,242,68"/>
<area shape="poly" title=" " alt="" coords="1001,75,966,70,967,64,1002,70"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_211b531afad3b7391864460492782af6.html">astc-encoder-main</a></li><li class="navelem"><a class="el" href="dir_7df889ea08e038e0b05c337eccc30153.html">Source</a></li><li class="navelem"><a class="el" href="astcenc__compress__symbolic_8cpp.html">astcenc_compress_symbolic.cpp</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
