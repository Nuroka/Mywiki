<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project1: C:/Users/inhyu/OneDrive/바탕 화면/랩실 내용/astc-encoder-main/Source/astcenccli_internal.h 파일 참조</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Project1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('astcenccli__internal_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">클래스</a> &#124;
<a href="#func-members">함수</a>  </div>
  <div class="headertitle"><div class="title">astcenccli_internal.h 파일 참조</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;cstddef&gt;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;cstdio&gt;</code><br />
<code>#include &lt;cstdlib&gt;</code><br />
<code>#include &quot;<a class="el" href="astcenc_8h_source.html">astcenc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="astcenc__mathlib_8h_source.html">astcenc_mathlib.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
astcenccli_internal.h에 대한 include 의존 그래프</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h__incl.png" border="0" usemap="#a_c_1_2_users_2inhyu_2_one_drive_2_xEB_xB0_x94_xED_x83_x95_01_xED_x99_x94_xEB_xA9_xB4_2_xEB_x9E_xA9_xEC_x8B_xA4_01_xEB_x82_xB4_xEC_x9A_xA9_2astc-encoder-main_2_source_2astcenccli__internal_8h" alt=""/></div>
<map name="a_c_1_2_users_2inhyu_2_one_drive_2_xEB_xB0_x94_xED_x83_x95_01_xED_x99_x94_xEB_xA9_xB4_2_xEB_x9E_xA9_xEC_x8B_xA4_01_xEB_x82_xB4_xEC_x9A_xA9_2astc-encoder-main_2_source_2astcenccli__internal_8h" id="a_c_1_2_users_2inhyu_2_one_drive_2_xEB_xB0_x94_xED_x83_x95_01_xED_x99_x94_xEB_xA9_xB4_2_xEB_x9E_xA9_xEC_x8B_xA4_01_xEB_x82_xB4_xEC_x9A_xA9_2astc-encoder-main_2_source_2astcenccli__internal_8h">
<area shape="rect" title=" " alt="" coords="43,5,234,75"/>
<area shape="rect" title=" " alt="" coords="30,196,94,221"/>
<area shape="poly" title=" " alt="" coords="83,77,59,98,42,124,38,138,39,154,50,183,45,185,34,155,33,138,37,122,55,95,79,73"/>
<area shape="rect" title=" " alt="" coords="149,196,210,221"/>
<area shape="poly" title=" " alt="" coords="190,73,212,95,229,122,232,140,227,158,206,188,201,185,222,155,226,140,224,124,208,98,186,77"/>
<area shape="rect" title=" " alt="" coords="280,357,338,383"/>
<area shape="poly" title=" " alt="" coords="79,77,53,98,32,124,18,150,10,173,10,195,20,220,44,251,72,277,105,299,139,317,208,344,267,359,266,364,207,349,137,322,102,303,69,281,40,254,16,223,4,196,4,172,13,148,28,121,50,94,76,73"/>
<area shape="rect" title=" " alt="" coords="155,123,215,148"/>
<area shape="poly" title=" " alt="" coords="157,74,175,109,170,111,153,76"/>
<area shape="rect" href="astcenc_8h.html" title=" " alt="" coords="52,123,131,148"/>
<area shape="poly" title=" " alt="" coords="124,76,106,111,101,109,119,74"/>
<area shape="rect" href="astcenc__mathlib_8h.html" title=" " alt="" coords="290,123,418,148"/>
<area shape="poly" title=" " alt="" coords="217,72,316,115,314,120,215,77"/>
<area shape="poly" title=" " alt="" coords="89,149,75,184,70,182,84,147"/>
<area shape="poly" title=" " alt="" coords="107,146,156,185,153,189,104,150"/>
<area shape="poly" title=" " alt="" coords="327,150,222,193,220,188,325,146"/>
<area shape="rect" title=" " alt="" coords="235,196,300,221"/>
<area shape="poly" title=" " alt="" coords="342,150,294,189,290,185,339,146"/>
<area shape="rect" title=" " alt="" coords="325,196,384,221"/>
<area shape="poly" title=" " alt="" coords="357,148,357,182,352,182,352,148"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html" title=" " alt="" coords="408,196,554,221"/>
<area shape="poly" title=" " alt="" coords="376,146,449,187,447,191,373,150"/>
<area shape="rect" href="astcenc__vecmathlib__none__4_8h.html" title=" " alt="" coords="413,269,549,309"/>
<area shape="poly" title=" " alt="" coords="484,222,484,256,478,256,478,222"/>
<area shape="rect" href="astcenc__vecmathlib__common__4_8h.html" title=" " alt="" coords="248,269,384,309"/>
<area shape="poly" title=" " alt="" coords="458,224,369,266,367,261,456,219"/>
<area shape="poly" title=" " alt="" coords="441,312,348,354,345,349,439,307"/>
<area shape="rect" title=" " alt="" coords="362,357,437,383"/>
<area shape="poly" title=" " alt="" coords="463,311,423,349,420,346,459,308"/>
<area shape="rect" title=" " alt="" coords="461,357,522,383"/>
<area shape="poly" title=" " alt="" coords="486,309,491,343,485,344,481,310"/>
<area shape="rect" title=" " alt="" coords="546,357,597,383"/>
<area shape="poly" title=" " alt="" coords="505,308,549,346,546,350,501,312"/>
<area shape="poly" title=" " alt="" coords="317,310,314,344,308,343,311,309"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
이 그래프는 이 파일을 직/간접적으로 include 하는 파일들을 보여줍니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h__dep__incl.png" border="0" usemap="#a_c_1_2_users_2inhyu_2_one_drive_2_xEB_xB0_x94_xED_x83_x95_01_xED_x99_x94_xEB_xA9_xB4_2_xEB_x9E_xA9_xEC_x8B_xA4_01_xEB_x82_xB4_xEC_x9A_xA9_2astc-encoder-main_2_source_2astcenccli__internal_8hdep" alt=""/></div>
<map name="a_c_1_2_users_2inhyu_2_one_drive_2_xEB_xB0_x94_xED_x83_x95_01_xED_x99_x94_xEB_xA9_xB4_2_xEB_x9E_xA9_xEC_x8B_xA4_01_xEB_x82_xB4_xEC_x9A_xA9_2astc-encoder-main_2_source_2astcenccli__internal_8hdep" id="a_c_1_2_users_2inhyu_2_one_drive_2_xEB_xB0_x94_xED_x83_x95_01_xED_x99_x94_xEB_xA9_xB4_2_xEB_x9E_xA9_xEC_x8B_xA4_01_xEB_x82_xB4_xEC_x9A_xA9_2astc-encoder-main_2_source_2astcenccli__internal_8hdep">
<area shape="rect" title=" " alt="" coords="605,5,796,75"/>
<area shape="rect" href="astcenccli__error__metrics_8cpp.html" title=" " alt="" coords="5,123,172,207"/>
<area shape="poly" title=" " alt="" coords="591,53,400,79,292,99,185,125,173,129,171,124,184,120,291,94,399,73,591,48"/>
<area shape="rect" href="astcenccli__image_8cpp.html" title=" " alt="" coords="197,130,394,199"/>
<area shape="poly" title=" " alt="" coords="593,72,407,125,385,132,384,127,405,120,591,66"/>
<area shape="rect" href="astcenccli__image__external_8cpp.html" title=" " alt="" coords="419,123,591,207"/>
<area shape="poly" title=" " alt="" coords="637,84,571,125,569,120,634,80"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html" title=" " alt="" coords="615,123,787,207"/>
<area shape="poly" title=" " alt="" coords="703,88,703,123,698,123,698,88"/>
<area shape="rect" href="astcenccli__platform__dependents_8cpp.html" title=" " alt="" coords="811,123,993,207"/>
<area shape="poly" title=" " alt="" coords="769,80,836,120,833,125,766,84"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html" title=" " alt="" coords="1018,130,1223,199"/>
<area shape="poly" title=" " alt="" coords="810,65,1007,120,1029,127,1027,132,1005,125,808,71"/>
<area shape="rect" href="astcenccli__toplevel__help_8cpp.html" title=" " alt="" coords="1248,123,1428,207"/>
<area shape="poly" title=" " alt="" coords="810,48,1009,73,1124,94,1236,120,1248,124,1247,129,1235,125,1123,99,1009,79,809,53"/>
</map>
</div>
</div>
<p><a href="astcenccli__internal_8h_source.html">이 파일의 소스 코드 페이지로 가기</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
클래스</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastc__compressed__image.html">astc_compressed_image</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functions and data declarations.  <a href="structastc__compressed__image.html#details">더 자세히 ...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcli__config__options.html">cli_config_options</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Config options that have been read from command line.  <a href="structcli__config__options.html#details">더 자세히 ...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
함수</h2></td></tr>
<tr class="memitem:a699ebbd5f0143120e8ccaa26ae386b56" id="r_a699ebbd5f0143120e8ccaa26ae386b56"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a> (const char *format)</td></tr>
<tr class="memdesc:a699ebbd5f0143120e8ccaa26ae386b56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a string to stderr.  <br /></td></tr>
<tr class="separator:a699ebbd5f0143120e8ccaa26ae386b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a3f02fce6a0f57b6a1166483b5dffe4" id="r_a4a3f02fce6a0f57b6a1166483b5dffe4"><td class="memTemplParams" colspan="2">template&lt;typename ... _Args&gt; </td></tr>
<tr class="memitem:a4a3f02fce6a0f57b6a1166483b5dffe4"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a4a3f02fce6a0f57b6a1166483b5dffe4">print_error</a> (const char *format, _Args...args)</td></tr>
<tr class="memdesc:a4a3f02fce6a0f57b6a1166483b5dffe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a formatted string to stderr.  <br /></td></tr>
<tr class="separator:a4a3f02fce6a0f57b6a1166483b5dffe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0de9c0d50e5630b61f0d6e597fcd65" id="r_aff0de9c0d50e5630b61f0d6e597fcd65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastcenc__image.html">astcenc_image</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff0de9c0d50e5630b61f0d6e597fcd65">load_ncimage</a> (const char *filename, bool y_flip, bool &amp;is_hdr, unsigned int &amp;component_count)</td></tr>
<tr class="memdesc:aff0de9c0d50e5630b61f0d6e597fcd65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load uncompressed image.  <br /></td></tr>
<tr class="separator:aff0de9c0d50e5630b61f0d6e597fcd65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9920dcae3265967744c9b31e9ac8a999" id="r_a9920dcae3265967744c9b31e9ac8a999"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastcenc__image.html">astcenc_image</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9920dcae3265967744c9b31e9ac8a999">load_png_with_wuffs</a> (const char *filename, bool y_flip, bool &amp;is_hdr, unsigned int &amp;component_count)</td></tr>
<tr class="memdesc:a9920dcae3265967744c9b31e9ac8a999"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load uncompressed PNG image.  <br /></td></tr>
<tr class="separator:a9920dcae3265967744c9b31e9ac8a999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263b2ab9e4335fc13f801ba569eed939" id="r_a263b2ab9e4335fc13f801ba569eed939"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a263b2ab9e4335fc13f801ba569eed939">store_ncimage</a> (const <a class="el" href="structastcenc__image.html">astcenc_image</a> *img, const char *filename, int y_flip)</td></tr>
<tr class="memdesc:a263b2ab9e4335fc13f801ba569eed939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save an uncompressed image.  <br /></td></tr>
<tr class="separator:a263b2ab9e4335fc13f801ba569eed939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36fb7c666f502f49e4d18cf130a7958d" id="r_a36fb7c666f502f49e4d18cf130a7958d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36fb7c666f502f49e4d18cf130a7958d">get_output_filename_enforced_bitness</a> (const char *filename)</td></tr>
<tr class="memdesc:a36fb7c666f502f49e4d18cf130a7958d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the output file type requires a specific bitness.  <br /></td></tr>
<tr class="separator:a36fb7c666f502f49e4d18cf130a7958d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a860f8be85c860429c0df12b581015b68" id="r_a860f8be85c860429c0df12b581015b68"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastcenc__image.html">astcenc_image</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a860f8be85c860429c0df12b581015b68">alloc_image</a> (unsigned int bitness, unsigned int dim_x, unsigned int dim_y, unsigned int dim_z)</td></tr>
<tr class="memdesc:a860f8be85c860429c0df12b581015b68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a new image in a canonical format.  <br /></td></tr>
<tr class="separator:a860f8be85c860429c0df12b581015b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb0cd9b24656f2c4dac144e89217057c" id="r_aeb0cd9b24656f2c4dac144e89217057c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb0cd9b24656f2c4dac144e89217057c">free_image</a> (<a class="el" href="structastcenc__image.html">astcenc_image</a> *img)</td></tr>
<tr class="memdesc:aeb0cd9b24656f2c4dac144e89217057c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free an image.  <br /></td></tr>
<tr class="separator:aeb0cd9b24656f2c4dac144e89217057c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add1dea8ff2bad1b823a131776f37ee83" id="r_add1dea8ff2bad1b823a131776f37ee83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add1dea8ff2bad1b823a131776f37ee83">determine_image_components</a> (const <a class="el" href="structastcenc__image.html">astcenc_image</a> *img)</td></tr>
<tr class="memdesc:add1dea8ff2bad1b823a131776f37ee83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the number of active components in an image.  <br /></td></tr>
<tr class="separator:add1dea8ff2bad1b823a131776f37ee83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef0eed7ff787726c2e16ab96196ed8b" id="r_a6ef0eed7ff787726c2e16ab96196ed8b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ef0eed7ff787726c2e16ab96196ed8b">load_cimage</a> (const char *filename, <a class="el" href="structastc__compressed__image.html">astc_compressed_image</a> &amp;img)</td></tr>
<tr class="memdesc:a6ef0eed7ff787726c2e16ab96196ed8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a compressed .astc image.  <br /></td></tr>
<tr class="separator:a6ef0eed7ff787726c2e16ab96196ed8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba4a67ed1a59e71c22282996d48390b" id="r_a9ba4a67ed1a59e71c22282996d48390b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ba4a67ed1a59e71c22282996d48390b">store_cimage</a> (const <a class="el" href="structastc__compressed__image.html">astc_compressed_image</a> &amp;img, const char *filename)</td></tr>
<tr class="memdesc:a9ba4a67ed1a59e71c22282996d48390b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store a compressed .astc image.  <br /></td></tr>
<tr class="separator:a9ba4a67ed1a59e71c22282996d48390b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10761592472e9cc4d632946459d00bee" id="r_a10761592472e9cc4d632946459d00bee"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a10761592472e9cc4d632946459d00bee">load_ktx_compressed_image</a> (const char *filename, bool &amp;is_srgb, <a class="el" href="structastc__compressed__image.html">astc_compressed_image</a> &amp;img)</td></tr>
<tr class="memdesc:a10761592472e9cc4d632946459d00bee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a compressed .ktx image.  <br /></td></tr>
<tr class="separator:a10761592472e9cc4d632946459d00bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e674d4952496a98a942815392b1a3a5" id="r_a3e674d4952496a98a942815392b1a3a5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e674d4952496a98a942815392b1a3a5">store_ktx_compressed_image</a> (const <a class="el" href="structastc__compressed__image.html">astc_compressed_image</a> &amp;img, const char *filename, bool is_srgb)</td></tr>
<tr class="memdesc:a3e674d4952496a98a942815392b1a3a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store a compressed .ktx image.  <br /></td></tr>
<tr class="separator:a3e674d4952496a98a942815392b1a3a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee147f7602455b96f9ec14ae0d31dca" id="r_a6ee147f7602455b96f9ec14ae0d31dca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastcenc__image.html">astcenc_image</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ee147f7602455b96f9ec14ae0d31dca">astc_img_from_floatx4_array</a> (const float *data, unsigned int dim_x, unsigned int dim_y, bool y_flip)</td></tr>
<tr class="memdesc:a6ee147f7602455b96f9ec14ae0d31dca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an image from a 2D float data array.  <br /></td></tr>
<tr class="separator:a6ee147f7602455b96f9ec14ae0d31dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ecc1dac86584f7e086e9962fb6c0509" id="r_a9ecc1dac86584f7e086e9962fb6c0509"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastcenc__image.html">astcenc_image</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ecc1dac86584f7e086e9962fb6c0509">astc_img_from_unorm8x4_array</a> (const uint8_t *data, unsigned int dim_x, unsigned int dim_y, bool y_flip)</td></tr>
<tr class="memdesc:a9ecc1dac86584f7e086e9962fb6c0509"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an image from a 2D byte data array.  <br /></td></tr>
<tr class="separator:a9ecc1dac86584f7e086e9962fb6c0509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c980fed3ad50dec28ebfa941f4a7b7" id="r_ad7c980fed3ad50dec28ebfa941f4a7b7"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7c980fed3ad50dec28ebfa941f4a7b7">floatx4_array_from_astc_img</a> (const <a class="el" href="structastcenc__image.html">astcenc_image</a> *img, bool y_flip, unsigned int z_index)</td></tr>
<tr class="memdesc:ad7c980fed3ad50dec28ebfa941f4a7b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a flattened RGBA FLOAT32 data array for a single slice from an image structure.  <br /></td></tr>
<tr class="separator:ad7c980fed3ad50dec28ebfa941f4a7b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9706acc840e996830702a831d846559c" id="r_a9706acc840e996830702a831d846559c"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9706acc840e996830702a831d846559c">unorm8x4_array_from_astc_img</a> (const <a class="el" href="structastcenc__image.html">astcenc_image</a> *img, bool y_flip)</td></tr>
<tr class="memdesc:a9706acc840e996830702a831d846559c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a flattened RGBA UNORM8 data array from an image structure.  <br /></td></tr>
<tr class="separator:a9706acc840e996830702a831d846559c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf209b603114ef9a2c2c9e28697bbe7" id="r_a3cf209b603114ef9a2c2c9e28697bbe7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3cf209b603114ef9a2c2c9e28697bbe7">astcenc_print_header</a> ()</td></tr>
<tr class="memdesc:a3cf209b603114ef9a2c2c9e28697bbe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the tool copyright and version header to stdout.  <br /></td></tr>
<tr class="separator:a3cf209b603114ef9a2c2c9e28697bbe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5bf7c6ac05f0f401cfde7d73ed2b852" id="r_af5bf7c6ac05f0f401cfde7d73ed2b852"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5bf7c6ac05f0f401cfde7d73ed2b852">astcenc_print_shorthelp</a> ()</td></tr>
<tr class="memdesc:af5bf7c6ac05f0f401cfde7d73ed2b852"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the tool copyright, version, and short-form help to stdout.  <br /></td></tr>
<tr class="separator:af5bf7c6ac05f0f401cfde7d73ed2b852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7377ad0be8285dd96c932d2744fc4641" id="r_a7377ad0be8285dd96c932d2744fc4641"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7377ad0be8285dd96c932d2744fc4641">astcenc_print_longhelp</a> ()</td></tr>
<tr class="memdesc:a7377ad0be8285dd96c932d2744fc4641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the tool copyright, version, and long-form help to stdout.  <br /></td></tr>
<tr class="separator:a7377ad0be8285dd96c932d2744fc4641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a478be461420681d7c83aa89569ea92c4" id="r_a478be461420681d7c83aa89569ea92c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a478be461420681d7c83aa89569ea92c4">compute_error_metrics</a> (bool compute_hdr_metrics, bool compute_normal_metrics, int input_components, const <a class="el" href="structastcenc__image.html">astcenc_image</a> *img1, const <a class="el" href="structastcenc__image.html">astcenc_image</a> *img2, int fstop_lo, int fstop_hi)</td></tr>
<tr class="memdesc:a478be461420681d7c83aa89569ea92c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute error metrics comparing two images.  <br /></td></tr>
<tr class="separator:a478be461420681d7c83aa89569ea92c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ab092ab10d65db3b9051a12420fa52" id="r_af7ab092ab10d65db3b9051a12420fa52"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7ab092ab10d65db3b9051a12420fa52">get_time</a> ()</td></tr>
<tr class="memdesc:af7ab092ab10d65db3b9051a12420fa52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current time.  <br /></td></tr>
<tr class="separator:af7ab092ab10d65db3b9051a12420fa52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e6f066d58e29a143787fe2f78d19d6" id="r_a17e6f066d58e29a143787fe2f78d19d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17e6f066d58e29a143787fe2f78d19d6">get_cpu_count</a> ()</td></tr>
<tr class="memdesc:a17e6f066d58e29a143787fe2f78d19d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of CPU cores.  <br /></td></tr>
<tr class="separator:a17e6f066d58e29a143787fe2f78d19d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa9dcd56cd7089c481e7ef8355ae5c2f" id="r_aaa9dcd56cd7089c481e7ef8355ae5c2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa9dcd56cd7089c481e7ef8355ae5c2f">launch_threads</a> (const char *operation, int thread_count, void(*func)(int, int, void *), void *payload)</td></tr>
<tr class="memdesc:aaa9dcd56cd7089c481e7ef8355ae5c2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Launch N worker threads and wait for them to complete.  <br /></td></tr>
<tr class="separator:aaa9dcd56cd7089c481e7ef8355ae5c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073d18880f24fd648661b01d2e20340e" id="r_a073d18880f24fd648661b01d2e20340e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a073d18880f24fd648661b01d2e20340e">astcenc_main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a073d18880f24fd648661b01d2e20340e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main entry point.  <br /></td></tr>
<tr class="separator:a073d18880f24fd648661b01d2e20340e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">함수 문서화</h2>
<a id="a860f8be85c860429c0df12b581015b68" name="a860f8be85c860429c0df12b581015b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a860f8be85c860429c0df12b581015b68">&#9670;&#160;</a></span>alloc_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastcenc__image.html">astcenc_image</a> * alloc_image </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>bitness</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>dim_x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>dim_y</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>dim_z</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a new image in a canonical format. </p>
<p>Allocated images must be freed with a <code><a class="el" href="#aeb0cd9b24656f2c4dac144e89217057c" title="Free an image.">free_image()</a></code> call.</p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">bitness</td><td>The number of bits per component (8, 16, or 32). </td></tr>
    <tr><td class="paramname">dim_x</td><td>The width of the image, in texels. </td></tr>
    <tr><td class="paramname">dim_y</td><td>The height of the image, in texels. </td></tr>
    <tr><td class="paramname">dim_z</td><td>The depth of the image, in texels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>The allocated image, or <code>nullptr</code> on error.</dd></dl>
<p>Allocate a new image in a canonical format. </p>

<p class="definition"><a class="el" href="astcenccli__image_8cpp_source.html">astcenccli_image.cpp</a> 파일의 <a class="el" href="astcenccli__image_8cpp_source.html#l00028">28</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   33</span>  {</div>
<div class="line"><span class="lineno">   34</span>    <a class="code hl_struct" href="structastcenc__image.html">astcenc_image</a> *img = <span class="keyword">new</span> <a class="code hl_struct" href="structastcenc__image.html">astcenc_image</a>;</div>
<div class="line"><span class="lineno">   35</span>    img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a> = dim_x;</div>
<div class="line"><span class="lineno">   36</span>    img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a> = dim_y;</div>
<div class="line"><span class="lineno">   37</span>    img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a> = dim_z;</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>    <span class="keywordtype">void</span>** data = <span class="keyword">new</span> <span class="keywordtype">void</span>*[dim_z];</div>
<div class="line"><span class="lineno">   40</span>    img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a> = data;</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordflow">if</span> (bitness == 8)</div>
<div class="line"><span class="lineno">   43</span>    {</div>
<div class="line"><span class="lineno">   44</span>        img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> = <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aa91ac7b6329d0a39c879dff7a1bcdf759">ASTCENC_TYPE_U8</a>;</div>
<div class="line"><span class="lineno">   45</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z = 0; z &lt; dim_z; z++)</div>
<div class="line"><span class="lineno">   46</span>        {</div>
<div class="line"><span class="lineno">   47</span>            data[z] = <span class="keyword">new</span> uint8_t[dim_x * dim_y * 4];</div>
<div class="line"><span class="lineno">   48</span>        }</div>
<div class="line"><span class="lineno">   49</span>    }</div>
<div class="line"><span class="lineno">   50</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bitness == 16)</div>
<div class="line"><span class="lineno">   51</span>    {</div>
<div class="line"><span class="lineno">   52</span>        img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> = <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aad39e16b7f2e55ed676ce400619f0759d">ASTCENC_TYPE_F16</a>;</div>
<div class="line"><span class="lineno">   53</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z = 0; z &lt; dim_z; z++)</div>
<div class="line"><span class="lineno">   54</span>        {</div>
<div class="line"><span class="lineno">   55</span>            data[z] = <span class="keyword">new</span> uint16_t[dim_x * dim_y * 4];</div>
<div class="line"><span class="lineno">   56</span>        }</div>
<div class="line"><span class="lineno">   57</span>    }</div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">else</span> <span class="comment">// if (bitness == 32)</span></div>
<div class="line"><span class="lineno">   59</span>    {</div>
<div class="line"><span class="lineno">   60</span>        assert(bitness == 32);</div>
<div class="line"><span class="lineno">   61</span>        img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> = <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aaf996e38de0e0ac57175c09da275c6062">ASTCENC_TYPE_F32</a>;</div>
<div class="line"><span class="lineno">   62</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z = 0; z &lt; dim_z; z++)</div>
<div class="line"><span class="lineno">   63</span>        {</div>
<div class="line"><span class="lineno">   64</span>            data[z] = <span class="keyword">new</span> <span class="keywordtype">float</span>[dim_x * dim_y * 4];</div>
<div class="line"><span class="lineno">   65</span>        }</div>
<div class="line"><span class="lineno">   66</span>    }</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordflow">return</span> img;</div>
<div class="line"><span class="lineno">   69</span>}</div>
<div class="ttc" id="aastcenc_8h_html_a7aeb732fb3426e390fa669957d7a109aa91ac7b6329d0a39c879dff7a1bcdf759"><div class="ttname"><a href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aa91ac7b6329d0a39c879dff7a1bcdf759">ASTCENC_TYPE_U8</a></div><div class="ttdeci">@ ASTCENC_TYPE_U8</div><div class="ttdoc">Unorm 8-bit data per component.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00300">astcenc.h:300</a></div></div>
<div class="ttc" id="aastcenc_8h_html_a7aeb732fb3426e390fa669957d7a109aad39e16b7f2e55ed676ce400619f0759d"><div class="ttname"><a href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aad39e16b7f2e55ed676ce400619f0759d">ASTCENC_TYPE_F16</a></div><div class="ttdeci">@ ASTCENC_TYPE_F16</div><div class="ttdoc">16-bit float per component.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00302">astcenc.h:302</a></div></div>
<div class="ttc" id="aastcenc_8h_html_a7aeb732fb3426e390fa669957d7a109aaf996e38de0e0ac57175c09da275c6062"><div class="ttname"><a href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aaf996e38de0e0ac57175c09da275c6062">ASTCENC_TYPE_F32</a></div><div class="ttdeci">@ ASTCENC_TYPE_F32</div><div class="ttdoc">32-bit float per component.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00305">astcenc.h:304</a></div></div>
<div class="ttc" id="astructastcenc__image_html"><div class="ttname"><a href="structastcenc__image.html">astcenc_image</a></div><div class="ttdoc">An uncompressed 2D or 3D image.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00601">astcenc.h:602</a></div></div>
<div class="ttc" id="astructastcenc__image_html_a3a62fbbc3a16a390eca3b03b6e489750"><div class="ttname"><a href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">astcenc_image::dim_y</a></div><div class="ttdeci">unsigned int dim_y</div><div class="ttdoc">The Y dimension of the image, in texels.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00607">astcenc.h:607</a></div></div>
<div class="ttc" id="astructastcenc__image_html_a5ce29ab112fff72151cbffcb3c8fdb16"><div class="ttname"><a href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">astcenc_image::data_type</a></div><div class="ttdeci">astcenc_type data_type</div><div class="ttdoc">The data type per component.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00613">astcenc.h:613</a></div></div>
<div class="ttc" id="astructastcenc__image_html_a8bb8eebb59215778176674951c6da70a"><div class="ttname"><a href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">astcenc_image::dim_x</a></div><div class="ttdeci">unsigned int dim_x</div><div class="ttdoc">The X dimension of the image, in texels.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00604">astcenc.h:604</a></div></div>
<div class="ttc" id="astructastcenc__image_html_a9c71edbb23f1cca0de775c508b6219ee"><div class="ttname"><a href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">astcenc_image::dim_z</a></div><div class="ttdeci">unsigned int dim_z</div><div class="ttdoc">The Z dimension of the image, in texels.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00610">astcenc.h:610</a></div></div>
<div class="ttc" id="astructastcenc__image_html_ac2487bc635b3c9eced65f2c551e759f2"><div class="ttname"><a href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">astcenc_image::data</a></div><div class="ttdeci">void ** data</div><div class="ttdoc">The array of 2D slices, of length dim_z.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00616">astcenc.h:616</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a860f8be85c860429c0df12b581015b68_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a860f8be85c860429c0df12b581015b68_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a860f8be85c860429c0df12b581015b68_icgraph" id="aastcenccli__internal_8h_a860f8be85c860429c0df12b581015b68_icgraph">
<area shape="rect" title="Allocate a new image in a canonical format." alt="" coords="535,201,625,227"/>
<area shape="rect" href="astcenccli__image_8cpp.html#a6ee147f7602455b96f9ec14ae0d31dca" title="Create an image from a 2D float data array." alt="" coords="325,15,477,55"/>
<area shape="poly" title=" " alt="" coords="566,190,535,129,512,97,485,69,467,58,470,53,488,65,517,94,540,127,571,187"/>
<area shape="rect" href="astcenccli__image_8cpp.html#a9ecc1dac86584f7e086e9962fb6c0509" title="Create an image from a 2D byte data array." alt="" coords="316,79,487,119"/>
<area shape="poly" title=" " alt="" coords="553,194,522,167,485,140,451,122,453,117,488,136,525,163,557,190"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="135,323,237,348"/>
<area shape="poly" title=" " alt="" coords="537,199,490,183,434,171,374,170,345,175,317,184,294,198,274,214,238,254,212,293,196,324,191,321,207,290,234,250,270,210,291,193,315,180,344,169,374,164,435,166,492,178,539,194"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a3e91d7c742d9854faf8bb5a28e729885" title="Load an uncompressed DDS image using the local custom loader." alt="" coords="318,194,485,234"/>
<area shape="poly" title=" " alt="" coords="521,217,485,217,485,211,521,211"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#ab345ab5e0d81313cee65f2bbd60fe33c" title="Load an uncompressed KTX image using the local custom loader." alt="" coords="320,258,483,298"/>
<area shape="poly" title=" " alt="" coords="532,234,459,260,457,255,530,229"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a3dd5258961a3c289c1e448b7807cf1fa" title="Load a non&#45;astc image file from memory." alt="" coords="340,323,463,348"/>
<area shape="poly" title=" " alt="" coords="563,240,531,277,488,312,461,325,458,320,485,308,527,273,559,236"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a65c87ee1ff0ed0736cffa06692853479" title="Print a set of diagnostic images showing aspects of the encoding." alt="" coords="320,372,483,397"/>
<area shape="poly" title=" " alt="" coords="572,240,541,302,518,335,488,363,468,374,465,370,485,359,513,331,537,299,567,238"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a28511996d63d6f8a96975b0ec3dd2ef2" title="Load an image using STBImage to provide the loader." alt="" coords="115,55,257,80"/>
<area shape="poly" title=" " alt="" coords="312,51,258,59,257,54,311,46"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#aba9c8e82bcbc90a20eead3da97e659e0" title="Load a .exr image using TinyExr to provide the loader." alt="" coords="104,5,268,31"/>
<area shape="poly" title=" " alt="" coords="311,31,268,27,268,22,312,25"/>
<area shape="poly" title=" " alt="" coords="302,87,257,81,258,75,303,82"/>
<area shape="rect" href="astcenccli__image__external_8cpp.html#a9920dcae3265967744c9b31e9ac8a999" title="Load an image using Wuffs to provide the loader." alt="" coords="116,104,256,129"/>
<area shape="poly" title=" " alt="" coords="303,110,256,114,256,108,302,105"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,323,56,348"/>
<area shape="poly" title=" " alt="" coords="120,338,56,338,56,333,120,333"/>
<area shape="poly" title=" " alt="" coords="326,338,237,338,237,333,326,333"/>
<area shape="poly" title=" " alt="" coords="331,371,237,350,238,344,333,366"/>
</map>
</div>

</div>
</div>
<a id="a6ee147f7602455b96f9ec14ae0d31dca" name="a6ee147f7602455b96f9ec14ae0d31dca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee147f7602455b96f9ec14ae0d31dca">&#9670;&#160;</a></span>astc_img_from_floatx4_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastcenc__image.html">astcenc_image</a> * astc_img_from_floatx4_array </td>
          <td>(</td>
          <td class="paramtype">const float *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>dim_x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>dim_y</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>y_flip</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an image from a 2D float data array. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The raw input data. </td></tr>
    <tr><td class="paramname">dim_x</td><td>The width of the image, in texels. </td></tr>
    <tr><td class="paramname">dim_y</td><td>The height of the image, in texels. </td></tr>
    <tr><td class="paramname">y_flip</td><td>Should this image be vertically flipped?</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>The populated image. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__image_8cpp_source.html">astcenccli_image.cpp</a> 파일의 <a class="el" href="astcenccli__image_8cpp_source.html#l00171">171</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  176</span>  {</div>
<div class="line"><span class="lineno">  177</span>    <a class="code hl_struct" href="structastcenc__image.html">astcenc_image</a>* img = <a class="code hl_function" href="astcenccli__image_8cpp.html#a860f8be85c860429c0df12b581015b68">alloc_image</a>(16, dim_x, dim_y, 1);</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y = 0; y &lt; dim_y; y++)</div>
<div class="line"><span class="lineno">  180</span>    {</div>
<div class="line"><span class="lineno">  181</span>        uint16_t* data16 = <span class="keyword">static_cast&lt;</span>uint16_t*<span class="keyword">&gt;</span>(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[0]);</div>
<div class="line"><span class="lineno">  182</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y_src = y_flip ? (dim_y - y - 1) : y;</div>
<div class="line"><span class="lineno">  183</span>        <span class="keyword">const</span> <span class="keywordtype">float</span>* src = data + 4 * dim_x * y_src;</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; dim_x; x++)</div>
<div class="line"><span class="lineno">  186</span>        {</div>
<div class="line"><span class="lineno">  187</span>            <a class="code hl_struct" href="structvint4.html">vint4</a> colorf16 = <a class="code hl_function" href="astcenc__vecmathlib__neon__4_8h.html#ae8701a3f44d7b99016d54c3d6ee27581">float_to_float16</a>(<a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(</div>
<div class="line"><span class="lineno">  188</span>                src[4 * x    ],</div>
<div class="line"><span class="lineno">  189</span>                src[4 * x + 1],</div>
<div class="line"><span class="lineno">  190</span>                src[4 * x + 2],</div>
<div class="line"><span class="lineno">  191</span>                src[4 * x + 3]</div>
<div class="line"><span class="lineno">  192</span>            ));</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>            data16[(4 * dim_x * y) + (4 * x    )] = <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(colorf16.<a class="code hl_function" href="structvint4.html#a01e3f7debf73dc6c757fa36d585c9d17">lane</a>&lt;0&gt;());</div>
<div class="line"><span class="lineno">  195</span>            data16[(4 * dim_x * y) + (4 * x + 1)] = <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(colorf16.<a class="code hl_function" href="structvint4.html#a01e3f7debf73dc6c757fa36d585c9d17">lane</a>&lt;1&gt;());</div>
<div class="line"><span class="lineno">  196</span>            data16[(4 * dim_x * y) + (4 * x + 2)] = <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(colorf16.<a class="code hl_function" href="structvint4.html#a01e3f7debf73dc6c757fa36d585c9d17">lane</a>&lt;2&gt;());</div>
<div class="line"><span class="lineno">  197</span>            data16[(4 * dim_x * y) + (4 * x + 3)] = <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(colorf16.<a class="code hl_function" href="structvint4.html#a01e3f7debf73dc6c757fa36d585c9d17">lane</a>&lt;3&gt;());</div>
<div class="line"><span class="lineno">  198</span>        }</div>
<div class="line"><span class="lineno">  199</span>    }</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>    <span class="keywordflow">return</span> img;</div>
<div class="line"><span class="lineno">  202</span>}</div>
<div class="ttc" id="aastcenc__vecmathlib__neon__4_8h_html_ae8701a3f44d7b99016d54c3d6ee27581"><div class="ttname"><a href="astcenc__vecmathlib__neon__4_8h.html#ae8701a3f44d7b99016d54c3d6ee27581">float_to_float16</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vint4 float_to_float16(vfloat4 a)</div><div class="ttdoc">Return a float16 value for a float vector, using round-to-nearest.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00886">astcenc_vecmathlib_neon_4.h:886</a></div></div>
<div class="ttc" id="aastcenccli__image_8cpp_html_a860f8be85c860429c0df12b581015b68"><div class="ttname"><a href="astcenccli__image_8cpp.html#a860f8be85c860429c0df12b581015b68">alloc_image</a></div><div class="ttdeci">astcenc_image * alloc_image(unsigned int bitness, unsigned int dim_x, unsigned int dim_y, unsigned int dim_z)</div><div class="ttdoc">Functions for creating in-memory ASTC image structures.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image_8cpp_source.html#l00028">astcenccli_image.cpp:28</a></div></div>
<div class="ttc" id="astructvfloat4_html"><div class="ttname"><a href="structvfloat4.html">vfloat4</a></div><div class="ttdoc">4x32-bit vectors, implemented using Armv8-A NEON.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00050">astcenc_vecmathlib_neon_4.h:51</a></div></div>
<div class="ttc" id="astructvint4_html"><div class="ttname"><a href="structvint4.html">vint4</a></div><div class="ttdoc">Data type for 4-wide ints.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00183">astcenc_vecmathlib_neon_4.h:184</a></div></div>
<div class="ttc" id="astructvint4_html_a01e3f7debf73dc6c757fa36d585c9d17"><div class="ttname"><a href="structvint4.html#a01e3f7debf73dc6c757fa36d585c9d17">vint4::lane</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE int lane() const</div><div class="ttdoc">Get the scalar from a single lane.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00244">astcenc_vecmathlib_neon_4.h:244</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a6ee147f7602455b96f9ec14ae0d31dca_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_a6ee147f7602455b96f9ec14ae0d31dca_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a6ee147f7602455b96f9ec14ae0d31dca_cgraph" id="aastcenccli__internal_8h_a6ee147f7602455b96f9ec14ae0d31dca_cgraph">
<area shape="rect" title="Create an image from a 2D float data array." alt="" coords="5,47,157,87"/>
<area shape="rect" href="astcenccli__image_8cpp.html#a860f8be85c860429c0df12b581015b68" title="Functions for creating in&#45;memory ASTC image structures." alt="" coords="215,5,305,31"/>
<area shape="poly" title=" " alt="" coords="154,45,201,31,202,37,155,50"/>
<area shape="rect" href="astcenc__vecmathlib__neon__4_8h.html#ae8701a3f44d7b99016d54c3d6ee27581" title="Return a float16 value for a float vector, using round&#45;to&#45;nearest." alt="" coords="205,55,315,80"/>
<area shape="poly" title=" " alt="" coords="158,65,191,65,191,70,158,70"/>
<area shape="rect" href="structvint4.html#a01e3f7debf73dc6c757fa36d585c9d17" title="Get the scalar from a single lane." alt="" coords="220,104,300,129"/>
<area shape="poly" title=" " alt="" coords="155,85,207,100,206,105,154,90"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a6ee147f7602455b96f9ec14ae0d31dca_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a6ee147f7602455b96f9ec14ae0d31dca_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a6ee147f7602455b96f9ec14ae0d31dca_icgraph" id="aastcenccli__internal_8h_a6ee147f7602455b96f9ec14ae0d31dca_icgraph">
<area shape="rect" title="Create an image from a 2D float data array." alt="" coords="217,23,369,63"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a28511996d63d6f8a96975b0ec3dd2ef2" title="Load an image using STBImage to provide the loader." alt="" coords="16,5,159,31"/>
<area shape="poly" title=" " alt="" coords="203,35,158,29,159,24,204,30"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#aba9c8e82bcbc90a20eead3da97e659e0" title="Load a .exr image using TinyExr to provide the loader." alt="" coords="5,55,169,80"/>
<area shape="poly" title=" " alt="" coords="204,56,170,60,169,55,203,51"/>
</map>
</div>

</div>
</div>
<a id="a9ecc1dac86584f7e086e9962fb6c0509" name="a9ecc1dac86584f7e086e9962fb6c0509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ecc1dac86584f7e086e9962fb6c0509">&#9670;&#160;</a></span>astc_img_from_unorm8x4_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastcenc__image.html">astcenc_image</a> * astc_img_from_unorm8x4_array </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>dim_x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>dim_y</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>y_flip</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an image from a 2D byte data array. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The raw input data. </td></tr>
    <tr><td class="paramname">dim_x</td><td>The width of the image, in texels. </td></tr>
    <tr><td class="paramname">dim_y</td><td>The height of the image, in texels. </td></tr>
    <tr><td class="paramname">y_flip</td><td>Should this image be vertically flipped?</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>The populated image. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__image_8cpp_source.html">astcenccli_image.cpp</a> 파일의 <a class="el" href="astcenccli__image_8cpp_source.html#l00205">205</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  210</span>  {</div>
<div class="line"><span class="lineno">  211</span>    <a class="code hl_struct" href="structastcenc__image.html">astcenc_image</a>* img = <a class="code hl_function" href="astcenccli__image_8cpp.html#a860f8be85c860429c0df12b581015b68">alloc_image</a>(8, dim_x, dim_y, 1);</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y = 0; y &lt; dim_y; y++)</div>
<div class="line"><span class="lineno">  214</span>    {</div>
<div class="line"><span class="lineno">  215</span>        uint8_t* data8 = <span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[0]);</div>
<div class="line"><span class="lineno">  216</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y_src = y_flip ? (dim_y - y - 1) : y;</div>
<div class="line"><span class="lineno">  217</span>        <span class="keyword">const</span> uint8_t* src = data + 4 * dim_x * y_src;</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; dim_x; x++)</div>
<div class="line"><span class="lineno">  220</span>        {</div>
<div class="line"><span class="lineno">  221</span>            data8[(4 * dim_x * y) + (4 * x    )] = src[4 * x    ];</div>
<div class="line"><span class="lineno">  222</span>            data8[(4 * dim_x * y) + (4 * x + 1)] = src[4 * x + 1];</div>
<div class="line"><span class="lineno">  223</span>            data8[(4 * dim_x * y) + (4 * x + 2)] = src[4 * x + 2];</div>
<div class="line"><span class="lineno">  224</span>            data8[(4 * dim_x * y) + (4 * x + 3)] = src[4 * x + 3];</div>
<div class="line"><span class="lineno">  225</span>        }</div>
<div class="line"><span class="lineno">  226</span>    }</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">return</span> img;</div>
<div class="line"><span class="lineno">  229</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a9ecc1dac86584f7e086e9962fb6c0509_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_a9ecc1dac86584f7e086e9962fb6c0509_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a9ecc1dac86584f7e086e9962fb6c0509_cgraph" id="aastcenccli__internal_8h_a9ecc1dac86584f7e086e9962fb6c0509_cgraph">
<area shape="rect" title="Create an image from a 2D byte data array." alt="" coords="5,5,176,45"/>
<area shape="rect" href="astcenccli__image_8cpp.html#a860f8be85c860429c0df12b581015b68" title="Functions for creating in&#45;memory ASTC image structures." alt="" coords="224,13,315,38"/>
<area shape="poly" title=" " alt="" coords="176,23,210,23,210,28,176,28"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a9ecc1dac86584f7e086e9962fb6c0509_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a9ecc1dac86584f7e086e9962fb6c0509_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a9ecc1dac86584f7e086e9962fb6c0509_icgraph" id="aastcenccli__internal_8h_a9ecc1dac86584f7e086e9962fb6c0509_icgraph">
<area shape="rect" title="Create an image from a 2D byte data array." alt="" coords="196,23,367,63"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a28511996d63d6f8a96975b0ec3dd2ef2" title="Load an image using STBImage to provide the loader." alt="" coords="5,5,148,31"/>
<area shape="poly" title=" " alt="" coords="182,34,148,29,148,24,182,28"/>
<area shape="rect" href="astcenccli__image__external_8cpp.html#a9920dcae3265967744c9b31e9ac8a999" title="Load an image using Wuffs to provide the loader." alt="" coords="7,55,147,80"/>
<area shape="poly" title=" " alt="" coords="182,58,147,62,147,57,182,52"/>
</map>
</div>

</div>
</div>
<a id="a073d18880f24fd648661b01d2e20340e" name="a073d18880f24fd648661b01d2e20340e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a073d18880f24fd648661b01d2e20340e">&#9670;&#160;</a></span>astcenc_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int astcenc_main </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>argc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>argv</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main entry point. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>The number of arguments. </td></tr>
    <tr><td class="paramname">argv</td><td>The vector of arguments.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>0 on success, non-zero otherwise.</dd></dl>
<p>Application entry point.</p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>The number of arguments. </td></tr>
    <tr><td class="paramname">argv</td><td>The vector of arguments.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>0 on success, non-zero otherwise. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__toplevel_8cpp_source.html">astcenccli_toplevel.cpp</a> 파일의 <a class="el" href="astcenccli__toplevel_8cpp_source.html#l01885">1885</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1888</span>  {</div>
<div class="line"><span class="lineno"> 1889</span>    <span class="keywordtype">double</span> start_time = <a class="code hl_function" href="#af7ab092ab10d65db3b9051a12420fa52">get_time</a>();</div>
<div class="line"><span class="lineno"> 1890</span> </div>
<div class="line"><span class="lineno"> 1891</span>    <span class="keywordflow">if</span> (argc &lt; 2)</div>
<div class="line"><span class="lineno"> 1892</span>    {</div>
<div class="line"><span class="lineno"> 1893</span>        <a class="code hl_function" href="#af5bf7c6ac05f0f401cfde7d73ed2b852">astcenc_print_shorthelp</a>();</div>
<div class="line"><span class="lineno"> 1894</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1895</span>    }</div>
<div class="line"><span class="lineno"> 1896</span> </div>
<div class="line"><span class="lineno"> 1897</span>    <a class="code hl_typedef" href="astcenccli__toplevel_8cpp.html#a5a62378b79317b2824cf4dc51e3b5c86">astcenc_operation</a> operation;</div>
<div class="line"><span class="lineno"> 1898</span>    <a class="code hl_enumeration" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29">astcenc_profile</a> profile;</div>
<div class="line"><span class="lineno"> 1899</span>    <span class="keywordtype">int</span> error = <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#aedf9353399b1d889e93faaefb272e410">parse_commandline_options</a>(argc, argv, operation, profile);</div>
<div class="line"><span class="lineno"> 1900</span>    <span class="keywordflow">if</span> (error)</div>
<div class="line"><span class="lineno"> 1901</span>    {</div>
<div class="line"><span class="lineno"> 1902</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1903</span>    }</div>
<div class="line"><span class="lineno"> 1904</span> </div>
<div class="line"><span class="lineno"> 1905</span>    <span class="keywordflow">switch</span> (operation)</div>
<div class="line"><span class="lineno"> 1906</span>    {</div>
<div class="line"><span class="lineno"> 1907</span>    <span class="keywordflow">case</span> <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#aad5e33ec176f3a9af9f3bd5b4938c60a">ASTCENC_OP_HELP</a>:</div>
<div class="line"><span class="lineno"> 1908</span>        <a class="code hl_function" href="#a7377ad0be8285dd96c932d2744fc4641">astcenc_print_longhelp</a>();</div>
<div class="line"><span class="lineno"> 1909</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1910</span>    <span class="keywordflow">case</span> <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a547fe35ad8a650afceb2267d2aa8fb1a">ASTCENC_OP_VERSION</a>:</div>
<div class="line"><span class="lineno"> 1911</span>        <a class="code hl_function" href="#a3cf209b603114ef9a2c2c9e28697bbe7">astcenc_print_header</a>();</div>
<div class="line"><span class="lineno"> 1912</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1913</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1914</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1915</span>    }</div>
<div class="line"><span class="lineno"> 1916</span> </div>
<div class="line"><span class="lineno"> 1917</span>    std::string input_filename = argc &gt;= 3 ? argv[2] : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 1918</span>    std::string output_filename = argc &gt;= 4 ? argv[3] : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 1919</span> </div>
<div class="line"><span class="lineno"> 1920</span>    <span class="keywordflow">if</span> (input_filename.empty())</div>
<div class="line"><span class="lineno"> 1921</span>    {</div>
<div class="line"><span class="lineno"> 1922</span>        <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Input file not specified\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1923</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1924</span>    }</div>
<div class="line"><span class="lineno"> 1925</span> </div>
<div class="line"><span class="lineno"> 1926</span>    <span class="keywordflow">if</span> (output_filename.empty())</div>
<div class="line"><span class="lineno"> 1927</span>    {</div>
<div class="line"><span class="lineno"> 1928</span>        <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Output file not specified\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1929</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1930</span>    }</div>
<div class="line"><span class="lineno"> 1931</span> </div>
<div class="line"><span class="lineno"> 1932</span>    <span class="comment">// TODO: Handle RAII resources so they get freed when out of scope</span></div>
<div class="line"><span class="lineno"> 1933</span>    <span class="comment">// Load the compressed input file if needed</span></div>
<div class="line"><span class="lineno"> 1934</span> </div>
<div class="line"><span class="lineno"> 1935</span>    <span class="comment">// This has to come first, as the block size is in the file header</span></div>
<div class="line"><span class="lineno"> 1936</span>    <a class="code hl_struct" href="structastc__compressed__image.html">astc_compressed_image</a> image_comp {};</div>
<div class="line"><span class="lineno"> 1937</span>    <span class="keywordflow">if</span> (operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a2434507fb1c572973603bb6672008eac">ASTCENC_STAGE_LD_COMP</a>)</div>
<div class="line"><span class="lineno"> 1938</span>    {</div>
<div class="line"><span class="lineno"> 1939</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="astcenccli__toplevel_8cpp.html#a799eec117691caf296bb26711f44c60f">ends_with</a>(input_filename, <span class="stringliteral">&quot;.astc&quot;</span>))</div>
<div class="line"><span class="lineno"> 1940</span>        {</div>
<div class="line"><span class="lineno"> 1941</span>            error = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#a6ef0eed7ff787726c2e16ab96196ed8b">load_cimage</a>(input_filename.c_str(), image_comp);</div>
<div class="line"><span class="lineno"> 1942</span>            <span class="keywordflow">if</span> (error)</div>
<div class="line"><span class="lineno"> 1943</span>            {</div>
<div class="line"><span class="lineno"> 1944</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1945</span>            }</div>
<div class="line"><span class="lineno"> 1946</span>        }</div>
<div class="line"><span class="lineno"> 1947</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="astcenccli__toplevel_8cpp.html#a799eec117691caf296bb26711f44c60f">ends_with</a>(input_filename, <span class="stringliteral">&quot;.ktx&quot;</span>))</div>
<div class="line"><span class="lineno"> 1948</span>        {</div>
<div class="line"><span class="lineno"> 1949</span>            <span class="keywordtype">bool</span> is_srgb;</div>
<div class="line"><span class="lineno"> 1950</span>            error = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#a10761592472e9cc4d632946459d00bee">load_ktx_compressed_image</a>(input_filename.c_str(), is_srgb, image_comp);</div>
<div class="line"><span class="lineno"> 1951</span>            <span class="keywordflow">if</span> (error)</div>
<div class="line"><span class="lineno"> 1952</span>            {</div>
<div class="line"><span class="lineno"> 1953</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1954</span>            }</div>
<div class="line"><span class="lineno"> 1955</span> </div>
<div class="line"><span class="lineno"> 1956</span>            <span class="keywordflow">if</span> (is_srgb &amp;&amp; (profile != <a class="code hl_enumvalue" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29a331abc1d96b4fa991757e6ef8199f298">ASTCENC_PRF_LDR_SRGB</a>))</div>
<div class="line"><span class="lineno"> 1957</span>            {</div>
<div class="line"><span class="lineno"> 1958</span>                printf(<span class="stringliteral">&quot;WARNING: Input file is sRGB, but decompressing as linear\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1959</span>            }</div>
<div class="line"><span class="lineno"> 1960</span> </div>
<div class="line"><span class="lineno"> 1961</span>            <span class="keywordflow">if</span> (!is_srgb &amp;&amp; (profile == <a class="code hl_enumvalue" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29a331abc1d96b4fa991757e6ef8199f298">ASTCENC_PRF_LDR_SRGB</a>))</div>
<div class="line"><span class="lineno"> 1962</span>            {</div>
<div class="line"><span class="lineno"> 1963</span>                printf(<span class="stringliteral">&quot;WARNING: Input file is linear, but decompressing as sRGB\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1964</span>            }</div>
<div class="line"><span class="lineno"> 1965</span>        }</div>
<div class="line"><span class="lineno"> 1966</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1967</span>        {</div>
<div class="line"><span class="lineno"> 1968</span>            <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Unknown compressed input file type\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1969</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1970</span>        }</div>
<div class="line"><span class="lineno"> 1971</span>    }</div>
<div class="line"><span class="lineno"> 1972</span> </div>
<div class="line"><span class="lineno"> 1973</span>    <a class="code hl_struct" href="structastcenc__config.html">astcenc_config</a> config {};</div>
<div class="line"><span class="lineno"> 1974</span>    <a class="code hl_enumeration" href="astcenccli__toplevel_8cpp.html#a1b2281816750f3c6d13790a322dc3092">astcenc_preprocess</a> preprocess;</div>
<div class="line"><span class="lineno"> 1975</span>    error = <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#aaf7c065e8caf5efb3235ae521742312a">init_astcenc_config</a>(argc, argv, profile, operation, image_comp, preprocess, config);</div>
<div class="line"><span class="lineno"> 1976</span>    <span class="keywordflow">if</span> (error)</div>
<div class="line"><span class="lineno"> 1977</span>    {</div>
<div class="line"><span class="lineno"> 1978</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1979</span>    }</div>
<div class="line"><span class="lineno"> 1980</span> </div>
<div class="line"><span class="lineno"> 1981</span>    <span class="comment">// Initialize cli_config_options with default values</span></div>
<div class="line"><span class="lineno"> 1982</span>    <a class="code hl_struct" href="structcli__config__options.html">cli_config_options</a> cli_config { 0, 1, 1, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, -10, 10,</div>
<div class="line"><span class="lineno"> 1983</span>        { <a class="code hl_enumvalue" href="astcenc_8h.html#ade8fdcd2d40237f88e4bfe1230b9b687a2766a38ed1e99377723a4efb3510acd3">ASTCENC_SWZ_R</a>, <a class="code hl_enumvalue" href="astcenc_8h.html#ade8fdcd2d40237f88e4bfe1230b9b687ad07f821ba0081fbbfcc5b59ebb744b3d">ASTCENC_SWZ_G</a>, <a class="code hl_enumvalue" href="astcenc_8h.html#ade8fdcd2d40237f88e4bfe1230b9b687aa90469ed153f096e4db49d557b5ed3f0">ASTCENC_SWZ_B</a>, <a class="code hl_enumvalue" href="astcenc_8h.html#ade8fdcd2d40237f88e4bfe1230b9b687a0fa7695144b4779ee0270c590765c713">ASTCENC_SWZ_A</a> },</div>
<div class="line"><span class="lineno"> 1984</span>        { <a class="code hl_enumvalue" href="astcenc_8h.html#ade8fdcd2d40237f88e4bfe1230b9b687a2766a38ed1e99377723a4efb3510acd3">ASTCENC_SWZ_R</a>, <a class="code hl_enumvalue" href="astcenc_8h.html#ade8fdcd2d40237f88e4bfe1230b9b687ad07f821ba0081fbbfcc5b59ebb744b3d">ASTCENC_SWZ_G</a>, <a class="code hl_enumvalue" href="astcenc_8h.html#ade8fdcd2d40237f88e4bfe1230b9b687aa90469ed153f096e4db49d557b5ed3f0">ASTCENC_SWZ_B</a>, <a class="code hl_enumvalue" href="astcenc_8h.html#ade8fdcd2d40237f88e4bfe1230b9b687a0fa7695144b4779ee0270c590765c713">ASTCENC_SWZ_A</a> } };</div>
<div class="line"><span class="lineno"> 1985</span> </div>
<div class="line"><span class="lineno"> 1986</span>    error = <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#affe76bf8f1701e275934901541d19089">edit_astcenc_config</a>(argc, argv, operation, cli_config, config);</div>
<div class="line"><span class="lineno"> 1987</span>    <span class="keywordflow">if</span> (error)</div>
<div class="line"><span class="lineno"> 1988</span>    {</div>
<div class="line"><span class="lineno"> 1989</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1990</span>    }</div>
<div class="line"><span class="lineno"> 1991</span> </div>
<div class="line"><span class="lineno"> 1992</span>    <span class="comment">// Enable progress callback if not in silent mode and using a terminal</span></div>
<div class="line"><span class="lineno"> 1993</span><span class="preprocessor">    #if defined(_WIN32)</span></div>
<div class="line"><span class="lineno"> 1994</span>        <span class="keywordtype">int</span> stdoutfno = _fileno(stdout);</div>
<div class="line"><span class="lineno"> 1995</span><span class="preprocessor">    #else</span></div>
<div class="line"><span class="lineno"> 1996</span>        <span class="keywordtype">int</span> stdoutfno = STDOUT_FILENO;</div>
<div class="line"><span class="lineno"> 1997</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno"> 1998</span> </div>
<div class="line"><span class="lineno"> 1999</span>    <span class="keywordflow">if</span> ((!cli_config.silentmode) &amp;&amp; isatty(stdoutfno))</div>
<div class="line"><span class="lineno"> 2000</span>    {</div>
<div class="line"><span class="lineno"> 2001</span>        config.progress_callback = <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#a54bae4167b7197c4da5ecac977489513">progress_emitter</a>;</div>
<div class="line"><span class="lineno"> 2002</span>    }</div>
<div class="line"><span class="lineno"> 2003</span> </div>
<div class="line"><span class="lineno"> 2004</span>    <a class="code hl_struct" href="structastcenc__image.html">astcenc_image</a>* image_uncomp_in = <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#ae925e44fad22a8f657ff572ca6b7f948">nullptr</a> ;</div>
<div class="line"><span class="lineno"> 2005</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> image_uncomp_in_component_count = 0;</div>
<div class="line"><span class="lineno"> 2006</span>    <span class="keywordtype">bool</span> image_uncomp_in_is_hdr = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2007</span>    <a class="code hl_struct" href="structastcenc__image.html">astcenc_image</a>* image_decomp_out = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2008</span> </div>
<div class="line"><span class="lineno"> 2009</span>    <span class="comment">// Determine decompression output bitness, if limited by file type</span></div>
<div class="line"><span class="lineno"> 2010</span>    <span class="keywordtype">int</span> out_bitness = 0;</div>
<div class="line"><span class="lineno"> 2011</span>    <span class="keywordflow">if</span> (operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a5d0adaabca9b56e5c6e0e89e309ad1bc">ASTCENC_STAGE_DECOMPRESS</a>)</div>
<div class="line"><span class="lineno"> 2012</span>    {</div>
<div class="line"><span class="lineno"> 2013</span>        out_bitness = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#a36fb7c666f502f49e4d18cf130a7958d">get_output_filename_enforced_bitness</a>(output_filename.c_str());</div>
<div class="line"><span class="lineno"> 2014</span>        <span class="keywordflow">if</span> (out_bitness == 0)</div>
<div class="line"><span class="lineno"> 2015</span>        {</div>
<div class="line"><span class="lineno"> 2016</span>            <span class="keywordtype">bool</span> is_hdr = (config.profile == <a class="code hl_enumvalue" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29a4493639842d745d4bccd6a94836d2ca9">ASTCENC_PRF_HDR</a>) ||</div>
<div class="line"><span class="lineno"> 2017</span>                          (config.profile == <a class="code hl_enumvalue" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29a9043bc19a890aeff156f664ccbef677f">ASTCENC_PRF_HDR_RGB_LDR_A</a>);</div>
<div class="line"><span class="lineno"> 2018</span>            out_bitness = is_hdr ? 16 : 8;</div>
<div class="line"><span class="lineno"> 2019</span>        }</div>
<div class="line"><span class="lineno"> 2020</span> </div>
<div class="line"><span class="lineno"> 2021</span>        <span class="comment">// If decompressed output is unorm8 then force the decode_unorm8 heuristics for compression</span></div>
<div class="line"><span class="lineno"> 2022</span>        <span class="keywordflow">if</span> (out_bitness == 8)</div>
<div class="line"><span class="lineno"> 2023</span>        {</div>
<div class="line"><span class="lineno"> 2024</span>            config.flags |= <a class="code hl_variable" href="astcenc_8h.html#a915298ea1a81ba542b20535c0f19a090">ASTCENC_FLG_USE_DECODE_UNORM8</a>;</div>
<div class="line"><span class="lineno"> 2025</span>        }</div>
<div class="line"><span class="lineno"> 2026</span>    }</div>
<div class="line"><span class="lineno"> 2027</span> </div>
<div class="line"><span class="lineno"> 2028</span>    <span class="comment">// TODO: Handle RAII resources so they get freed when out of scope</span></div>
<div class="line"><span class="lineno"> 2029</span>    <a class="code hl_enumeration" href="astcenc_8h.html#a6fc8b28b40fd67ba67e33624089aa4d2">astcenc_error</a>    codec_status;</div>
<div class="line"><span class="lineno"> 2030</span>    <a class="code hl_struct" href="structastcenc__context.html">astcenc_context</a>* codec_context;</div>
<div class="line"><span class="lineno"> 2031</span> </div>
<div class="line"><span class="lineno"> 2032</span>    <span class="comment">// Preflight - check we have valid extensions for storing a file</span></div>
<div class="line"><span class="lineno"> 2033</span>    <span class="keywordflow">if</span> (operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a203421aa2822307b22609af15a913713">ASTCENC_STAGE_ST_NCOMP</a>)</div>
<div class="line"><span class="lineno"> 2034</span>    {</div>
<div class="line"><span class="lineno"> 2035</span>        <span class="keywordtype">int</span> bitness = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#a36fb7c666f502f49e4d18cf130a7958d">get_output_filename_enforced_bitness</a>(output_filename.c_str());</div>
<div class="line"><span class="lineno"> 2036</span>        <span class="keywordflow">if</span> (bitness &lt; 0)</div>
<div class="line"><span class="lineno"> 2037</span>        {</div>
<div class="line"><span class="lineno"> 2038</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *eptr = strrchr(output_filename.c_str(), <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><span class="lineno"> 2039</span>            eptr = eptr ? eptr : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 2040</span>            <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Unknown uncompressed output file type &#39;%s&#39;\n&quot;</span>, eptr);</div>
<div class="line"><span class="lineno"> 2041</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2042</span>        }</div>
<div class="line"><span class="lineno"> 2043</span>    }</div>
<div class="line"><span class="lineno"> 2044</span> </div>
<div class="line"><span class="lineno"> 2045</span>    <span class="keywordflow">if</span> (operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a590f914acb84482fef2496a7f773da55">ASTCENC_STAGE_ST_COMP</a>)</div>
<div class="line"><span class="lineno"> 2046</span>    {</div>
<div class="line"><span class="lineno"> 2047</span><span class="preprocessor">#if defined(_WIN32)</span></div>
<div class="line"><span class="lineno"> 2048</span>        <span class="keywordtype">bool</span> is_null = output_filename == <span class="stringliteral">&quot;NUL&quot;</span> || output_filename == <span class="stringliteral">&quot;nul&quot;</span>;</div>
<div class="line"><span class="lineno"> 2049</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2050</span>        <span class="keywordtype">bool</span> is_null = output_filename == <span class="stringliteral">&quot;/dev/null&quot;</span>;</div>
<div class="line"><span class="lineno"> 2051</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2052</span> </div>
<div class="line"><span class="lineno"> 2053</span>        <span class="keywordflow">if</span> (!(is_null || <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#a799eec117691caf296bb26711f44c60f">ends_with</a>(output_filename, <span class="stringliteral">&quot;.astc&quot;</span>) || <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#a799eec117691caf296bb26711f44c60f">ends_with</a>(output_filename, <span class="stringliteral">&quot;.ktx&quot;</span>)))</div>
<div class="line"><span class="lineno"> 2054</span>        {</div>
<div class="line"><span class="lineno"> 2055</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *eptr = strrchr(output_filename.c_str(), <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><span class="lineno"> 2056</span>            eptr = eptr ? eptr : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 2057</span>            <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Unknown compressed output file type &#39;%s&#39;\n&quot;</span>, eptr);</div>
<div class="line"><span class="lineno"> 2058</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2059</span>        }</div>
<div class="line"><span class="lineno"> 2060</span>    }</div>
<div class="line"><span class="lineno"> 2061</span> </div>
<div class="line"><span class="lineno"> 2062</span>    codec_status = <a class="code hl_function" href="astcenc_8h.html#a53428ef5ae3cc106c40f19a50cd5fc5d">astcenc_context_alloc</a>(&amp;config, cli_config.thread_count, &amp;codec_context);</div>
<div class="line"><span class="lineno"> 2063</span>    <span class="keywordflow">if</span> (codec_status != <a class="code hl_enumvalue" href="astcenc_8h.html#a6fc8b28b40fd67ba67e33624089aa4d2a4870ce2b25146ebfb91a1c2021ed95e1">ASTCENC_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 2064</span>    {</div>
<div class="line"><span class="lineno"> 2065</span>        <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Codec context alloc failed: %s\n&quot;</span>, <a class="code hl_function" href="astcenc_8h.html#a5768699cf6bc52f54a21968bb480a1d2">astcenc_get_error_string</a>(codec_status));</div>
<div class="line"><span class="lineno"> 2066</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2067</span>    }</div>
<div class="line"><span class="lineno"> 2068</span> </div>
<div class="line"><span class="lineno"> 2069</span>    <span class="comment">// Load the uncompressed input file if needed</span></div>
<div class="line"><span class="lineno"> 2070</span>    <span class="keywordflow">if</span> (operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#abb90c29f909a0fbfb7bd0d4d657ed0fd">ASTCENC_STAGE_LD_NCOMP</a>)</div>
<div class="line"><span class="lineno"> 2071</span>    {</div>
<div class="line"><span class="lineno"> 2072</span>        image_uncomp_in = <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#a3dd5258961a3c289c1e448b7807cf1fa">load_uncomp_file</a>(</div>
<div class="line"><span class="lineno"> 2073</span>            input_filename.c_str(), cli_config.array_size, cli_config.y_flip,</div>
<div class="line"><span class="lineno"> 2074</span>            image_uncomp_in_is_hdr, image_uncomp_in_component_count);</div>
<div class="line"><span class="lineno"> 2075</span>        <span class="keywordflow">if</span> (!image_uncomp_in)</div>
<div class="line"><span class="lineno"> 2076</span>        {</div>
<div class="line"><span class="lineno"> 2077</span>            <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Failed to load uncompressed image file\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2078</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2079</span>        }</div>
<div class="line"><span class="lineno"> 2080</span> </div>
<div class="line"><span class="lineno"> 2081</span> </div>
<div class="line"><span class="lineno"> 2082</span>        <span class="keywordflow">if</span> (preprocess != <a class="code hl_enumvalue" href="astcenccli__toplevel_8cpp.html#a1b2281816750f3c6d13790a322dc3092afad1e4ffeef01780caa68ff6eb564940">ASTCENC_PP_NONE</a>)</div>
<div class="line"><span class="lineno"> 2083</span>        {</div>
<div class="line"><span class="lineno"> 2084</span>            <span class="comment">// Allocate a float image so we can avoid additional quantization,</span></div>
<div class="line"><span class="lineno"> 2085</span>            <span class="comment">// as e.g. premultiplication can result in fractional color values</span></div>
<div class="line"><span class="lineno"> 2086</span>            <a class="code hl_struct" href="structastcenc__image.html">astcenc_image</a>* image_pp = <a class="code hl_function" href="astcenccli__image_8cpp.html#a860f8be85c860429c0df12b581015b68">alloc_image</a>(32,</div>
<div class="line"><span class="lineno"> 2087</span>                                                  image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>,</div>
<div class="line"><span class="lineno"> 2088</span>                                                  image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a>,</div>
<div class="line"><span class="lineno"> 2089</span>                                                  image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a>);</div>
<div class="line"><span class="lineno"> 2090</span>            <span class="keywordflow">if</span> (!image_pp)</div>
<div class="line"><span class="lineno"> 2091</span>            {</div>
<div class="line"><span class="lineno"> 2092</span>                <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Failed to allocate preprocessed image\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2093</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2094</span>            }</div>
<div class="line"><span class="lineno"> 2095</span> </div>
<div class="line"><span class="lineno"> 2096</span>            <span class="keywordflow">if</span> (preprocess == <a class="code hl_enumvalue" href="astcenccli__toplevel_8cpp.html#a1b2281816750f3c6d13790a322dc3092ad6b62093fd8756b30fa203f43ef45fc7">ASTCENC_PP_NORMALIZE</a>)</div>
<div class="line"><span class="lineno"> 2097</span>            {</div>
<div class="line"><span class="lineno"> 2098</span>                <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#aeadb22c3ae0c54b3d9777e8e0779729c">image_preprocess_normalize</a>(*image_uncomp_in, *image_pp);</div>
<div class="line"><span class="lineno"> 2099</span>            }</div>
<div class="line"><span class="lineno"> 2100</span> </div>
<div class="line"><span class="lineno"> 2101</span>            <span class="keywordflow">if</span> (preprocess == <a class="code hl_enumvalue" href="astcenccli__toplevel_8cpp.html#a1b2281816750f3c6d13790a322dc3092a468bd37375a9a449acd27b370943212c">ASTCENC_PP_PREMULTIPLY</a>)</div>
<div class="line"><span class="lineno"> 2102</span>            {</div>
<div class="line"><span class="lineno"> 2103</span>                <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#ae4200e4d2196e8fc39ae933c758c8d79">image_preprocess_premultiply</a>(*image_uncomp_in, *image_pp,</div>
<div class="line"><span class="lineno"> 2104</span>                                             config.profile);</div>
<div class="line"><span class="lineno"> 2105</span>            }</div>
<div class="line"><span class="lineno"> 2106</span> </div>
<div class="line"><span class="lineno"> 2107</span>            <span class="comment">// Delete the original as we no longer need it</span></div>
<div class="line"><span class="lineno"> 2108</span>            <a class="code hl_function" href="astcenccli__image_8cpp.html#aeb0cd9b24656f2c4dac144e89217057c">free_image</a>(image_uncomp_in);</div>
<div class="line"><span class="lineno"> 2109</span>            image_uncomp_in = image_pp;</div>
<div class="line"><span class="lineno"> 2110</span>        }</div>
<div class="line"><span class="lineno"> 2111</span> </div>
<div class="line"><span class="lineno"> 2112</span>        <span class="keywordflow">if</span> (!cli_config.silentmode)</div>
<div class="line"><span class="lineno"> 2113</span>        {</div>
<div class="line"><span class="lineno"> 2114</span>            printf(<span class="stringliteral">&quot;Source image\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2115</span>            printf(<span class="stringliteral">&quot;============\n\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2116</span>            printf(<span class="stringliteral">&quot;    Source:                     %s\n&quot;</span>, input_filename.c_str());</div>
<div class="line"><span class="lineno"> 2117</span>            printf(<span class="stringliteral">&quot;    Color profile:              %s\n&quot;</span>, image_uncomp_in_is_hdr ? <span class="stringliteral">&quot;HDR&quot;</span> : <span class="stringliteral">&quot;LDR&quot;</span>);</div>
<div class="line"><span class="lineno"> 2118</span>            <span class="keywordflow">if</span> (image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a> &gt; 1)</div>
<div class="line"><span class="lineno"> 2119</span>            {</div>
<div class="line"><span class="lineno"> 2120</span>                printf(<span class="stringliteral">&quot;    Dimensions:                 3D, %ux%ux%u\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2121</span>                       image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>, image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a>, image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a>);</div>
<div class="line"><span class="lineno"> 2122</span>            }</div>
<div class="line"><span class="lineno"> 2123</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2124</span>            {</div>
<div class="line"><span class="lineno"> 2125</span>                printf(<span class="stringliteral">&quot;    Dimensions:                 2D, %ux%u\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2126</span>                       image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>, image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a>);</div>
<div class="line"><span class="lineno"> 2127</span>            }</div>
<div class="line"><span class="lineno"> 2128</span>            printf(<span class="stringliteral">&quot;    Components:                 %d\n\n&quot;</span>, image_uncomp_in_component_count);</div>
<div class="line"><span class="lineno"> 2129</span>        }</div>
<div class="line"><span class="lineno"> 2130</span>    }</div>
<div class="line"><span class="lineno"> 2131</span> </div>
<div class="line"><span class="lineno"> 2132</span>    <span class="keywordtype">double</span> image_size = 0.0;</div>
<div class="line"><span class="lineno"> 2133</span>    <span class="keywordflow">if</span> (image_uncomp_in)</div>
<div class="line"><span class="lineno"> 2134</span>    {</div>
<div class="line"><span class="lineno"> 2135</span>        image_size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>) *</div>
<div class="line"><span class="lineno"> 2136</span>                     <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a>) *</div>
<div class="line"><span class="lineno"> 2137</span>                     <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a>);</div>
<div class="line"><span class="lineno"> 2138</span>    }</div>
<div class="line"><span class="lineno"> 2139</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2140</span>    {</div>
<div class="line"><span class="lineno"> 2141</span>        image_size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(image_comp.dim_x) *</div>
<div class="line"><span class="lineno"> 2142</span>                     <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(image_comp.dim_y) *</div>
<div class="line"><span class="lineno"> 2143</span>                     <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(image_comp.dim_z);</div>
<div class="line"><span class="lineno"> 2144</span>    }</div>
<div class="line"><span class="lineno"> 2145</span> </div>
<div class="line"><span class="lineno"> 2146</span>    <span class="comment">// Compress an image</span></div>
<div class="line"><span class="lineno"> 2147</span>    <span class="keywordtype">double</span> best_compression_time = 100000.0;</div>
<div class="line"><span class="lineno"> 2148</span>    <span class="keywordtype">double</span> total_compression_time = 0.0;</div>
<div class="line"><span class="lineno"> 2149</span>    <span class="keywordflow">if</span> (operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a9872916c69f6d2c38167b744ede4e7d5">ASTCENC_STAGE_COMPRESS</a>)</div>
<div class="line"><span class="lineno"> 2150</span>    {</div>
<div class="line"><span class="lineno"> 2151</span>        <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#af7e1714f9fd2ea869dc60aa6cc67398c">print_astcenc_config</a>(cli_config, config);</div>
<div class="line"><span class="lineno"> 2152</span> </div>
<div class="line"><span class="lineno"> 2153</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> blocks_x = (image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a> + config.block_x - 1) / config.block_x;</div>
<div class="line"><span class="lineno"> 2154</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> blocks_y = (image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a> + config.block_y - 1) / config.block_y;</div>
<div class="line"><span class="lineno"> 2155</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> blocks_z = (image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a> + config.block_z - 1) / config.block_z;</div>
<div class="line"><span class="lineno"> 2156</span>        <span class="keywordtype">size_t</span> buffer_size = blocks_x * blocks_y * blocks_z * 16;</div>
<div class="line"><span class="lineno"> 2157</span>        uint8_t* buffer = <span class="keyword">new</span> uint8_t[buffer_size];</div>
<div class="line"><span class="lineno"> 2158</span> </div>
<div class="line"><span class="lineno"> 2159</span>        <a class="code hl_struct" href="structcompression__workload.html">compression_workload</a> work;</div>
<div class="line"><span class="lineno"> 2160</span>        work.<a class="code hl_variable" href="structcompression__workload.html#ae9d654721f6b7f3a4c3633ea3f6fd44d">context</a> = codec_context;</div>
<div class="line"><span class="lineno"> 2161</span>        work.<a class="code hl_variable" href="structcompression__workload.html#a3b9e0060a67dd9683baf335501583de8">image</a> = image_uncomp_in;</div>
<div class="line"><span class="lineno"> 2162</span>        work.<a class="code hl_variable" href="structcompression__workload.html#a6a1f873b56e701cced67a1a79085d9b7">swizzle</a> = cli_config.swz_encode;</div>
<div class="line"><span class="lineno"> 2163</span>        work.<a class="code hl_variable" href="structcompression__workload.html#a63fdd5139699d1a5b8d1461c89b9ad8b">data_out</a> = buffer;</div>
<div class="line"><span class="lineno"> 2164</span>        work.<a class="code hl_variable" href="structcompression__workload.html#ae103e8195d79632f8b743507b9ac214d">data_len</a> = buffer_size;</div>
<div class="line"><span class="lineno"> 2165</span>        work.<a class="code hl_variable" href="structcompression__workload.html#a3742c4719a0c372c27e719939d9730e5">error</a> = <a class="code hl_enumvalue" href="astcenc_8h.html#a6fc8b28b40fd67ba67e33624089aa4d2a4870ce2b25146ebfb91a1c2021ed95e1">ASTCENC_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 2166</span> </div>
<div class="line"><span class="lineno"> 2167</span>        <span class="comment">// Only launch worker threads for multi-threaded use - it makes basic</span></div>
<div class="line"><span class="lineno"> 2168</span>        <span class="comment">// single-threaded profiling and debugging a little less convoluted</span></div>
<div class="line"><span class="lineno"> 2169</span>        <span class="keywordtype">double</span> start_compression_time = <a class="code hl_function" href="#af7ab092ab10d65db3b9051a12420fa52">get_time</a>();</div>
<div class="line"><span class="lineno"> 2170</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; cli_config.repeat_count; i++)</div>
<div class="line"><span class="lineno"> 2171</span>        {</div>
<div class="line"><span class="lineno"> 2172</span>            <span class="keywordflow">if</span> (config.progress_callback)</div>
<div class="line"><span class="lineno"> 2173</span>            {</div>
<div class="line"><span class="lineno"> 2174</span>                printf(<span class="stringliteral">&quot;Compression\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2175</span>                printf(<span class="stringliteral">&quot;===========\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2176</span>                printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2177</span>            }</div>
<div class="line"><span class="lineno"> 2178</span> </div>
<div class="line"><span class="lineno"> 2179</span>            <span class="keywordtype">double</span> start_iter_time = <a class="code hl_function" href="#af7ab092ab10d65db3b9051a12420fa52">get_time</a>();</div>
<div class="line"><span class="lineno"> 2180</span>            <span class="keywordflow">if</span> (cli_config.thread_count &gt; 1)</div>
<div class="line"><span class="lineno"> 2181</span>            {</div>
<div class="line"><span class="lineno"> 2182</span>                <a class="code hl_function" href="#aaa9dcd56cd7089c481e7ef8355ae5c2f">launch_threads</a>(<span class="stringliteral">&quot;Compression&quot;</span>, cli_config.thread_count, <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa">compression_workload_runner</a>, &amp;work);</div>
<div class="line"><span class="lineno"> 2183</span>            }</div>
<div class="line"><span class="lineno"> 2184</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2185</span>            {</div>
<div class="line"><span class="lineno"> 2186</span>                work.<a class="code hl_variable" href="structcompression__workload.html#a3742c4719a0c372c27e719939d9730e5">error</a> = <a class="code hl_function" href="astcenc_8h.html#a3d9bc940f578f9d66c5339d7f7b4b069">astcenc_compress_image</a>(</div>
<div class="line"><span class="lineno"> 2187</span>                    work.<a class="code hl_variable" href="structcompression__workload.html#ae9d654721f6b7f3a4c3633ea3f6fd44d">context</a>, work.<a class="code hl_variable" href="structcompression__workload.html#a3b9e0060a67dd9683baf335501583de8">image</a>, &amp;work.<a class="code hl_variable" href="structcompression__workload.html#a6a1f873b56e701cced67a1a79085d9b7">swizzle</a>,</div>
<div class="line"><span class="lineno"> 2188</span>                    work.<a class="code hl_variable" href="structcompression__workload.html#a63fdd5139699d1a5b8d1461c89b9ad8b">data_out</a>, work.<a class="code hl_variable" href="structcompression__workload.html#ae103e8195d79632f8b743507b9ac214d">data_len</a>, 0);</div>
<div class="line"><span class="lineno"> 2189</span>            }</div>
<div class="line"><span class="lineno"> 2190</span> </div>
<div class="line"><span class="lineno"> 2191</span>            <a class="code hl_function" href="astcenc_8h.html#a93d80ab0fdd1546df397476d773df545">astcenc_compress_reset</a>(codec_context);</div>
<div class="line"><span class="lineno"> 2192</span> </div>
<div class="line"><span class="lineno"> 2193</span>            <span class="keywordflow">if</span> (config.progress_callback)</div>
<div class="line"><span class="lineno"> 2194</span>            {</div>
<div class="line"><span class="lineno"> 2195</span>                printf(<span class="stringliteral">&quot;\n\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2196</span>            }</div>
<div class="line"><span class="lineno"> 2197</span> </div>
<div class="line"><span class="lineno"> 2198</span>            <span class="keywordtype">double</span> iter_time = <a class="code hl_function" href="#af7ab092ab10d65db3b9051a12420fa52">get_time</a>() - start_iter_time;</div>
<div class="line"><span class="lineno"> 2199</span>            best_compression_time = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(iter_time, best_compression_time);</div>
<div class="line"><span class="lineno"> 2200</span>        }</div>
<div class="line"><span class="lineno"> 2201</span>        total_compression_time = <a class="code hl_function" href="#af7ab092ab10d65db3b9051a12420fa52">get_time</a>() - start_compression_time;</div>
<div class="line"><span class="lineno"> 2202</span> </div>
<div class="line"><span class="lineno"> 2203</span>        <span class="keywordflow">if</span> (work.<a class="code hl_variable" href="structcompression__workload.html#a3742c4719a0c372c27e719939d9730e5">error</a> != <a class="code hl_enumvalue" href="astcenc_8h.html#a6fc8b28b40fd67ba67e33624089aa4d2a4870ce2b25146ebfb91a1c2021ed95e1">ASTCENC_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 2204</span>        {</div>
<div class="line"><span class="lineno"> 2205</span>            <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Codec compress failed: %s\n&quot;</span>, <a class="code hl_function" href="astcenc_8h.html#a5768699cf6bc52f54a21968bb480a1d2">astcenc_get_error_string</a>(work.<a class="code hl_variable" href="structcompression__workload.html#a3742c4719a0c372c27e719939d9730e5">error</a>));</div>
<div class="line"><span class="lineno"> 2206</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2207</span>        }</div>
<div class="line"><span class="lineno"> 2208</span> </div>
<div class="line"><span class="lineno"> 2209</span>        image_comp.block_x = config.block_x;</div>
<div class="line"><span class="lineno"> 2210</span>        image_comp.block_y = config.block_y;</div>
<div class="line"><span class="lineno"> 2211</span>        image_comp.block_z = config.block_z;</div>
<div class="line"><span class="lineno"> 2212</span>        image_comp.dim_x = image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>;</div>
<div class="line"><span class="lineno"> 2213</span>        image_comp.dim_y = image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a>;</div>
<div class="line"><span class="lineno"> 2214</span>        image_comp.dim_z = image_uncomp_in-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a>;</div>
<div class="line"><span class="lineno"> 2215</span>        image_comp.data = buffer;</div>
<div class="line"><span class="lineno"> 2216</span>        image_comp.data_len = buffer_size;</div>
<div class="line"><span class="lineno"> 2217</span>    }</div>
<div class="line"><span class="lineno"> 2218</span> </div>
<div class="line"><span class="lineno"> 2219</span>    <span class="comment">// Decompress an image</span></div>
<div class="line"><span class="lineno"> 2220</span>    <span class="keywordtype">double</span> best_decompression_time = 100000.0;</div>
<div class="line"><span class="lineno"> 2221</span>    <span class="keywordtype">double</span> total_decompression_time = 0.0;</div>
<div class="line"><span class="lineno"> 2222</span>    <span class="keywordflow">if</span> (operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a5d0adaabca9b56e5c6e0e89e309ad1bc">ASTCENC_STAGE_DECOMPRESS</a>)</div>
<div class="line"><span class="lineno"> 2223</span>    {</div>
<div class="line"><span class="lineno"> 2224</span>        image_decomp_out = <a class="code hl_function" href="astcenccli__image_8cpp.html#a860f8be85c860429c0df12b581015b68">alloc_image</a>(</div>
<div class="line"><span class="lineno"> 2225</span>            out_bitness, image_comp.dim_x, image_comp.dim_y, image_comp.dim_z);</div>
<div class="line"><span class="lineno"> 2226</span> </div>
<div class="line"><span class="lineno"> 2227</span>        <a class="code hl_struct" href="structdecompression__workload.html">decompression_workload</a> work;</div>
<div class="line"><span class="lineno"> 2228</span>        work.<a class="code hl_variable" href="structdecompression__workload.html#a5f3dda2b3608b2fcf8ca8df56b903eaa">context</a> = codec_context;</div>
<div class="line"><span class="lineno"> 2229</span>        work.<a class="code hl_variable" href="structdecompression__workload.html#af25f9c5e5f267f364dcfc56e65afa6bf">data</a> = image_comp.data;</div>
<div class="line"><span class="lineno"> 2230</span>        work.<a class="code hl_variable" href="structdecompression__workload.html#a1b7213e06f1ba43c8b9cfd3261ef1db4">data_len</a> = image_comp.data_len;</div>
<div class="line"><span class="lineno"> 2231</span>        work.<a class="code hl_variable" href="structdecompression__workload.html#ab689a3629431892c34eb2c043ccd0b3b">image_out</a> = image_decomp_out;</div>
<div class="line"><span class="lineno"> 2232</span>        work.<a class="code hl_variable" href="structdecompression__workload.html#ae1910445ee0d84040bcb599e2caaade0">swizzle</a> = cli_config.swz_decode;</div>
<div class="line"><span class="lineno"> 2233</span>        work.<a class="code hl_variable" href="structdecompression__workload.html#ae17bf8433d2744e4047d15aca49e2b28">error</a> = <a class="code hl_enumvalue" href="astcenc_8h.html#a6fc8b28b40fd67ba67e33624089aa4d2a4870ce2b25146ebfb91a1c2021ed95e1">ASTCENC_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 2234</span> </div>
<div class="line"><span class="lineno"> 2235</span>        <span class="comment">// Only launch worker threads for multi-threaded use - it makes basic</span></div>
<div class="line"><span class="lineno"> 2236</span>        <span class="comment">// single-threaded profiling and debugging a little less convoluted</span></div>
<div class="line"><span class="lineno"> 2237</span>        <span class="keywordtype">double</span> start_decompression_time = <a class="code hl_function" href="#af7ab092ab10d65db3b9051a12420fa52">get_time</a>();</div>
<div class="line"><span class="lineno"> 2238</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; cli_config.repeat_count; i++)</div>
<div class="line"><span class="lineno"> 2239</span>        {</div>
<div class="line"><span class="lineno"> 2240</span>            <span class="keywordtype">double</span> start_iter_time = <a class="code hl_function" href="#af7ab092ab10d65db3b9051a12420fa52">get_time</a>();</div>
<div class="line"><span class="lineno"> 2241</span>            <span class="keywordflow">if</span> (cli_config.thread_count &gt; 1)</div>
<div class="line"><span class="lineno"> 2242</span>            {</div>
<div class="line"><span class="lineno"> 2243</span>                <a class="code hl_function" href="#aaa9dcd56cd7089c481e7ef8355ae5c2f">launch_threads</a>(<span class="stringliteral">&quot;Decompression&quot;</span>, cli_config.thread_count, <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#a02c55a799cc33b39f9d733b1a7e91281">decompression_workload_runner</a>, &amp;work);</div>
<div class="line"><span class="lineno"> 2244</span>            }</div>
<div class="line"><span class="lineno"> 2245</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2246</span>            {</div>
<div class="line"><span class="lineno"> 2247</span>                work.<a class="code hl_variable" href="structdecompression__workload.html#ae17bf8433d2744e4047d15aca49e2b28">error</a> = <a class="code hl_function" href="astcenc_8h.html#aabf20ebf7bc4f75c2ae12070a60f23c0">astcenc_decompress_image</a>(</div>
<div class="line"><span class="lineno"> 2248</span>                    work.<a class="code hl_variable" href="structdecompression__workload.html#a5f3dda2b3608b2fcf8ca8df56b903eaa">context</a>, work.<a class="code hl_variable" href="structdecompression__workload.html#af25f9c5e5f267f364dcfc56e65afa6bf">data</a>, work.<a class="code hl_variable" href="structdecompression__workload.html#a1b7213e06f1ba43c8b9cfd3261ef1db4">data_len</a>,</div>
<div class="line"><span class="lineno"> 2249</span>                    work.<a class="code hl_variable" href="structdecompression__workload.html#ab689a3629431892c34eb2c043ccd0b3b">image_out</a>, &amp;work.<a class="code hl_variable" href="structdecompression__workload.html#ae1910445ee0d84040bcb599e2caaade0">swizzle</a>, 0);</div>
<div class="line"><span class="lineno"> 2250</span>            }</div>
<div class="line"><span class="lineno"> 2251</span> </div>
<div class="line"><span class="lineno"> 2252</span>            <a class="code hl_function" href="astcenc_8h.html#a0a92db919a1334c1d5844fdc081cba30">astcenc_decompress_reset</a>(codec_context);</div>
<div class="line"><span class="lineno"> 2253</span> </div>
<div class="line"><span class="lineno"> 2254</span>            <span class="keywordtype">double</span> iter_time = <a class="code hl_function" href="#af7ab092ab10d65db3b9051a12420fa52">get_time</a>() - start_iter_time;</div>
<div class="line"><span class="lineno"> 2255</span>            best_decompression_time = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(iter_time, best_decompression_time);</div>
<div class="line"><span class="lineno"> 2256</span>        }</div>
<div class="line"><span class="lineno"> 2257</span>        total_decompression_time = <a class="code hl_function" href="#af7ab092ab10d65db3b9051a12420fa52">get_time</a>() - start_decompression_time;</div>
<div class="line"><span class="lineno"> 2258</span> </div>
<div class="line"><span class="lineno"> 2259</span>        <span class="keywordflow">if</span> (work.<a class="code hl_variable" href="structdecompression__workload.html#ae17bf8433d2744e4047d15aca49e2b28">error</a> != <a class="code hl_enumvalue" href="astcenc_8h.html#a6fc8b28b40fd67ba67e33624089aa4d2a4870ce2b25146ebfb91a1c2021ed95e1">ASTCENC_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 2260</span>        {</div>
<div class="line"><span class="lineno"> 2261</span>            <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Codec decompress failed: %s\n&quot;</span>, <a class="code hl_function" href="astcenc_8h.html#a5768699cf6bc52f54a21968bb480a1d2">astcenc_get_error_string</a>(codec_status));</div>
<div class="line"><span class="lineno"> 2262</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2263</span>        }</div>
<div class="line"><span class="lineno"> 2264</span>    }</div>
<div class="line"><span class="lineno"> 2265</span> </div>
<div class="line"><span class="lineno"> 2266</span><span class="preprocessor">#if defined(_WIN32)</span></div>
<div class="line"><span class="lineno"> 2267</span>    <span class="keywordtype">bool</span> is_null = output_filename == <span class="stringliteral">&quot;NUL&quot;</span> || output_filename == <span class="stringliteral">&quot;nul&quot;</span>;</div>
<div class="line"><span class="lineno"> 2268</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 2269</span>    <span class="keywordtype">bool</span> is_null = output_filename == <span class="stringliteral">&quot;/dev/null&quot;</span>;</div>
<div class="line"><span class="lineno"> 2270</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2271</span> </div>
<div class="line"><span class="lineno"> 2272</span>   <span class="comment">// Print metrics in comparison mode</span></div>
<div class="line"><span class="lineno"> 2273</span>    <span class="keywordflow">if</span> (operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a33515e5ea70644038745e5d15654dbd8">ASTCENC_STAGE_COMPARE</a>)</div>
<div class="line"><span class="lineno"> 2274</span>    {</div>
<div class="line"><span class="lineno"> 2275</span>        <span class="keywordtype">bool</span> is_normal_map = config.flags &amp; <a class="code hl_variable" href="astcenc_8h.html#a4010dadc54cded4b9d1abdb6c62f5c03">ASTCENC_FLG_MAP_NORMAL</a>;</div>
<div class="line"><span class="lineno"> 2276</span> </div>
<div class="line"><span class="lineno"> 2277</span>        <a class="code hl_function" href="astcenccli__error__metrics_8cpp.html#a478be461420681d7c83aa89569ea92c4">compute_error_metrics</a>(</div>
<div class="line"><span class="lineno"> 2278</span>            image_uncomp_in_is_hdr, is_normal_map, image_uncomp_in_component_count,</div>
<div class="line"><span class="lineno"> 2279</span>            image_uncomp_in, image_decomp_out, cli_config.low_fstop, cli_config.high_fstop);</div>
<div class="line"><span class="lineno"> 2280</span>    }</div>
<div class="line"><span class="lineno"> 2281</span> </div>
<div class="line"><span class="lineno"> 2282</span>    <span class="comment">// Store compressed image</span></div>
<div class="line"><span class="lineno"> 2283</span>    <span class="keywordflow">if</span> (operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a590f914acb84482fef2496a7f773da55">ASTCENC_STAGE_ST_COMP</a>)</div>
<div class="line"><span class="lineno"> 2284</span>    {</div>
<div class="line"><span class="lineno"> 2285</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="astcenccli__toplevel_8cpp.html#a799eec117691caf296bb26711f44c60f">ends_with</a>(output_filename, <span class="stringliteral">&quot;.astc&quot;</span>))</div>
<div class="line"><span class="lineno"> 2286</span>        {</div>
<div class="line"><span class="lineno"> 2287</span>            error = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#a9ba4a67ed1a59e71c22282996d48390b">store_cimage</a>(image_comp, output_filename.c_str());</div>
<div class="line"><span class="lineno"> 2288</span>            <span class="keywordflow">if</span> (error)</div>
<div class="line"><span class="lineno"> 2289</span>            {</div>
<div class="line"><span class="lineno"> 2290</span>                <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Failed to store compressed image\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2291</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2292</span>            }</div>
<div class="line"><span class="lineno"> 2293</span>        }</div>
<div class="line"><span class="lineno"> 2294</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="astcenccli__toplevel_8cpp.html#a799eec117691caf296bb26711f44c60f">ends_with</a>(output_filename, <span class="stringliteral">&quot;.ktx&quot;</span>))</div>
<div class="line"><span class="lineno"> 2295</span>        {</div>
<div class="line"><span class="lineno"> 2296</span>            <span class="keywordtype">bool</span> srgb = profile == <a class="code hl_enumvalue" href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29a331abc1d96b4fa991757e6ef8199f298">ASTCENC_PRF_LDR_SRGB</a>;</div>
<div class="line"><span class="lineno"> 2297</span>            error = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#a3e674d4952496a98a942815392b1a3a5">store_ktx_compressed_image</a>(image_comp, output_filename.c_str(), srgb);</div>
<div class="line"><span class="lineno"> 2298</span>            <span class="keywordflow">if</span> (error)</div>
<div class="line"><span class="lineno"> 2299</span>            {</div>
<div class="line"><span class="lineno"> 2300</span>                <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Failed to store compressed image\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2301</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2302</span>            }</div>
<div class="line"><span class="lineno"> 2303</span>        }</div>
<div class="line"><span class="lineno"> 2304</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2305</span>        {</div>
<div class="line"><span class="lineno"> 2306</span>            <span class="keywordflow">if</span> (!is_null)</div>
<div class="line"><span class="lineno"> 2307</span>            {</div>
<div class="line"><span class="lineno"> 2308</span>                <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Unknown compressed output file type\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2309</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2310</span>            }</div>
<div class="line"><span class="lineno"> 2311</span>        }</div>
<div class="line"><span class="lineno"> 2312</span>    }</div>
<div class="line"><span class="lineno"> 2313</span> </div>
<div class="line"><span class="lineno"> 2314</span>    <span class="comment">// Store decompressed image</span></div>
<div class="line"><span class="lineno"> 2315</span>    <span class="keywordflow">if</span> (operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a203421aa2822307b22609af15a913713">ASTCENC_STAGE_ST_NCOMP</a>)</div>
<div class="line"><span class="lineno"> 2316</span>    {</div>
<div class="line"><span class="lineno"> 2317</span>        <span class="keywordflow">if</span> (!is_null)</div>
<div class="line"><span class="lineno"> 2318</span>        {</div>
<div class="line"><span class="lineno"> 2319</span>            <span class="keywordtype">bool</span> store_result = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#aad38fd842cc30c7c2d49594cc9c20e65">store_ncimage</a>(image_decomp_out, output_filename.c_str(),</div>
<div class="line"><span class="lineno"> 2320</span>                                              cli_config.y_flip);</div>
<div class="line"><span class="lineno"> 2321</span>            <span class="keywordflow">if</span> (!store_result)</div>
<div class="line"><span class="lineno"> 2322</span>            {</div>
<div class="line"><span class="lineno"> 2323</span>                <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Failed to write output image %s\n&quot;</span>, output_filename.c_str());</div>
<div class="line"><span class="lineno"> 2324</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2325</span>            }</div>
<div class="line"><span class="lineno"> 2326</span>        }</div>
<div class="line"><span class="lineno"> 2327</span>    }</div>
<div class="line"><span class="lineno"> 2328</span> </div>
<div class="line"><span class="lineno"> 2329</span>    <span class="comment">// Store diagnostic images</span></div>
<div class="line"><span class="lineno"> 2330</span>    <span class="keywordflow">if</span> (cli_config.diagnostic_images &amp;&amp; !is_null)</div>
<div class="line"><span class="lineno"> 2331</span>    {</div>
<div class="line"><span class="lineno"> 2332</span>        <a class="code hl_function" href="astcenccli__toplevel_8cpp.html#a65c87ee1ff0ed0736cffa06692853479">print_diagnostic_images</a>(codec_context, image_comp, output_filename);</div>
<div class="line"><span class="lineno"> 2333</span>    }</div>
<div class="line"><span class="lineno"> 2334</span> </div>
<div class="line"><span class="lineno"> 2335</span>    <a class="code hl_function" href="astcenccli__image_8cpp.html#aeb0cd9b24656f2c4dac144e89217057c">free_image</a>(image_uncomp_in);</div>
<div class="line"><span class="lineno"> 2336</span>    <a class="code hl_function" href="astcenccli__image_8cpp.html#aeb0cd9b24656f2c4dac144e89217057c">free_image</a>(image_decomp_out);</div>
<div class="line"><span class="lineno"> 2337</span>    <a class="code hl_function" href="astcenc_8h.html#ae8bcc4e15bfd67d13c59a629bd64767a">astcenc_context_free</a>(codec_context);</div>
<div class="line"><span class="lineno"> 2338</span> </div>
<div class="line"><span class="lineno"> 2339</span>    <span class="keyword">delete</span>[] image_comp.data;</div>
<div class="line"><span class="lineno"> 2340</span> </div>
<div class="line"><span class="lineno"> 2341</span>    <span class="keywordflow">if</span> ((operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a33515e5ea70644038745e5d15654dbd8">ASTCENC_STAGE_COMPARE</a>) || (!cli_config.silentmode))</div>
<div class="line"><span class="lineno"> 2342</span>    {</div>
<div class="line"><span class="lineno"> 2343</span>        <span class="keywordtype">double</span> end_time = <a class="code hl_function" href="#af7ab092ab10d65db3b9051a12420fa52">get_time</a>();</div>
<div class="line"><span class="lineno"> 2344</span> </div>
<div class="line"><span class="lineno"> 2345</span>        <span class="keywordtype">double</span> repeats = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(cli_config.repeat_count);</div>
<div class="line"><span class="lineno"> 2346</span>        <span class="keywordtype">double</span> avg_compression_time = total_compression_time / repeats;</div>
<div class="line"><span class="lineno"> 2347</span>        <span class="keywordtype">double</span> avg_decompression_time = total_decompression_time / repeats;</div>
<div class="line"><span class="lineno"> 2348</span>        <span class="keywordtype">double</span> total_time = (end_time - start_time) - ((repeats - 1.0) * avg_compression_time)  - ((repeats - 1.0) * avg_decompression_time);</div>
<div class="line"><span class="lineno"> 2349</span> </div>
<div class="line"><span class="lineno"> 2350</span>        printf(<span class="stringliteral">&quot;Performance metrics\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2351</span>        printf(<span class="stringliteral">&quot;===================\n\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2352</span>        printf(<span class="stringliteral">&quot;    Total time:                %8.4f s\n&quot;</span>, total_time);</div>
<div class="line"><span class="lineno"> 2353</span> </div>
<div class="line"><span class="lineno"> 2354</span>        <span class="keywordflow">if</span> (operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a9872916c69f6d2c38167b744ede4e7d5">ASTCENC_STAGE_COMPRESS</a>)</div>
<div class="line"><span class="lineno"> 2355</span>        {</div>
<div class="line"><span class="lineno"> 2356</span>            <span class="keywordtype">double</span> compression_rate = image_size / (best_compression_time * 1000000.0);</div>
<div class="line"><span class="lineno"> 2357</span> </div>
<div class="line"><span class="lineno"> 2358</span>            printf(<span class="stringliteral">&quot;    Coding time:               %8.4f s\n&quot;</span>, best_compression_time);</div>
<div class="line"><span class="lineno"> 2359</span>            printf(<span class="stringliteral">&quot;    Coding rate:               %8.4f MT/s\n&quot;</span>, compression_rate);</div>
<div class="line"><span class="lineno"> 2360</span>        }</div>
<div class="line"><span class="lineno"> 2361</span> </div>
<div class="line"><span class="lineno"> 2362</span>        <span class="keywordflow">if</span> (operation &amp; <a class="code hl_variable" href="astcenccli__toplevel_8cpp.html#a5d0adaabca9b56e5c6e0e89e309ad1bc">ASTCENC_STAGE_DECOMPRESS</a>)</div>
<div class="line"><span class="lineno"> 2363</span>        {</div>
<div class="line"><span class="lineno"> 2364</span>            <span class="keywordtype">double</span> decompression_rate = image_size / (best_decompression_time * 1000000.0);</div>
<div class="line"><span class="lineno"> 2365</span>            printf(<span class="stringliteral">&quot;    Decoding time:             %8.4f s\n&quot;</span>, best_decompression_time);</div>
<div class="line"><span class="lineno"> 2366</span>            printf(<span class="stringliteral">&quot;    Decoding rate:             %8.4f MT/s\n&quot;</span>, decompression_rate);</div>
<div class="line"><span class="lineno"> 2367</span>        }</div>
<div class="line"><span class="lineno"> 2368</span>    }</div>
<div class="line"><span class="lineno"> 2369</span> </div>
<div class="line"><span class="lineno"> 2370</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2371</span>}</div>
<div class="ttc" id="aastcenc_8h_html_a0a92db919a1334c1d5844fdc081cba30"><div class="ttname"><a href="astcenc_8h.html#a0a92db919a1334c1d5844fdc081cba30">astcenc_decompress_reset</a></div><div class="ttdeci">ASTCENC_PUBLIC astcenc_error astcenc_decompress_reset(astcenc_context *context)</div><div class="ttdoc">Reset the codec state for a new decompression.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__entry_8cpp_source.html#l01225">astcenc_entry.cpp:1225</a></div></div>
<div class="ttc" id="aastcenc_8h_html_a3d9bc940f578f9d66c5339d7f7b4b069"><div class="ttname"><a href="astcenc_8h.html#a3d9bc940f578f9d66c5339d7f7b4b069">astcenc_compress_image</a></div><div class="ttdeci">ASTCENC_PUBLIC astcenc_error astcenc_compress_image(astcenc_context *context, astcenc_image *image, const astcenc_swizzle *swizzle, uint8_t *data_out, size_t data_len, unsigned int thread_index)</div><div class="ttdoc">Compress an image.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__entry_8cpp_source.html#l01007">astcenc_entry.cpp:1007</a></div></div>
<div class="ttc" id="aastcenc_8h_html_a4010dadc54cded4b9d1abdb6c62f5c03"><div class="ttname"><a href="astcenc_8h.html#a4010dadc54cded4b9d1abdb6c62f5c03">ASTCENC_FLG_MAP_NORMAL</a></div><div class="ttdeci">static const unsigned int ASTCENC_FLG_MAP_NORMAL</div><div class="ttdoc">Enable normal map compression.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00320">astcenc.h:320</a></div></div>
<div class="ttc" id="aastcenc_8h_html_a53428ef5ae3cc106c40f19a50cd5fc5d"><div class="ttname"><a href="astcenc_8h.html#a53428ef5ae3cc106c40f19a50cd5fc5d">astcenc_context_alloc</a></div><div class="ttdeci">ASTCENC_PUBLIC astcenc_error astcenc_context_alloc(const astcenc_config *config, unsigned int thread_count, astcenc_context **context)</div><div class="ttdoc">Allocate a new codec context based on a config.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__entry_8cpp_source.html#l00657">astcenc_entry.cpp:657</a></div></div>
<div class="ttc" id="aastcenc_8h_html_a5768699cf6bc52f54a21968bb480a1d2"><div class="ttname"><a href="astcenc_8h.html#a5768699cf6bc52f54a21968bb480a1d2">astcenc_get_error_string</a></div><div class="ttdeci">ASTCENC_PUBLIC const char * astcenc_get_error_string(astcenc_error status)</div><div class="ttdoc">Get a printable string for specific status code.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__entry_8cpp_source.html#l01352">astcenc_entry.cpp:1352</a></div></div>
<div class="ttc" id="aastcenc_8h_html_a6fc8b28b40fd67ba67e33624089aa4d2"><div class="ttname"><a href="astcenc_8h.html#a6fc8b28b40fd67ba67e33624089aa4d2">astcenc_error</a></div><div class="ttdeci">astcenc_error</div><div class="ttdoc">A codec API error code.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00195">astcenc.h:195</a></div></div>
<div class="ttc" id="aastcenc_8h_html_a6fc8b28b40fd67ba67e33624089aa4d2a4870ce2b25146ebfb91a1c2021ed95e1"><div class="ttname"><a href="astcenc_8h.html#a6fc8b28b40fd67ba67e33624089aa4d2a4870ce2b25146ebfb91a1c2021ed95e1">ASTCENC_SUCCESS</a></div><div class="ttdeci">@ ASTCENC_SUCCESS</div><div class="ttdoc">The call was successful.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00197">astcenc.h:197</a></div></div>
<div class="ttc" id="aastcenc_8h_html_a915298ea1a81ba542b20535c0f19a090"><div class="ttname"><a href="astcenc_8h.html#a915298ea1a81ba542b20535c0f19a090">ASTCENC_FLG_USE_DECODE_UNORM8</a></div><div class="ttdeci">static const unsigned int ASTCENC_FLG_USE_DECODE_UNORM8</div><div class="ttdoc">Enable compression heuristics that assume use of decode_unorm8 decode mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00333">astcenc.h:333</a></div></div>
<div class="ttc" id="aastcenc_8h_html_a93d80ab0fdd1546df397476d773df545"><div class="ttname"><a href="astcenc_8h.html#a93d80ab0fdd1546df397476d773df545">astcenc_compress_reset</a></div><div class="ttdeci">ASTCENC_PUBLIC astcenc_error astcenc_compress_reset(astcenc_context *context)</div><div class="ttdoc">Reset the codec state for a new compression.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__entry_8cpp_source.html#l01107">astcenc_entry.cpp:1107</a></div></div>
<div class="ttc" id="aastcenc_8h_html_aabf20ebf7bc4f75c2ae12070a60f23c0"><div class="ttname"><a href="astcenc_8h.html#aabf20ebf7bc4f75c2ae12070a60f23c0">astcenc_decompress_image</a></div><div class="ttdeci">ASTCENC_PUBLIC astcenc_error astcenc_decompress_image(astcenc_context *context, const uint8_t *data, size_t data_len, astcenc_image *image_out, const astcenc_swizzle *swizzle, unsigned int thread_index)</div><div class="ttdoc">Decompress an image.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__entry_8cpp_source.html#l01127">astcenc_entry.cpp:1127</a></div></div>
<div class="ttc" id="aastcenc_8h_html_ade8fdcd2d40237f88e4bfe1230b9b687a0fa7695144b4779ee0270c590765c713"><div class="ttname"><a href="astcenc_8h.html#ade8fdcd2d40237f88e4bfe1230b9b687a0fa7695144b4779ee0270c590765c713">ASTCENC_SWZ_A</a></div><div class="ttdeci">@ ASTCENC_SWZ_A</div><div class="ttdoc">Select the alpha component.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00270">astcenc.h:270</a></div></div>
<div class="ttc" id="aastcenc_8h_html_ade8fdcd2d40237f88e4bfe1230b9b687a2766a38ed1e99377723a4efb3510acd3"><div class="ttname"><a href="astcenc_8h.html#ade8fdcd2d40237f88e4bfe1230b9b687a2766a38ed1e99377723a4efb3510acd3">ASTCENC_SWZ_R</a></div><div class="ttdeci">@ ASTCENC_SWZ_R</div><div class="ttdoc">Select the red component.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00264">astcenc.h:264</a></div></div>
<div class="ttc" id="aastcenc_8h_html_ade8fdcd2d40237f88e4bfe1230b9b687aa90469ed153f096e4db49d557b5ed3f0"><div class="ttname"><a href="astcenc_8h.html#ade8fdcd2d40237f88e4bfe1230b9b687aa90469ed153f096e4db49d557b5ed3f0">ASTCENC_SWZ_B</a></div><div class="ttdeci">@ ASTCENC_SWZ_B</div><div class="ttdoc">Select the blue component.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00268">astcenc.h:268</a></div></div>
<div class="ttc" id="aastcenc_8h_html_ade8fdcd2d40237f88e4bfe1230b9b687ad07f821ba0081fbbfcc5b59ebb744b3d"><div class="ttname"><a href="astcenc_8h.html#ade8fdcd2d40237f88e4bfe1230b9b687ad07f821ba0081fbbfcc5b59ebb744b3d">ASTCENC_SWZ_G</a></div><div class="ttdeci">@ ASTCENC_SWZ_G</div><div class="ttdoc">Select the green component.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00266">astcenc.h:266</a></div></div>
<div class="ttc" id="aastcenc_8h_html_adf71df2e9f79916ccc02886ba1bdeb29"><div class="ttname"><a href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29">astcenc_profile</a></div><div class="ttdeci">astcenc_profile</div><div class="ttdoc">A codec color profile.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00229">astcenc.h:229</a></div></div>
<div class="ttc" id="aastcenc_8h_html_adf71df2e9f79916ccc02886ba1bdeb29a331abc1d96b4fa991757e6ef8199f298"><div class="ttname"><a href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29a331abc1d96b4fa991757e6ef8199f298">ASTCENC_PRF_LDR_SRGB</a></div><div class="ttdeci">@ ASTCENC_PRF_LDR_SRGB</div><div class="ttdoc">The LDR sRGB color profile.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00231">astcenc.h:231</a></div></div>
<div class="ttc" id="aastcenc_8h_html_adf71df2e9f79916ccc02886ba1bdeb29a4493639842d745d4bccd6a94836d2ca9"><div class="ttname"><a href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29a4493639842d745d4bccd6a94836d2ca9">ASTCENC_PRF_HDR</a></div><div class="ttdeci">@ ASTCENC_PRF_HDR</div><div class="ttdoc">The HDR RGBA color profile.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00238">astcenc.h:237</a></div></div>
<div class="ttc" id="aastcenc_8h_html_adf71df2e9f79916ccc02886ba1bdeb29a9043bc19a890aeff156f664ccbef677f"><div class="ttname"><a href="astcenc_8h.html#adf71df2e9f79916ccc02886ba1bdeb29a9043bc19a890aeff156f664ccbef677f">ASTCENC_PRF_HDR_RGB_LDR_A</a></div><div class="ttdeci">@ ASTCENC_PRF_HDR_RGB_LDR_A</div><div class="ttdoc">The HDR RGB with LDR alpha color profile.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00235">astcenc.h:235</a></div></div>
<div class="ttc" id="aastcenc_8h_html_ae8bcc4e15bfd67d13c59a629bd64767a"><div class="ttname"><a href="astcenc_8h.html#ae8bcc4e15bfd67d13c59a629bd64767a">astcenc_context_free</a></div><div class="ttdeci">ASTCENC_PUBLIC void astcenc_context_free(astcenc_context *context)</div><div class="ttdef"><b>Definition</b> <a href="astcenc__entry_8cpp_source.html#l00765">astcenc_entry.cpp:765</a></div></div>
<div class="ttc" id="aastcenccli__error__metrics_8cpp_html_a478be461420681d7c83aa89569ea92c4"><div class="ttname"><a href="astcenccli__error__metrics_8cpp.html#a478be461420681d7c83aa89569ea92c4">compute_error_metrics</a></div><div class="ttdeci">void compute_error_metrics(bool compute_hdr_metrics, bool compute_normal_metrics, int input_components, const astcenc_image *img1, const astcenc_image *img2, int fstop_lo, int fstop_hi)</div><div class="ttdoc">Compute error metrics comparing two images.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__error__metrics_8cpp_source.html#l00110">astcenccli_error_metrics.cpp:110</a></div></div>
<div class="ttc" id="aastcenccli__image_8cpp_html_aeb0cd9b24656f2c4dac144e89217057c"><div class="ttname"><a href="astcenccli__image_8cpp.html#aeb0cd9b24656f2c4dac144e89217057c">free_image</a></div><div class="ttdeci">void free_image(astcenc_image *img)</div><div class="ttdoc">Free an image.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image_8cpp_source.html#l00072">astcenccli_image.cpp:72</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a10761592472e9cc4d632946459d00bee"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a10761592472e9cc4d632946459d00bee">load_ktx_compressed_image</a></div><div class="ttdeci">bool load_ktx_compressed_image(const char *filename, bool &amp;is_srgb, astc_compressed_image &amp;img)</div><div class="ttdoc">Load a KTX compressed image using the local custom loader.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l01275">astcenccli_image_load_store.cpp:1275</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a36fb7c666f502f49e4d18cf130a7958d"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a36fb7c666f502f49e4d18cf130a7958d">get_output_filename_enforced_bitness</a></div><div class="ttdeci">int get_output_filename_enforced_bitness(const char *filename)</div><div class="ttdoc">Check if the output file type requires a specific bitness.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l02354">astcenccli_image_load_store.cpp:2354</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a3e674d4952496a98a942815392b1a3a5"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a3e674d4952496a98a942815392b1a3a5">store_ktx_compressed_image</a></div><div class="ttdeci">bool store_ktx_compressed_image(const astc_compressed_image &amp;img, const char *filename, bool is_srgb)</div><div class="ttdoc">Store a KTX compressed image using a local store routine.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l01389">astcenccli_image_load_store.cpp:1389</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a6ef0eed7ff787726c2e16ab96196ed8b"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a6ef0eed7ff787726c2e16ab96196ed8b">load_cimage</a></div><div class="ttdeci">int load_cimage(const char *filename, astc_compressed_image &amp;img)</div><div class="ttdoc">Load a compressed .astc image.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l02459">astcenccli_image_load_store.cpp:2459</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a9ba4a67ed1a59e71c22282996d48390b"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a9ba4a67ed1a59e71c22282996d48390b">store_cimage</a></div><div class="ttdeci">int store_cimage(const astc_compressed_image &amp;img, const char *filename)</div><div class="ttdoc">Store a compressed .astc image.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l02527">astcenccli_image_load_store.cpp:2527</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_aad38fd842cc30c7c2d49594cc9c20e65"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#aad38fd842cc30c7c2d49594cc9c20e65">store_ncimage</a></div><div class="ttdeci">bool store_ncimage(const astcenc_image *output_image, const char *filename, int y_flip)</div><div class="ttdoc">Save an uncompressed image.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l02405">astcenccli_image_load_store.cpp:2405</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_ae925e44fad22a8f657ff572ca6b7f948"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#ae925e44fad22a8f657ff572ca6b7f948">nullptr</a></div><div class="ttdeci">static const struct @2 nullptr[]</div></div>
<div class="ttc" id="aastcenccli__internal_8h_html_a3cf209b603114ef9a2c2c9e28697bbe7"><div class="ttname"><a href="#a3cf209b603114ef9a2c2c9e28697bbe7">astcenc_print_header</a></div><div class="ttdeci">void astcenc_print_header()</div><div class="ttdoc">Print the tool copyright and version header to stdout.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel__help_8cpp_source.html#l00555">astcenccli_toplevel_help.cpp:555</a></div></div>
<div class="ttc" id="aastcenccli__internal_8h_html_a699ebbd5f0143120e8ccaa26ae386b56"><div class="ttname"><a href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a></div><div class="ttdeci">static void print_error(const char *format)</div><div class="ttdoc">Print a string to stderr.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__internal_8h_source.html#l00102">astcenccli_internal.h:102</a></div></div>
<div class="ttc" id="aastcenccli__internal_8h_html_a7377ad0be8285dd96c932d2744fc4641"><div class="ttname"><a href="#a7377ad0be8285dd96c932d2744fc4641">astcenc_print_longhelp</a></div><div class="ttdeci">void astcenc_print_longhelp()</div><div class="ttdoc">Print the tool copyright, version, and long-form help to stdout.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel__help_8cpp_source.html#l00594">astcenccli_toplevel_help.cpp:594</a></div></div>
<div class="ttc" id="aastcenccli__internal_8h_html_aaa9dcd56cd7089c481e7ef8355ae5c2f"><div class="ttname"><a href="#aaa9dcd56cd7089c481e7ef8355ae5c2f">launch_threads</a></div><div class="ttdeci">void launch_threads(const char *operation, int thread_count, void(*func)(int, int, void *), void *payload)</div><div class="ttdoc">Launch N worker threads and wait for them to complete.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__platform__dependents_8cpp_source.html#l00204">astcenccli_platform_dependents.cpp:204</a></div></div>
<div class="ttc" id="aastcenccli__internal_8h_html_af5bf7c6ac05f0f401cfde7d73ed2b852"><div class="ttname"><a href="#af5bf7c6ac05f0f401cfde7d73ed2b852">astcenc_print_shorthelp</a></div><div class="ttdeci">void astcenc_print_shorthelp()</div><div class="ttdoc">Print the tool copyright, version, and short-form help to stdout.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel__help_8cpp_source.html#l00587">astcenccli_toplevel_help.cpp:587</a></div></div>
<div class="ttc" id="aastcenccli__internal_8h_html_af7ab092ab10d65db3b9051a12420fa52"><div class="ttname"><a href="#af7ab092ab10d65db3b9051a12420fa52">get_time</a></div><div class="ttdeci">double get_time()</div><div class="ttdoc">Get the current time.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__platform__dependents_8cpp_source.html#l00161">astcenccli_platform_dependents.cpp:161</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a02c55a799cc33b39f9d733b1a7e91281"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a02c55a799cc33b39f9d733b1a7e91281">decompression_workload_runner</a></div><div class="ttdeci">static void decompression_workload_runner(int thread_count, int thread_id, void *payload)</div><div class="ttdoc">Runner callback function for a decompression worker thread.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00255">astcenccli_toplevel.cpp:255</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a1b2281816750f3c6d13790a322dc3092"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a1b2281816750f3c6d13790a322dc3092">astcenc_preprocess</a></div><div class="ttdeci">astcenc_preprocess</div><div class="ttdoc">Image preprocesing tasks prior to encoding.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00109">astcenccli_toplevel.cpp:110</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a1b2281816750f3c6d13790a322dc3092a468bd37375a9a449acd27b370943212c"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a1b2281816750f3c6d13790a322dc3092a468bd37375a9a449acd27b370943212c">ASTCENC_PP_PREMULTIPLY</a></div><div class="ttdeci">@ ASTCENC_PP_PREMULTIPLY</div><div class="ttdoc">Color data alpha premultiplication.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00117">astcenccli_toplevel.cpp:116</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a1b2281816750f3c6d13790a322dc3092ad6b62093fd8756b30fa203f43ef45fc7"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a1b2281816750f3c6d13790a322dc3092ad6b62093fd8756b30fa203f43ef45fc7">ASTCENC_PP_NORMALIZE</a></div><div class="ttdeci">@ ASTCENC_PP_NORMALIZE</div><div class="ttdoc">Normal vector unit-length normalization.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00114">astcenccli_toplevel.cpp:114</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a1b2281816750f3c6d13790a322dc3092afad1e4ffeef01780caa68ff6eb564940"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a1b2281816750f3c6d13790a322dc3092afad1e4ffeef01780caa68ff6eb564940">ASTCENC_PP_NONE</a></div><div class="ttdeci">@ ASTCENC_PP_NONE</div><div class="ttdoc">No image preprocessing.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00112">astcenccli_toplevel.cpp:112</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a203421aa2822307b22609af15a913713"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a203421aa2822307b22609af15a913713">ASTCENC_STAGE_ST_NCOMP</a></div><div class="ttdeci">static const unsigned int ASTCENC_STAGE_ST_NCOMP</div><div class="ttdoc">Stage bit indicating we need to store an uncompressed image.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00066">astcenccli_toplevel.cpp:66</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a2434507fb1c572973603bb6672008eac"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a2434507fb1c572973603bb6672008eac">ASTCENC_STAGE_LD_COMP</a></div><div class="ttdeci">static const unsigned int ASTCENC_STAGE_LD_COMP</div><div class="ttdoc">Stage bit indicating we need to load a compressed image.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00057">astcenccli_toplevel.cpp:57</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a33515e5ea70644038745e5d15654dbd8"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a33515e5ea70644038745e5d15654dbd8">ASTCENC_STAGE_COMPARE</a></div><div class="ttdeci">static const unsigned int ASTCENC_STAGE_COMPARE</div><div class="ttdoc">Stage bit indicating we need to compare an image with the original input.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00075">astcenccli_toplevel.cpp:75</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a3dd5258961a3c289c1e448b7807cf1fa"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a3dd5258961a3c289c1e448b7807cf1fa">load_uncomp_file</a></div><div class="ttdeci">static astcenc_image * load_uncomp_file(const char *filename, unsigned int dim_z, bool y_flip, bool &amp;is_hdr, unsigned int &amp;component_count)</div><div class="ttdoc">Load a non-astc image file from memory.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00316">astcenccli_toplevel.cpp:316</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a547fe35ad8a650afceb2267d2aa8fb1a"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a547fe35ad8a650afceb2267d2aa8fb1a">ASTCENC_OP_VERSION</a></div><div class="ttdeci">static const astcenc_operation ASTCENC_OP_VERSION</div><div class="ttdoc">Operation indicating the user wants to print short-form help text and version info.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00084">astcenccli_toplevel.cpp:84</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a54bae4167b7197c4da5ecac977489513"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a54bae4167b7197c4da5ecac977489513">progress_emitter</a></div><div class="ttdeci">void progress_emitter(float value)</div><div class="ttdoc">Callback emitting a progress bar</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00168">astcenccli_toplevel.cpp:168</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a57bafe66bbd689a53aad2d190fe7a3fa"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa">compression_workload_runner</a></div><div class="ttdeci">static void compression_workload_runner(int thread_count, int thread_id, void *payload)</div><div class="ttdoc">Runner callback function for a compression worker thread.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00228">astcenccli_toplevel.cpp:228</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a590f914acb84482fef2496a7f773da55"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a590f914acb84482fef2496a7f773da55">ASTCENC_STAGE_ST_COMP</a></div><div class="ttdeci">static const unsigned int ASTCENC_STAGE_ST_COMP</div><div class="ttdoc">Stage bit indicating we need to store a compressed image.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00060">astcenccli_toplevel.cpp:60</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a5a62378b79317b2824cf4dc51e3b5c86"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a5a62378b79317b2824cf4dc51e3b5c86">astcenc_operation</a></div><div class="ttdeci">unsigned int astcenc_operation</div><div class="ttdoc">Functions for codec library front-end.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00043">astcenccli_toplevel.cpp:43</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a5d0adaabca9b56e5c6e0e89e309ad1bc"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a5d0adaabca9b56e5c6e0e89e309ad1bc">ASTCENC_STAGE_DECOMPRESS</a></div><div class="ttdeci">static const unsigned int ASTCENC_STAGE_DECOMPRESS</div><div class="ttdoc">Stage bit indicating we need to decompress an image.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00072">astcenccli_toplevel.cpp:72</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a65c87ee1ff0ed0736cffa06692853479"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a65c87ee1ff0ed0736cffa06692853479">print_diagnostic_images</a></div><div class="ttdeci">static void print_diagnostic_images(astcenc_context *context, const astc_compressed_image &amp;image, const std::string &amp;output_file)</div><div class="ttdoc">Print a set of diagnostic images showing aspects of the encoding.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l01569">astcenccli_toplevel.cpp:1569</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a799eec117691caf296bb26711f44c60f"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a799eec117691caf296bb26711f44c60f">ends_with</a></div><div class="ttdeci">static bool ends_with(const std::string &amp;str, const std::string &amp;suffix)</div><div class="ttdoc">Test if a string ends with a given suffix.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00213">astcenccli_toplevel.cpp:213</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_a9872916c69f6d2c38167b744ede4e7d5"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#a9872916c69f6d2c38167b744ede4e7d5">ASTCENC_STAGE_COMPRESS</a></div><div class="ttdeci">static const unsigned int ASTCENC_STAGE_COMPRESS</div><div class="ttdoc">Stage bit indicating we need compress an image.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00069">astcenccli_toplevel.cpp:69</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_aad5e33ec176f3a9af9f3bd5b4938c60a"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#aad5e33ec176f3a9af9f3bd5b4938c60a">ASTCENC_OP_HELP</a></div><div class="ttdeci">static const astcenc_operation ASTCENC_OP_HELP</div><div class="ttdoc">Operation indicating the user wants to print long-form help text and version info.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00081">astcenccli_toplevel.cpp:81</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_aaf7c065e8caf5efb3235ae521742312a"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#aaf7c065e8caf5efb3235ae521742312a">init_astcenc_config</a></div><div class="ttdeci">static int init_astcenc_config(int argc, char **argv, astcenc_profile profile, astcenc_operation operation, astc_compressed_image &amp;comp_image, astcenc_preprocess &amp;preprocess, astcenc_config &amp;config)</div><div class="ttdoc">Initialize the astcenc_config</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00489">astcenccli_toplevel.cpp:489</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_abb90c29f909a0fbfb7bd0d4d657ed0fd"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#abb90c29f909a0fbfb7bd0d4d657ed0fd">ASTCENC_STAGE_LD_NCOMP</a></div><div class="ttdeci">static const unsigned int ASTCENC_STAGE_LD_NCOMP</div><div class="ttdoc">Stage bit indicating we need to load an uncompressed image.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00063">astcenccli_toplevel.cpp:63</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_ae4200e4d2196e8fc39ae933c758c8d79"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#ae4200e4d2196e8fc39ae933c758c8d79">image_preprocess_premultiply</a></div><div class="ttdeci">static void image_preprocess_premultiply(const astcenc_image &amp;input, astcenc_image &amp;output, astcenc_profile profile)</div><div class="ttdoc">Create a copy of input with premultiplied color data.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l01478">astcenccli_toplevel.cpp:1478</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_aeadb22c3ae0c54b3d9777e8e0779729c"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#aeadb22c3ae0c54b3d9777e8e0779729c">image_preprocess_normalize</a></div><div class="ttdeci">static void image_preprocess_normalize(const astcenc_image &amp;input, astcenc_image &amp;output)</div><div class="ttdoc">Create a copy of input with forced unit-length normal vectors.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l01400">astcenccli_toplevel.cpp:1400</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_aedf9353399b1d889e93faaefb272e410"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#aedf9353399b1d889e93faaefb272e410">parse_commandline_options</a></div><div class="ttdeci">static int parse_commandline_options(int argc, char **argv, astcenc_operation &amp;operation, astcenc_profile &amp;profile)</div><div class="ttdoc">Parse the command line.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00445">astcenccli_toplevel.cpp:445</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_af7e1714f9fd2ea869dc60aa6cc67398c"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#af7e1714f9fd2ea869dc60aa6cc67398c">print_astcenc_config</a></div><div class="ttdeci">static void print_astcenc_config(const cli_config_options &amp;cli_config, const astcenc_config &amp;config)</div><div class="ttdoc">Print the config settings in a human readable form.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l01210">astcenccli_toplevel.cpp:1210</a></div></div>
<div class="ttc" id="aastcenccli__toplevel_8cpp_html_affe76bf8f1701e275934901541d19089"><div class="ttname"><a href="astcenccli__toplevel_8cpp.html#affe76bf8f1701e275934901541d19089">edit_astcenc_config</a></div><div class="ttdeci">static int edit_astcenc_config(int argc, char **argv, const astcenc_operation operation, cli_config_options &amp;cli_config, astcenc_config &amp;config)</div><div class="ttdoc">Edit the astcenc_config</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00682">astcenccli_toplevel.cpp:682</a></div></div>
<div class="ttc" id="anamespaceastc_html_af78c0d31374aa9923633a3a2abf8d738"><div class="ttname"><a href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a></div><div class="ttdeci">static T min(T p, T q)</div><div class="ttdoc">Return the minimum of two values.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00159">astcenc_mathlib.h:159</a></div></div>
<div class="ttc" id="astructastc__compressed__image_html"><div class="ttname"><a href="structastc__compressed__image.html">astc_compressed_image</a></div><div class="ttdoc">Functions and data declarations.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__internal_8h_source.html#l00036">astcenccli_internal.h:37</a></div></div>
<div class="ttc" id="astructastcenc__config_html"><div class="ttname"><a href="structastcenc__config.html">astcenc_config</a></div><div class="ttdoc">The config structure.</div><div class="ttdef"><b>Definition</b> <a href="astcenc_8h_source.html#l00415">astcenc.h:416</a></div></div>
<div class="ttc" id="astructastcenc__context_html"><div class="ttname"><a href="structastcenc__context.html">astcenc_context</a></div><div class="ttdoc">The astcenc compression context.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal__entry_8h_source.html#l00314">astcenc_internal_entry.h:315</a></div></div>
<div class="ttc" id="astructcli__config__options_html"><div class="ttname"><a href="structcli__config__options.html">cli_config_options</a></div><div class="ttdoc">Config options that have been read from command line.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__internal_8h_source.html#l00066">astcenccli_internal.h:67</a></div></div>
<div class="ttc" id="astructcompression__workload_html"><div class="ttname"><a href="structcompression__workload.html">compression_workload</a></div><div class="ttdoc">Compression workload definition for worker threads.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00142">astcenccli_toplevel.cpp:143</a></div></div>
<div class="ttc" id="astructcompression__workload_html_a3742c4719a0c372c27e719939d9730e5"><div class="ttname"><a href="structcompression__workload.html#a3742c4719a0c372c27e719939d9730e5">compression_workload::error</a></div><div class="ttdeci">astcenc_error error</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00149">astcenccli_toplevel.cpp:149</a></div></div>
<div class="ttc" id="astructcompression__workload_html_a3b9e0060a67dd9683baf335501583de8"><div class="ttname"><a href="structcompression__workload.html#a3b9e0060a67dd9683baf335501583de8">compression_workload::image</a></div><div class="ttdeci">astcenc_image * image</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00145">astcenccli_toplevel.cpp:145</a></div></div>
<div class="ttc" id="astructcompression__workload_html_a63fdd5139699d1a5b8d1461c89b9ad8b"><div class="ttname"><a href="structcompression__workload.html#a63fdd5139699d1a5b8d1461c89b9ad8b">compression_workload::data_out</a></div><div class="ttdeci">uint8_t * data_out</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00147">astcenccli_toplevel.cpp:147</a></div></div>
<div class="ttc" id="astructcompression__workload_html_a6a1f873b56e701cced67a1a79085d9b7"><div class="ttname"><a href="structcompression__workload.html#a6a1f873b56e701cced67a1a79085d9b7">compression_workload::swizzle</a></div><div class="ttdeci">astcenc_swizzle swizzle</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00146">astcenccli_toplevel.cpp:146</a></div></div>
<div class="ttc" id="astructcompression__workload_html_ae103e8195d79632f8b743507b9ac214d"><div class="ttname"><a href="structcompression__workload.html#ae103e8195d79632f8b743507b9ac214d">compression_workload::data_len</a></div><div class="ttdeci">size_t data_len</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00148">astcenccli_toplevel.cpp:148</a></div></div>
<div class="ttc" id="astructcompression__workload_html_ae9d654721f6b7f3a4c3633ea3f6fd44d"><div class="ttname"><a href="structcompression__workload.html#ae9d654721f6b7f3a4c3633ea3f6fd44d">compression_workload::context</a></div><div class="ttdeci">astcenc_context * context</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00144">astcenccli_toplevel.cpp:144</a></div></div>
<div class="ttc" id="astructdecompression__workload_html"><div class="ttname"><a href="structdecompression__workload.html">decompression_workload</a></div><div class="ttdoc">Decompression workload definition for worker threads.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00155">astcenccli_toplevel.cpp:156</a></div></div>
<div class="ttc" id="astructdecompression__workload_html_a1b7213e06f1ba43c8b9cfd3261ef1db4"><div class="ttname"><a href="structdecompression__workload.html#a1b7213e06f1ba43c8b9cfd3261ef1db4">decompression_workload::data_len</a></div><div class="ttdeci">size_t data_len</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00159">astcenccli_toplevel.cpp:159</a></div></div>
<div class="ttc" id="astructdecompression__workload_html_a5f3dda2b3608b2fcf8ca8df56b903eaa"><div class="ttname"><a href="structdecompression__workload.html#a5f3dda2b3608b2fcf8ca8df56b903eaa">decompression_workload::context</a></div><div class="ttdeci">astcenc_context * context</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00157">astcenccli_toplevel.cpp:157</a></div></div>
<div class="ttc" id="astructdecompression__workload_html_ab689a3629431892c34eb2c043ccd0b3b"><div class="ttname"><a href="structdecompression__workload.html#ab689a3629431892c34eb2c043ccd0b3b">decompression_workload::image_out</a></div><div class="ttdeci">astcenc_image * image_out</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00160">astcenccli_toplevel.cpp:160</a></div></div>
<div class="ttc" id="astructdecompression__workload_html_ae17bf8433d2744e4047d15aca49e2b28"><div class="ttname"><a href="structdecompression__workload.html#ae17bf8433d2744e4047d15aca49e2b28">decompression_workload::error</a></div><div class="ttdeci">astcenc_error error</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00162">astcenccli_toplevel.cpp:162</a></div></div>
<div class="ttc" id="astructdecompression__workload_html_ae1910445ee0d84040bcb599e2caaade0"><div class="ttname"><a href="structdecompression__workload.html#ae1910445ee0d84040bcb599e2caaade0">decompression_workload::swizzle</a></div><div class="ttdeci">astcenc_swizzle swizzle</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00161">astcenccli_toplevel.cpp:161</a></div></div>
<div class="ttc" id="astructdecompression__workload_html_af25f9c5e5f267f364dcfc56e65afa6bf"><div class="ttname"><a href="structdecompression__workload.html#af25f9c5e5f267f364dcfc56e65afa6bf">decompression_workload::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel_8cpp_source.html#l00158">astcenccli_toplevel.cpp:158</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3cf209b603114ef9a2c2c9e28697bbe7" name="a3cf209b603114ef9a2c2c9e28697bbe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cf209b603114ef9a2c2c9e28697bbe7">&#9670;&#160;</a></span>astcenc_print_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void astcenc_print_header </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the tool copyright and version header to stdout. </p>

<p class="definition"><a class="el" href="astcenccli__toplevel__help_8cpp_source.html">astcenccli_toplevel_help.cpp</a> 파일의 <a class="el" href="astcenccli__toplevel__help_8cpp_source.html#l00555">555</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  556</span>{</div>
<div class="line"><span class="lineno">  557</span><span class="preprocessor">#if (ASTCENC_AVX == 2)</span></div>
<div class="line"><span class="lineno">  558</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* simdtype = <span class="stringliteral">&quot;avx2&quot;</span>;</div>
<div class="line"><span class="lineno">  559</span><span class="preprocessor">#elif (ASTCENC_SSE == 41)</span></div>
<div class="line"><span class="lineno">  560</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* simdtype = <span class="stringliteral">&quot;sse4.1&quot;</span>;</div>
<div class="line"><span class="lineno">  561</span><span class="preprocessor">#elif (ASTCENC_SSE == 20)</span></div>
<div class="line"><span class="lineno">  562</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* simdtype = <span class="stringliteral">&quot;sse2&quot;</span>;</div>
<div class="line"><span class="lineno">  563</span><span class="preprocessor">#elif (ASTCENC_NEON == 1)</span></div>
<div class="line"><span class="lineno">  564</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* simdtype = <span class="stringliteral">&quot;neon&quot;</span>;</div>
<div class="line"><span class="lineno">  565</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  566</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* simdtype = <span class="stringliteral">&quot;none&quot;</span>;</div>
<div class="line"><span class="lineno">  567</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span><span class="preprocessor">#if (ASTCENC_POPCNT == 1)</span></div>
<div class="line"><span class="lineno">  570</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* pcnttype = <span class="stringliteral">&quot;+popcnt&quot;</span>;</div>
<div class="line"><span class="lineno">  571</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  572</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* pcnttype = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  573</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span><span class="preprocessor">#if (ASTCENC_F16C == 1)</span></div>
<div class="line"><span class="lineno">  576</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* f16ctype = <span class="stringliteral">&quot;+f16c&quot;</span>;</div>
<div class="line"><span class="lineno">  577</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  578</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* f16ctype = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  579</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bits = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*) * 8);</div>
<div class="line"><span class="lineno">  582</span>    printf(<a class="code hl_variable" href="astcenccli__toplevel__help_8cpp.html#afb573e80aa8090f02b3424f167ff1ae1">astcenc_copyright_string</a>,</div>
<div class="line"><span class="lineno">  583</span>           VERSION_STRING, bits, simdtype, pcnttype, f16ctype, YEAR_STRING);</div>
<div class="line"><span class="lineno">  584</span>}</div>
<div class="ttc" id="aastcenccli__toplevel__help_8cpp_html_afb573e80aa8090f02b3424f167ff1ae1"><div class="ttname"><a href="astcenccli__toplevel__help_8cpp.html#afb573e80aa8090f02b3424f167ff1ae1">astcenc_copyright_string</a></div><div class="ttdeci">static const char * astcenc_copyright_string</div><div class="ttdoc">Functions for printing build info and help messages.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel__help_8cpp_source.html#l00026">astcenccli_toplevel_help.cpp:26</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a3cf209b603114ef9a2c2c9e28697bbe7_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a3cf209b603114ef9a2c2c9e28697bbe7_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a3cf209b603114ef9a2c2c9e28697bbe7_icgraph" id="aastcenccli__internal_8h_a3cf209b603114ef9a2c2c9e28697bbe7_icgraph">
<area shape="rect" title="Print the tool copyright and version header to stdout." alt="" coords="463,24,609,50"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,24,207,50"/>
<area shape="poly" title=" " alt="" coords="472,24,414,14,335,8,255,14,197,27,196,22,254,9,335,3,415,9,473,19"/>
<area shape="rect" href="astcenccli__toplevel__help_8cpp.html#a7377ad0be8285dd96c932d2744fc4641" title="Print the tool copyright, version, and long&#45;form help to stdout." alt="" coords="257,24,412,50"/>
<area shape="poly" title=" " alt="" coords="449,40,412,40,412,34,449,34"/>
<area shape="rect" href="astcenccli__toplevel__help_8cpp.html#af5bf7c6ac05f0f401cfde7d73ed2b852" title="Print the tool copyright, version, and short&#45;form help to stdout." alt="" coords="255,74,415,99"/>
<area shape="poly" title=" " alt="" coords="471,56,388,76,387,71,470,50"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,24,56,50"/>
<area shape="poly" title=" " alt="" coords="90,40,57,40,57,34,90,34"/>
<area shape="poly" title=" " alt="" coords="243,40,207,40,207,34,243,34"/>
<area shape="poly" title=" " alt="" coords="274,72,202,52,203,47,275,67"/>
</map>
</div>

</div>
</div>
<a id="a7377ad0be8285dd96c932d2744fc4641" name="a7377ad0be8285dd96c932d2744fc4641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7377ad0be8285dd96c932d2744fc4641">&#9670;&#160;</a></span>astcenc_print_longhelp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void astcenc_print_longhelp </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the tool copyright, version, and long-form help to stdout. </p>

<p class="definition"><a class="el" href="astcenccli__toplevel__help_8cpp_source.html">astcenccli_toplevel_help.cpp</a> 파일의 <a class="el" href="astcenccli__toplevel__help_8cpp_source.html#l00594">594</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  595</span>{</div>
<div class="line"><span class="lineno">  596</span>    <a class="code hl_function" href="astcenccli__toplevel__help_8cpp.html#a3cf209b603114ef9a2c2c9e28697bbe7">astcenc_print_header</a>();</div>
<div class="line"><span class="lineno">  597</span>    printf(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="astcenccli__toplevel__help_8cpp.html#a8f1389189daa58ba75bc5fafa8742739">astcenc_long_help</a>);</div>
<div class="line"><span class="lineno">  598</span>}</div>
<div class="ttc" id="aastcenccli__toplevel__help_8cpp_html_a3cf209b603114ef9a2c2c9e28697bbe7"><div class="ttname"><a href="astcenccli__toplevel__help_8cpp.html#a3cf209b603114ef9a2c2c9e28697bbe7">astcenc_print_header</a></div><div class="ttdeci">void astcenc_print_header()</div><div class="ttdoc">Print the tool copyright and version header to stdout.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel__help_8cpp_source.html#l00555">astcenccli_toplevel_help.cpp:555</a></div></div>
<div class="ttc" id="aastcenccli__toplevel__help_8cpp_html_a8f1389189daa58ba75bc5fafa8742739"><div class="ttname"><a href="astcenccli__toplevel__help_8cpp.html#a8f1389189daa58ba75bc5fafa8742739">astcenc_long_help</a></div><div class="ttdeci">static const char * astcenc_long_help</div><div class="ttdoc">The long-form help text.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel__help_8cpp_source.html#l00072">astcenccli_toplevel_help.cpp:72</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a7377ad0be8285dd96c932d2744fc4641_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_a7377ad0be8285dd96c932d2744fc4641_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a7377ad0be8285dd96c932d2744fc4641_cgraph" id="aastcenccli__internal_8h_a7377ad0be8285dd96c932d2744fc4641_cgraph">
<area shape="rect" title="Print the tool copyright, version, and long&#45;form help to stdout." alt="" coords="5,5,160,31"/>
<area shape="rect" href="astcenccli__toplevel__help_8cpp.html#a3cf209b603114ef9a2c2c9e28697bbe7" title="Print the tool copyright and version header to stdout." alt="" coords="208,5,355,31"/>
<area shape="poly" title=" " alt="" coords="160,15,194,15,194,21,160,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a7377ad0be8285dd96c932d2744fc4641_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a7377ad0be8285dd96c932d2744fc4641_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a7377ad0be8285dd96c932d2744fc4641_icgraph" id="aastcenccli__internal_8h_a7377ad0be8285dd96c932d2744fc4641_icgraph">
<area shape="rect" title="Print the tool copyright, version, and long&#45;form help to stdout." alt="" coords="255,5,409,31"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="241,21,207,21,207,15,241,15"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
</map>
</div>

</div>
</div>
<a id="af5bf7c6ac05f0f401cfde7d73ed2b852" name="af5bf7c6ac05f0f401cfde7d73ed2b852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5bf7c6ac05f0f401cfde7d73ed2b852">&#9670;&#160;</a></span>astcenc_print_shorthelp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void astcenc_print_shorthelp </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the tool copyright, version, and short-form help to stdout. </p>

<p class="definition"><a class="el" href="astcenccli__toplevel__help_8cpp_source.html">astcenccli_toplevel_help.cpp</a> 파일의 <a class="el" href="astcenccli__toplevel__help_8cpp_source.html#l00587">587</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  588</span>{</div>
<div class="line"><span class="lineno">  589</span>    <a class="code hl_function" href="astcenccli__toplevel__help_8cpp.html#a3cf209b603114ef9a2c2c9e28697bbe7">astcenc_print_header</a>();</div>
<div class="line"><span class="lineno">  590</span>    printf(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="astcenccli__toplevel__help_8cpp.html#a1143e88ff4e7fd8c7b364556dd4a64f4">astcenc_short_help</a>);</div>
<div class="line"><span class="lineno">  591</span>}</div>
<div class="ttc" id="aastcenccli__toplevel__help_8cpp_html_a1143e88ff4e7fd8c7b364556dd4a64f4"><div class="ttname"><a href="astcenccli__toplevel__help_8cpp.html#a1143e88ff4e7fd8c7b364556dd4a64f4">astcenc_short_help</a></div><div class="ttdeci">static const char * astcenc_short_help</div><div class="ttdoc">The short-form help text.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__toplevel__help_8cpp_source.html#l00032">astcenccli_toplevel_help.cpp:32</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_af5bf7c6ac05f0f401cfde7d73ed2b852_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_af5bf7c6ac05f0f401cfde7d73ed2b852_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_af5bf7c6ac05f0f401cfde7d73ed2b852_cgraph" id="aastcenccli__internal_8h_af5bf7c6ac05f0f401cfde7d73ed2b852_cgraph">
<area shape="rect" title="Print the tool copyright, version, and short&#45;form help to stdout." alt="" coords="5,5,165,31"/>
<area shape="rect" href="astcenccli__toplevel__help_8cpp.html#a3cf209b603114ef9a2c2c9e28697bbe7" title="Print the tool copyright and version header to stdout." alt="" coords="213,5,360,31"/>
<area shape="poly" title=" " alt="" coords="166,15,199,15,199,21,166,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_af5bf7c6ac05f0f401cfde7d73ed2b852_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_af5bf7c6ac05f0f401cfde7d73ed2b852_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_af5bf7c6ac05f0f401cfde7d73ed2b852_icgraph" id="aastcenccli__internal_8h_af5bf7c6ac05f0f401cfde7d73ed2b852_icgraph">
<area shape="rect" title="Print the tool copyright, version, and short&#45;form help to stdout." alt="" coords="255,5,415,31"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="241,21,207,21,207,15,241,15"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
</map>
</div>

</div>
</div>
<a id="a478be461420681d7c83aa89569ea92c4" name="a478be461420681d7c83aa89569ea92c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a478be461420681d7c83aa89569ea92c4">&#9670;&#160;</a></span>compute_error_metrics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compute_error_metrics </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>compute_hdr_metrics</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>compute_normal_metrics</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>input_components</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structastcenc__image.html">astcenc_image</a> *</td>          <td class="paramname"><span class="paramname"><em>img1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structastcenc__image.html">astcenc_image</a> *</td>          <td class="paramname"><span class="paramname"><em>img2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fstop_lo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fstop_hi</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute error metrics comparing two images. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">compute_hdr_metrics</td><td>True if HDR metrics should be computed. </td></tr>
    <tr><td class="paramname">compute_normal_metrics</td><td>True if normal map metrics should be computed. </td></tr>
    <tr><td class="paramname">input_components</td><td>The number of input color components. </td></tr>
    <tr><td class="paramname">img1</td><td>The original image. </td></tr>
    <tr><td class="paramname">img2</td><td>The compressed image. </td></tr>
    <tr><td class="paramname">fstop_lo</td><td>The low exposure fstop (HDR only). </td></tr>
    <tr><td class="paramname">fstop_hi</td><td>The high exposure fstop (HDR only). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenccli__error__metrics_8cpp_source.html">astcenccli_error_metrics.cpp</a> 파일의 <a class="el" href="astcenccli__error__metrics_8cpp_source.html#l00110">110</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  118</span>  {</div>
<div class="line"><span class="lineno">  119</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> componentmasks[5] { 0x00, 0x07, 0x0C, 0x07, 0x0F };</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordtype">int</span> componentmask = componentmasks[input_components];</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>    <a class="code hl_class" href="classerror__accum4.html">error_accum4</a> errorsum;</div>
<div class="line"><span class="lineno">  123</span>    <a class="code hl_class" href="classerror__accum4.html">error_accum4</a> alpha_scaled_errorsum;</div>
<div class="line"><span class="lineno">  124</span>    <a class="code hl_class" href="classerror__accum4.html">error_accum4</a> log_errorsum;</div>
<div class="line"><span class="lineno">  125</span>    <a class="code hl_class" href="classerror__accum4.html">error_accum4</a> mpsnr_errorsum;</div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordtype">double</span> mean_angular_errorsum = 0.0;</div>
<div class="line"><span class="lineno">  127</span>    <span class="keywordtype">double</span> worst_angular_errorsum = 0.0;</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_x = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>, img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>);</div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_y = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a>, img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a>);</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_z = <a class="code hl_function" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738">astc::min</a>(img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a>, img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a>);</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">if</span> (img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a> != img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a> ||</div>
<div class="line"><span class="lineno">  134</span>        img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a> != img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a> ||</div>
<div class="line"><span class="lineno">  135</span>        img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a> != img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a>)</div>
<div class="line"><span class="lineno">  136</span>    {</div>
<div class="line"><span class="lineno">  137</span>        printf(<span class="stringliteral">&quot;WARNING: Only intersection of images will be compared:\n&quot;</span></div>
<div class="line"><span class="lineno">  138</span>               <span class="stringliteral">&quot;  Image 1: %dx%dx%d\n&quot;</span></div>
<div class="line"><span class="lineno">  139</span>               <span class="stringliteral">&quot;  Image 2: %dx%dx%d\n&quot;</span>,</div>
<div class="line"><span class="lineno">  140</span>               img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>, img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a>, img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a>,</div>
<div class="line"><span class="lineno">  141</span>               img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>, img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a>, img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a>);</div>
<div class="line"><span class="lineno">  142</span>    }</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordtype">double</span> rgb_peak = 0.0;</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xsize1 = img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>;</div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xsize2 = img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>;</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z = 0; z &lt; dim_z; z++)</div>
<div class="line"><span class="lineno">  149</span>    {</div>
<div class="line"><span class="lineno">  150</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y = 0; y &lt; dim_y; y++)</div>
<div class="line"><span class="lineno">  151</span>        {</div>
<div class="line"><span class="lineno">  152</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; dim_x; x++)</div>
<div class="line"><span class="lineno">  153</span>            {</div>
<div class="line"><span class="lineno">  154</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color1;</div>
<div class="line"><span class="lineno">  155</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color2;</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>                <span class="keywordflow">if</span> (img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aa91ac7b6329d0a39c879dff7a1bcdf759">ASTCENC_TYPE_U8</a>)</div>
<div class="line"><span class="lineno">  158</span>                {</div>
<div class="line"><span class="lineno">  159</span>                    uint8_t* data8 = <span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z]);</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>                    color1 = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(</div>
<div class="line"><span class="lineno">  162</span>                        data8[(4 * xsize1 * y) + (4 * x    )],</div>
<div class="line"><span class="lineno">  163</span>                        data8[(4 * xsize1 * y) + (4 * x + 1)],</div>
<div class="line"><span class="lineno">  164</span>                        data8[(4 * xsize1 * y) + (4 * x + 2)],</div>
<div class="line"><span class="lineno">  165</span>                        data8[(4 * xsize1 * y) + (4 * x + 3)]);</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>                    color1 = color1 / 255.0f;</div>
<div class="line"><span class="lineno">  168</span>                }</div>
<div class="line"><span class="lineno">  169</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aad39e16b7f2e55ed676ce400619f0759d">ASTCENC_TYPE_F16</a>)</div>
<div class="line"><span class="lineno">  170</span>                {</div>
<div class="line"><span class="lineno">  171</span>                    uint16_t* data16 = <span class="keyword">static_cast&lt;</span>uint16_t*<span class="keyword">&gt;</span>(img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z]);</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>                    <a class="code hl_struct" href="structvint4.html">vint4</a> color1i = <a class="code hl_struct" href="structvint4.html">vint4</a>(</div>
<div class="line"><span class="lineno">  174</span>                        data16[(4 * xsize1 * y) + (4 * x    )],</div>
<div class="line"><span class="lineno">  175</span>                        data16[(4 * xsize1 * y) + (4 * x + 1)],</div>
<div class="line"><span class="lineno">  176</span>                        data16[(4 * xsize1 * y) + (4 * x + 2)],</div>
<div class="line"><span class="lineno">  177</span>                        data16[(4 * xsize1 * y) + (4 * x + 3)]);</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>                    color1 = <a class="code hl_function" href="astcenc__vecmathlib__neon__4_8h.html#afd7aa2069bdf377067c3abaca1256432">float16_to_float</a>(color1i);</div>
<div class="line"><span class="lineno">  180</span>                    color1 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e">clamp</a>(0, 65504.0f, color1);</div>
<div class="line"><span class="lineno">  181</span>                }</div>
<div class="line"><span class="lineno">  182</span>                <span class="keywordflow">else</span> <span class="comment">// if (img1-&gt;data_type == ASTCENC_TYPE_F32)</span></div>
<div class="line"><span class="lineno">  183</span>                {</div>
<div class="line"><span class="lineno">  184</span>                    assert(img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aaf996e38de0e0ac57175c09da275c6062">ASTCENC_TYPE_F32</a>);</div>
<div class="line"><span class="lineno">  185</span>                    <span class="keywordtype">float</span>* data32 = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span>*<span class="keyword">&gt;</span>(img1-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z]);</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>                    color1 = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(</div>
<div class="line"><span class="lineno">  188</span>                        data32[(4 * xsize1 * y) + (4 * x    )],</div>
<div class="line"><span class="lineno">  189</span>                        data32[(4 * xsize1 * y) + (4 * x + 1)],</div>
<div class="line"><span class="lineno">  190</span>                        data32[(4 * xsize1 * y) + (4 * x + 2)],</div>
<div class="line"><span class="lineno">  191</span>                        data32[(4 * xsize1 * y) + (4 * x + 3)]);</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>                    color1 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e">clamp</a>(0, 65504.0f, color1);</div>
<div class="line"><span class="lineno">  194</span>                }</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>                <span class="keywordflow">if</span> (img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aa91ac7b6329d0a39c879dff7a1bcdf759">ASTCENC_TYPE_U8</a>)</div>
<div class="line"><span class="lineno">  197</span>                {</div>
<div class="line"><span class="lineno">  198</span>                    uint8_t* data8 = <span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z]);</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>                    color2 = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(</div>
<div class="line"><span class="lineno">  201</span>                        data8[(4 * xsize2 * y) + (4 * x    )],</div>
<div class="line"><span class="lineno">  202</span>                        data8[(4 * xsize2 * y) + (4 * x + 1)],</div>
<div class="line"><span class="lineno">  203</span>                        data8[(4 * xsize2 * y) + (4 * x + 2)],</div>
<div class="line"><span class="lineno">  204</span>                        data8[(4 * xsize2 * y) + (4 * x + 3)]);</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>                    color2 = color2 / 255.0f;</div>
<div class="line"><span class="lineno">  207</span>                }</div>
<div class="line"><span class="lineno">  208</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aad39e16b7f2e55ed676ce400619f0759d">ASTCENC_TYPE_F16</a>)</div>
<div class="line"><span class="lineno">  209</span>                {</div>
<div class="line"><span class="lineno">  210</span>                    uint16_t* data16 = <span class="keyword">static_cast&lt;</span>uint16_t*<span class="keyword">&gt;</span>(img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z]);</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>                    <a class="code hl_struct" href="structvint4.html">vint4</a> color2i = <a class="code hl_struct" href="structvint4.html">vint4</a>(</div>
<div class="line"><span class="lineno">  213</span>                        data16[(4 * xsize2 * y) + (4 * x    )],</div>
<div class="line"><span class="lineno">  214</span>                        data16[(4 * xsize2 * y) + (4 * x + 1)],</div>
<div class="line"><span class="lineno">  215</span>                        data16[(4 * xsize2 * y) + (4 * x + 2)],</div>
<div class="line"><span class="lineno">  216</span>                        data16[(4 * xsize2 * y) + (4 * x + 3)]);</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>                    color2 = <a class="code hl_function" href="astcenc__vecmathlib__neon__4_8h.html#afd7aa2069bdf377067c3abaca1256432">float16_to_float</a>(color2i);</div>
<div class="line"><span class="lineno">  219</span>                    color2 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e">clamp</a>(0, 65504.0f, color2);</div>
<div class="line"><span class="lineno">  220</span>                }</div>
<div class="line"><span class="lineno">  221</span>                <span class="keywordflow">else</span> <span class="comment">// if (img2-&gt;data_type == ASTCENC_TYPE_F32)</span></div>
<div class="line"><span class="lineno">  222</span>                {</div>
<div class="line"><span class="lineno">  223</span>                    assert(img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aaf996e38de0e0ac57175c09da275c6062">ASTCENC_TYPE_F32</a>);</div>
<div class="line"><span class="lineno">  224</span>                    <span class="keywordtype">float</span>* data32 = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span>*<span class="keyword">&gt;</span>(img2-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z]);</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>                    color2 = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(</div>
<div class="line"><span class="lineno">  227</span>                        data32[(4 * xsize2 * y) + (4 * x    )],</div>
<div class="line"><span class="lineno">  228</span>                        data32[(4 * xsize2 * y) + (4 * x + 1)],</div>
<div class="line"><span class="lineno">  229</span>                        data32[(4 * xsize2 * y) + (4 * x + 2)],</div>
<div class="line"><span class="lineno">  230</span>                        data32[(4 * xsize2 * y) + (4 * x + 3)]);</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>                    color2 = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e">clamp</a>(0, 65504.0f, color2);</div>
<div class="line"><span class="lineno">  233</span>                }</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>                rgb_peak = <a class="code hl_function" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f">astc::max</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(color1.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;0&gt;()),</div>
<div class="line"><span class="lineno">  236</span>                                     <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(color1.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;1&gt;()),</div>
<div class="line"><span class="lineno">  237</span>                                     <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(color1.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;2&gt;()),</div>
<div class="line"><span class="lineno">  238</span>                                     rgb_peak);</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> diffcolor = color1 - color2;</div>
<div class="line"><span class="lineno">  241</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> diffcolor_sq = diffcolor * diffcolor;</div>
<div class="line"><span class="lineno">  242</span>                errorsum += diffcolor_sq;</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> alpha_scaled_diffcolor = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(</div>
<div class="line"><span class="lineno">  245</span>                    diffcolor.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;0&gt;() * color1.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;3&gt;(),</div>
<div class="line"><span class="lineno">  246</span>                    diffcolor.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;1&gt;() * color1.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;3&gt;(),</div>
<div class="line"><span class="lineno">  247</span>                    diffcolor.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;2&gt;() * color1.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;3&gt;(),</div>
<div class="line"><span class="lineno">  248</span>                    diffcolor.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;3&gt;());</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> alpha_scaled_diffcolor_sq = alpha_scaled_diffcolor * alpha_scaled_diffcolor;</div>
<div class="line"><span class="lineno">  251</span>                alpha_scaled_errorsum += alpha_scaled_diffcolor_sq;</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>                <span class="keywordflow">if</span> (compute_hdr_metrics)</div>
<div class="line"><span class="lineno">  254</span>                {</div>
<div class="line"><span class="lineno">  255</span>                    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> log_input_color1 = <a class="code hl_function" href="astcenc__vecmathlib_8h.html#a77245e9181fb31efa0a97cfbf4084e5e">log2</a>(color1);</div>
<div class="line"><span class="lineno">  256</span>                    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> log_input_color2 = <a class="code hl_function" href="astcenc__vecmathlib_8h.html#a77245e9181fb31efa0a97cfbf4084e5e">log2</a>(color2);</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>                    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> log_diffcolor = log_input_color1 - log_input_color2;</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>                    log_errorsum += log_diffcolor * log_diffcolor;</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>                    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> mpsnr_error = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(</div>
<div class="line"><span class="lineno">  263</span>                        <a class="code hl_function" href="astcenccli__error__metrics_8cpp.html#a9e0a98a390f6b1399d67fe4005866da8">mpsnr_sumdiff</a>(color1.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;0&gt;(), color2.lane&lt;0&gt;(), fstop_lo, fstop_hi),</div>
<div class="line"><span class="lineno">  264</span>                        <a class="code hl_function" href="astcenccli__error__metrics_8cpp.html#a9e0a98a390f6b1399d67fe4005866da8">mpsnr_sumdiff</a>(color1.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;1&gt;(), color2.lane&lt;1&gt;(), fstop_lo, fstop_hi),</div>
<div class="line"><span class="lineno">  265</span>                        <a class="code hl_function" href="astcenccli__error__metrics_8cpp.html#a9e0a98a390f6b1399d67fe4005866da8">mpsnr_sumdiff</a>(color1.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;2&gt;(), color2.lane&lt;2&gt;(), fstop_lo, fstop_hi),</div>
<div class="line"><span class="lineno">  266</span>                        <a class="code hl_function" href="astcenccli__error__metrics_8cpp.html#a9e0a98a390f6b1399d67fe4005866da8">mpsnr_sumdiff</a>(color1.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;3&gt;(), color2.lane&lt;3&gt;(), fstop_lo, fstop_hi));</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>                    mpsnr_errorsum += mpsnr_error;</div>
<div class="line"><span class="lineno">  269</span>                }</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>                <span class="keywordflow">if</span> (compute_normal_metrics)</div>
<div class="line"><span class="lineno">  272</span>                {</div>
<div class="line"><span class="lineno">  273</span>                    <span class="comment">// Decode the normal vector</span></div>
<div class="line"><span class="lineno">  274</span>                    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> normal1 = (color1 - 0.5f) * 2.0f;</div>
<div class="line"><span class="lineno">  275</span>                    normal1 = <a class="code hl_function" href="astcenc__vecmathlib_8h.html#a3b0e8ae23a514219217b72164a7909a4">normalize_safe</a>(normal1.<a class="code hl_function" href="structvfloat4.html#a0a3e390831722cc8e54f29155699f3a5">swz</a>&lt;0, 1, 2&gt;(), <a class="code hl_function" href="astcenc__vecmathlib_8h.html#a3cf3e0218d808e69f31668dbc458dc08">unit3</a>());</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>                    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> normal2 = (color2 - 0.5f) * 2.0f;</div>
<div class="line"><span class="lineno">  278</span>                    normal2 = <a class="code hl_function" href="astcenc__vecmathlib_8h.html#a3b0e8ae23a514219217b72164a7909a4">normalize_safe</a>(normal2.<a class="code hl_function" href="structvfloat4.html#a0a3e390831722cc8e54f29155699f3a5">swz</a>&lt;0, 1, 2&gt;(), <a class="code hl_function" href="astcenc__vecmathlib_8h.html#a3cf3e0218d808e69f31668dbc458dc08">unit3</a>());</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>                    <span class="comment">// Float error can push this outside of valid range for acos, so clamp to avoid NaN issues</span></div>
<div class="line"><span class="lineno">  281</span>                    <span class="keywordtype">float</span> normal_cos = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e">clamp</a>(-1.0f, 1.0f, <a class="code hl_function" href="astcenc__vecmathlib__common__4_8h.html#ae36c7167bc89ff2bf984c1a912526dcb">dot3</a>(normal1, normal2)).<a class="code hl_function" href="structvfloat8.html#a550f9d3958113f0ec64c7e52c422132d">lane</a>&lt;0&gt;();</div>
<div class="line"><span class="lineno">  282</span>                    <span class="keywordtype">float</span> rad_to_degrees = 180.0f / <a class="code hl_variable" href="namespaceastc.html#a7b7581e8dda9382d1d6effd9c4925065">astc::PI</a>;</div>
<div class="line"><span class="lineno">  283</span>                    <span class="keywordtype">double</span> error_degrees = std::acos(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(normal_cos)) * <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(rad_to_degrees);</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>                    mean_angular_errorsum += error_degrees / (dim_x * dim_y * dim_z);</div>
<div class="line"><span class="lineno">  286</span>                    worst_angular_errorsum = <a class="code hl_function" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f">astc::max</a>(worst_angular_errorsum, error_degrees);</div>
<div class="line"><span class="lineno">  287</span>                }</div>
<div class="line"><span class="lineno">  288</span>            }</div>
<div class="line"><span class="lineno">  289</span>        }</div>
<div class="line"><span class="lineno">  290</span>    }</div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>    <span class="keywordtype">double</span> pixels = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(dim_x * dim_y * dim_z);</div>
<div class="line"><span class="lineno">  293</span>    <span class="keywordtype">double</span> samples = 0.0;</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <span class="keywordtype">double</span> num = 0.0;</div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordtype">double</span> alpha_num = 0.0;</div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordtype">double</span> log_num = 0.0;</div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordtype">double</span> mpsnr_num = 0.0;</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    <span class="keywordflow">if</span> (componentmask &amp; 1)</div>
<div class="line"><span class="lineno">  301</span>    {</div>
<div class="line"><span class="lineno">  302</span>        num += errorsum.<a class="code hl_variable" href="classerror__accum4.html#adda196a39fba65e9cc8287b4d6f7756a">sum_r</a>;</div>
<div class="line"><span class="lineno">  303</span>        alpha_num += alpha_scaled_errorsum.<a class="code hl_variable" href="classerror__accum4.html#adda196a39fba65e9cc8287b4d6f7756a">sum_r</a>;</div>
<div class="line"><span class="lineno">  304</span>        log_num += log_errorsum.<a class="code hl_variable" href="classerror__accum4.html#adda196a39fba65e9cc8287b4d6f7756a">sum_r</a>;</div>
<div class="line"><span class="lineno">  305</span>        mpsnr_num += mpsnr_errorsum.<a class="code hl_variable" href="classerror__accum4.html#adda196a39fba65e9cc8287b4d6f7756a">sum_r</a>;</div>
<div class="line"><span class="lineno">  306</span>        samples += pixels;</div>
<div class="line"><span class="lineno">  307</span>    }</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>    <span class="keywordflow">if</span> (componentmask &amp; 2)</div>
<div class="line"><span class="lineno">  310</span>    {</div>
<div class="line"><span class="lineno">  311</span>        num += errorsum.<a class="code hl_variable" href="classerror__accum4.html#a84566c5eb0b66dc66f5d4ca064de137f">sum_g</a>;</div>
<div class="line"><span class="lineno">  312</span>        alpha_num += alpha_scaled_errorsum.<a class="code hl_variable" href="classerror__accum4.html#a84566c5eb0b66dc66f5d4ca064de137f">sum_g</a>;</div>
<div class="line"><span class="lineno">  313</span>        log_num += log_errorsum.<a class="code hl_variable" href="classerror__accum4.html#a84566c5eb0b66dc66f5d4ca064de137f">sum_g</a>;</div>
<div class="line"><span class="lineno">  314</span>        mpsnr_num += mpsnr_errorsum.<a class="code hl_variable" href="classerror__accum4.html#a84566c5eb0b66dc66f5d4ca064de137f">sum_g</a>;</div>
<div class="line"><span class="lineno">  315</span>        samples += pixels;</div>
<div class="line"><span class="lineno">  316</span>    }</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">if</span> (componentmask &amp; 4)</div>
<div class="line"><span class="lineno">  319</span>    {</div>
<div class="line"><span class="lineno">  320</span>        num += errorsum.<a class="code hl_variable" href="classerror__accum4.html#a74442d4adfe6a20ba9713d4d9ba81e74">sum_b</a>;</div>
<div class="line"><span class="lineno">  321</span>        alpha_num += alpha_scaled_errorsum.<a class="code hl_variable" href="classerror__accum4.html#a74442d4adfe6a20ba9713d4d9ba81e74">sum_b</a>;</div>
<div class="line"><span class="lineno">  322</span>        log_num += log_errorsum.<a class="code hl_variable" href="classerror__accum4.html#a74442d4adfe6a20ba9713d4d9ba81e74">sum_b</a>;</div>
<div class="line"><span class="lineno">  323</span>        mpsnr_num += mpsnr_errorsum.<a class="code hl_variable" href="classerror__accum4.html#a74442d4adfe6a20ba9713d4d9ba81e74">sum_b</a>;</div>
<div class="line"><span class="lineno">  324</span>        samples += pixels;</div>
<div class="line"><span class="lineno">  325</span>    }</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>    <span class="keywordflow">if</span> (componentmask &amp; 8)</div>
<div class="line"><span class="lineno">  328</span>    {</div>
<div class="line"><span class="lineno">  329</span>        num += errorsum.<a class="code hl_variable" href="classerror__accum4.html#aa8e1133f0001609343aa7a5ce3a60d61">sum_a</a>;</div>
<div class="line"><span class="lineno">  330</span>        alpha_num += alpha_scaled_errorsum.<a class="code hl_variable" href="classerror__accum4.html#aa8e1133f0001609343aa7a5ce3a60d61">sum_a</a>;</div>
<div class="line"><span class="lineno">  331</span>        samples += pixels;</div>
<div class="line"><span class="lineno">  332</span>    }</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordtype">double</span> denom = samples;</div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordtype">double</span> stopcount = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(fstop_hi - fstop_lo + 1);</div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordtype">double</span> mpsnr_denom = pixels * 3.0 * stopcount * 255.0 * 255.0;</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordtype">double</span> psnr;</div>
<div class="line"><span class="lineno">  339</span>    <span class="keywordflow">if</span> (num == 0.0)</div>
<div class="line"><span class="lineno">  340</span>    {</div>
<div class="line"><span class="lineno">  341</span>        psnr = 999.0;</div>
<div class="line"><span class="lineno">  342</span>    }</div>
<div class="line"><span class="lineno">  343</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  344</span>    {</div>
<div class="line"><span class="lineno">  345</span>        psnr = 10.0 * log10(denom / num);</div>
<div class="line"><span class="lineno">  346</span>    }</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>    <span class="keywordtype">double</span> rgb_psnr = psnr;</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>    printf(<span class="stringliteral">&quot;Quality metrics\n&quot;</span>);</div>
<div class="line"><span class="lineno">  351</span>    printf(<span class="stringliteral">&quot;===============\n\n&quot;</span>);</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">if</span> (componentmask &amp; 8)</div>
<div class="line"><span class="lineno">  354</span>    {</div>
<div class="line"><span class="lineno">  355</span>        printf(<span class="stringliteral">&quot;    PSNR (LDR-RGBA):          %9.4f dB\n&quot;</span>, psnr);</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>        <span class="keywordtype">double</span> alpha_psnr;</div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordflow">if</span> (alpha_num == 0.0)</div>
<div class="line"><span class="lineno">  359</span>        {</div>
<div class="line"><span class="lineno">  360</span>            alpha_psnr = 999.0;</div>
<div class="line"><span class="lineno">  361</span>        }</div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  363</span>        {</div>
<div class="line"><span class="lineno">  364</span>            alpha_psnr = 10.0 * log10(denom / alpha_num);</div>
<div class="line"><span class="lineno">  365</span>        }</div>
<div class="line"><span class="lineno">  366</span>        printf(<span class="stringliteral">&quot;    Alpha-weighted PSNR:      %9.4f dB\n&quot;</span>, alpha_psnr);</div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>        <span class="keywordtype">double</span> rgb_num = errorsum.<a class="code hl_variable" href="classerror__accum4.html#adda196a39fba65e9cc8287b4d6f7756a">sum_r</a> + errorsum.<a class="code hl_variable" href="classerror__accum4.html#a84566c5eb0b66dc66f5d4ca064de137f">sum_g</a> + errorsum.<a class="code hl_variable" href="classerror__accum4.html#a74442d4adfe6a20ba9713d4d9ba81e74">sum_b</a>;</div>
<div class="line"><span class="lineno">  369</span>        <span class="keywordflow">if</span> (rgb_num == 0.0)</div>
<div class="line"><span class="lineno">  370</span>        {</div>
<div class="line"><span class="lineno">  371</span>            rgb_psnr = 999.0;</div>
<div class="line"><span class="lineno">  372</span>        }</div>
<div class="line"><span class="lineno">  373</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  374</span>        {</div>
<div class="line"><span class="lineno">  375</span>            rgb_psnr = 10.0 * log10(pixels * 3.0 / rgb_num);</div>
<div class="line"><span class="lineno">  376</span>        }</div>
<div class="line"><span class="lineno">  377</span>        printf(<span class="stringliteral">&quot;    PSNR (LDR-RGB):           %9.4f dB\n&quot;</span>, rgb_psnr);</div>
<div class="line"><span class="lineno">  378</span>    }</div>
<div class="line"><span class="lineno">  379</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  380</span>    {</div>
<div class="line"><span class="lineno">  381</span>        printf(<span class="stringliteral">&quot;    PSNR (LDR-RGB):           %9.4f dB\n&quot;</span>, psnr);</div>
<div class="line"><span class="lineno">  382</span>    }</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span>    <span class="keywordflow">if</span> (compute_hdr_metrics)</div>
<div class="line"><span class="lineno">  385</span>    {</div>
<div class="line"><span class="lineno">  386</span>        printf(<span class="stringliteral">&quot;    PSNR (RGB norm to peak):  %9.4f dB (peak %f)\n&quot;</span>,</div>
<div class="line"><span class="lineno">  387</span>               rgb_psnr + 20.0 * log10(rgb_peak), rgb_peak);</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordtype">double</span> mpsnr;</div>
<div class="line"><span class="lineno">  390</span>        <span class="keywordflow">if</span> (mpsnr_num == 0.0)</div>
<div class="line"><span class="lineno">  391</span>        {</div>
<div class="line"><span class="lineno">  392</span>            mpsnr = 999.0;</div>
<div class="line"><span class="lineno">  393</span>        }</div>
<div class="line"><span class="lineno">  394</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  395</span>        {</div>
<div class="line"><span class="lineno">  396</span>            mpsnr = 10.0 * log10(mpsnr_denom / mpsnr_num);</div>
<div class="line"><span class="lineno">  397</span>        }</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>        printf(<span class="stringliteral">&quot;    mPSNR (RGB):              %9.4f dB (fstops %+d to %+d)\n&quot;</span>,</div>
<div class="line"><span class="lineno">  400</span>               mpsnr, fstop_lo, fstop_hi);</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>        <span class="keywordtype">double</span> logrmse = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a46b31b19ff13c14adb023db4b5df8e52">sqrt</a>(log_num / pixels);</div>
<div class="line"><span class="lineno">  403</span>        printf(<span class="stringliteral">&quot;    LogRMSE (RGB):            %9.4f\n&quot;</span>, logrmse);</div>
<div class="line"><span class="lineno">  404</span>    }</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>    <span class="keywordflow">if</span> (compute_normal_metrics)</div>
<div class="line"><span class="lineno">  407</span>    {</div>
<div class="line"><span class="lineno">  408</span>        printf(<span class="stringliteral">&quot;    Mean Angular Error:       %9.4f degrees\n&quot;</span>, mean_angular_errorsum);</div>
<div class="line"><span class="lineno">  409</span>        printf(<span class="stringliteral">&quot;    Worst Angular Error:      %9.4f degrees\n&quot;</span>, worst_angular_errorsum);</div>
<div class="line"><span class="lineno">  410</span>    }</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  413</span>}</div>
<div class="ttc" id="aastcenc__vecmathlib_8h_html_a3b0e8ae23a514219217b72164a7909a4"><div class="ttname"><a href="astcenc__vecmathlib_8h.html#a3b0e8ae23a514219217b72164a7909a4">normalize_safe</a></div><div class="ttdeci">static ASTCENC_SIMD_INLINE vfloat4 normalize_safe(vfloat4 a, vfloat4 safe)</div><div class="ttdoc">Normalize a vector, returning safe if len is zero.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib_8h_source.html#l00300">astcenc_vecmathlib.h:300</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib_8h_html_a3cf3e0218d808e69f31668dbc458dc08"><div class="ttname"><a href="astcenc__vecmathlib_8h.html#a3cf3e0218d808e69f31668dbc458dc08">unit3</a></div><div class="ttdeci">static ASTCENC_SIMD_INLINE vfloat4 unit3()</div><div class="ttdoc">Factory that returns a unit length 3 component vfloat4.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib_8h_source.html#l00257">astcenc_vecmathlib.h:257</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib_8h_html_a77245e9181fb31efa0a97cfbf4084e5e"><div class="ttname"><a href="astcenc__vecmathlib_8h.html#a77245e9181fb31efa0a97cfbf4084e5e">log2</a></div><div class="ttdeci">static ASTCENC_SIMD_INLINE vfloat4 log2(vfloat4 x)</div><div class="ttdoc">Compute an approximate log2(x) for each lane in the vector.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib_8h_source.html#l00354">astcenc_vecmathlib.h:354</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a46b31b19ff13c14adb023db4b5df8e52"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a46b31b19ff13c14adb023db4b5df8e52">sqrt</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vfloat8 sqrt(vfloat8 a)</div><div class="ttdoc">Return the sqrt of the lanes in the vector.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00969">astcenc_vecmathlib_avx2_8.h:969</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_ae91c0bb0ebd82ed2a7fa7aa915f6e76e"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e">clamp</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vfloat8 clamp(float min, float max, vfloat8 a)</div><div class="ttdoc">Return the clamped value between min and max.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00781">astcenc_vecmathlib_avx2_8.h:781</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__common__4_8h_html_ae36c7167bc89ff2bf984c1a912526dcb"><div class="ttname"><a href="astcenc__vecmathlib__common__4_8h.html#ae36c7167bc89ff2bf984c1a912526dcb">dot3</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vfloat4 dot3(vfloat4 a, vfloat4 b)</div><div class="ttdoc">Return the dot product for the bottom 3 lanes, returning vector.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__common__4_8h_source.html#l00330">astcenc_vecmathlib_common_4.h:330</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__neon__4_8h_html_afd7aa2069bdf377067c3abaca1256432"><div class="ttname"><a href="astcenc__vecmathlib__neon__4_8h.html#afd7aa2069bdf377067c3abaca1256432">float16_to_float</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vfloat4 float16_to_float(vint4 a)</div><div class="ttdoc">Return a float value for a float16 vector.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00909">astcenc_vecmathlib_neon_4.h:909</a></div></div>
<div class="ttc" id="aastcenccli__error__metrics_8cpp_html_a9e0a98a390f6b1399d67fe4005866da8"><div class="ttname"><a href="astcenccli__error__metrics_8cpp.html#a9e0a98a390f6b1399d67fe4005866da8">mpsnr_sumdiff</a></div><div class="ttdeci">static float mpsnr_sumdiff(float val1, float val2, int fstop_lo, int fstop_hi)</div><div class="ttdoc">mPSNR difference between two values.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__error__metrics_8cpp_source.html#l00092">astcenccli_error_metrics.cpp:92</a></div></div>
<div class="ttc" id="aclasserror__accum4_html"><div class="ttname"><a href="classerror__accum4.html">error_accum4</a></div><div class="ttdoc">Functions for computing image error metrics.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__error__metrics_8cpp_source.html#l00030">astcenccli_error_metrics.cpp:31</a></div></div>
<div class="ttc" id="aclasserror__accum4_html_a74442d4adfe6a20ba9713d4d9ba81e74"><div class="ttname"><a href="classerror__accum4.html#a74442d4adfe6a20ba9713d4d9ba81e74">error_accum4::sum_b</a></div><div class="ttdeci">double sum_b</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__error__metrics_8cpp_source.html#l00036">astcenccli_error_metrics.cpp:36</a></div></div>
<div class="ttc" id="aclasserror__accum4_html_a84566c5eb0b66dc66f5d4ca064de137f"><div class="ttname"><a href="classerror__accum4.html#a84566c5eb0b66dc66f5d4ca064de137f">error_accum4::sum_g</a></div><div class="ttdeci">double sum_g</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__error__metrics_8cpp_source.html#l00035">astcenccli_error_metrics.cpp:35</a></div></div>
<div class="ttc" id="aclasserror__accum4_html_aa8e1133f0001609343aa7a5ce3a60d61"><div class="ttname"><a href="classerror__accum4.html#aa8e1133f0001609343aa7a5ce3a60d61">error_accum4::sum_a</a></div><div class="ttdeci">double sum_a</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__error__metrics_8cpp_source.html#l00037">astcenccli_error_metrics.cpp:37</a></div></div>
<div class="ttc" id="aclasserror__accum4_html_adda196a39fba65e9cc8287b4d6f7756a"><div class="ttname"><a href="classerror__accum4.html#adda196a39fba65e9cc8287b4d6f7756a">error_accum4::sum_r</a></div><div class="ttdeci">double sum_r</div><div class="ttdoc">The running sum.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__error__metrics_8cpp_source.html#l00034">astcenccli_error_metrics.cpp:34</a></div></div>
<div class="ttc" id="anamespaceastc_html_a7b7581e8dda9382d1d6effd9c4925065"><div class="ttname"><a href="namespaceastc.html#a7b7581e8dda9382d1d6effd9c4925065">astc::PI</a></div><div class="ttdeci">static const float PI</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00121">astcenc_mathlib.h:121</a></div></div>
<div class="ttc" id="anamespaceastc_html_a83a55552d03399cdff6cf2fed8312c9f"><div class="ttname"><a href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f">astc::max</a></div><div class="ttdeci">static T max(T p, T q)</div><div class="ttdoc">Return the maximum of two values.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00210">astcenc_mathlib.h:210</a></div></div>
<div class="ttc" id="astructvfloat4_html_a04462a7815432c6bc3ce1b5e5d11e4fc"><div class="ttname"><a href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">vfloat4::lane</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE float lane() const</div><div class="ttdoc">Get the scalar value of a single lane.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00100">astcenc_vecmathlib_neon_4.h:100</a></div></div>
<div class="ttc" id="astructvfloat4_html_a0a3e390831722cc8e54f29155699f3a5"><div class="ttname"><a href="structvfloat4.html#a0a3e390831722cc8e54f29155699f3a5">vfloat4::swz</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vfloat4 swz() const</div><div class="ttdoc">Return a swizzled float 2.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00149">astcenc_vecmathlib_neon_4.h:149</a></div></div>
<div class="ttc" id="astructvfloat8_html_a550f9d3958113f0ec64c7e52c422132d"><div class="ttname"><a href="structvfloat8.html#a550f9d3958113f0ec64c7e52c422132d">vfloat8::lane</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE float lane() const</div><div class="ttdoc">Get the scalar value of a single lane.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00100">astcenc_vecmathlib_avx2_8.h:100</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a478be461420681d7c83aa89569ea92c4_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_a478be461420681d7c83aa89569ea92c4_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a478be461420681d7c83aa89569ea92c4_cgraph" id="aastcenccli__internal_8h_a478be461420681d7c83aa89569ea92c4_cgraph">
<area shape="rect" title="Compute error metrics comparing two images." alt="" coords="5,355,160,380"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e" title="Return the clamped value between min and max." alt="" coords="234,55,291,80"/>
<area shape="poly" title=" " alt="" coords="84,354,96,306,119,237,155,160,178,124,206,91,220,80,223,85,210,95,183,127,159,163,123,239,101,308,89,355"/>
<area shape="rect" href="astcenc__vecmathlib__common__4_8h.html#ae36c7167bc89ff2bf984c1a912526dcb" title="Return the dot product for the bottom 3 lanes, returning vector." alt="" coords="239,104,286,129"/>
<area shape="poly" title=" " alt="" coords="85,353,100,313,125,257,160,196,182,166,206,140,225,127,228,131,210,144,186,170,164,198,129,259,105,315,90,355"/>
<area shape="rect" href="astcenc__vecmathlib__neon__4_8h.html#afd7aa2069bdf377067c3abaca1256432" title="Return a float value for a float16 vector." alt="" coords="208,153,317,179"/>
<area shape="poly" title=" " alt="" coords="88,353,131,278,165,231,206,189,214,184,217,188,210,193,169,235,135,281,92,356"/>
<area shape="rect" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc" title="Get the scalar value of a single lane." alt="" coords="376,253,467,279"/>
<area shape="poly" title=" " alt="" coords="99,352,145,320,175,304,207,290,247,279,287,271,362,264,363,269,288,277,248,284,209,295,178,308,148,325,102,357"/>
<area shape="rect" href="structvfloat8.html#a550f9d3958113f0ec64c7e52c422132d" title="Get the scalar value of a single lane." alt="" coords="217,405,308,431"/>
<area shape="poly" title=" " alt="" coords="129,378,205,399,203,404,128,383"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a77245e9181fb31efa0a97cfbf4084e5e" title="Compute an approximate log2(x) for each lane in the vector." alt="" coords="239,455,286,480"/>
<area shape="poly" title=" " alt="" coords="105,378,209,441,228,450,226,455,207,446,102,383"/>
<area shape="rect" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f" title="Return the maximum of two values." alt="" coords="223,504,303,529"/>
<area shape="poly" title=" " alt="" coords="96,378,142,431,174,462,210,490,217,495,214,500,206,495,171,466,138,435,92,382"/>
<area shape="rect" href="namespaceastc.html#af78c0d31374aa9923633a3a2abf8d738" title="Return the minimum of two values." alt="" coords="225,553,301,579"/>
<area shape="poly" title=" " alt="" coords="92,379,135,453,169,499,210,540,215,544,212,548,206,544,165,503,131,456,88,381"/>
<area shape="rect" href="astcenccli__error__metrics_8cpp.html#a9e0a98a390f6b1399d67fe4005866da8" title="mPSNR difference between two values." alt="" coords="209,603,316,628"/>
<area shape="poly" title=" " alt="" coords="90,379,105,419,129,475,164,535,186,564,210,589,214,593,211,597,206,593,182,567,160,538,124,477,100,421,85,381"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a3b0e8ae23a514219217b72164a7909a4" title="Normalize a vector, returning safe if len is zero." alt="" coords="208,203,317,228"/>
<area shape="poly" title=" " alt="" coords="94,353,141,303,206,245,224,233,227,237,210,249,145,307,97,356"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a46b31b19ff13c14adb023db4b5df8e52" title="Return the sqrt of the lanes in the vector." alt="" coords="399,353,443,379"/>
<area shape="poly" title=" " alt="" coords="160,364,386,363,386,369,160,370"/>
<area shape="rect" href="structvfloat4.html#a0a3e390831722cc8e54f29155699f3a5" title="Return a swizzled float 2." alt="" coords="218,304,307,329"/>
<area shape="poly" title=" " alt="" coords="128,352,204,330,206,335,129,357"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a3cf3e0218d808e69f31668dbc458dc08" title="Factory that returns a unit length 3 component vfloat4." alt="" coords="237,652,288,677"/>
<area shape="poly" title=" " alt="" coords="89,379,100,427,123,496,159,571,182,607,210,639,226,650,223,655,206,643,178,610,154,574,118,498,95,428,84,381"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aa162915c044e97cc1f6d630338761fd3" title="Return the max vector of two vectors." alt="" coords="398,5,445,31"/>
<area shape="poly" title=" " alt="" coords="291,56,384,27,386,32,292,61"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a165b3db4e7ced1551e1880a01a01150b" title="Return the min vector of two vectors." alt="" coords="400,55,443,80"/>
<area shape="poly" title=" " alt="" coords="292,65,386,65,386,70,292,70"/>
<area shape="rect" href="astcenc__vecmathlib__common__4_8h.html#a48e833d0cfdf950b6bc3431fce00507e" title="Return the horizontal sum of RGB vector lanes as a scalar." alt="" coords="377,104,466,129"/>
<area shape="poly" title=" " alt="" coords="286,114,363,114,363,119,286,119"/>
<area shape="rect" href="structvint4.html#a01e3f7debf73dc6c757fa36d585c9d17" title="Get the scalar from a single lane." alt="" coords="531,104,611,129"/>
<area shape="poly" title=" " alt="" coords="466,114,517,114,517,119,466,119"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a5c2db475754d8da42d9b685a45c48ab8" title="Return a float value as an integer bit pattern (i.e. no conversion)." alt="" coords="377,404,465,429"/>
<area shape="poly" title=" " alt="" coords="285,458,367,431,369,436,287,463"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ac584d4929db078403c58549bafd3c1cd" title="Return a integer value as a float bit pattern (i.e. no conversion)." alt="" coords="377,453,465,479"/>
<area shape="poly" title=" " alt="" coords="286,464,363,464,363,469,286,470"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a3a2ce0fb403294db7fe126a6b3e87ab7" title="Return a float value for an integer vector." alt="" coords="379,503,464,528"/>
<area shape="poly" title=" " alt="" coords="287,472,367,496,365,501,285,477"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a0a3a7d755cec1c73d0ce9c50b33bc207" title="Logical shift right." alt="" coords="402,552,441,577"/>
<area shape="poly" title=" " alt="" coords="287,474,319,491,343,515,353,527,367,538,390,551,388,556,364,543,349,530,339,519,316,495,285,478"/>
<area shape="rect" href="astcenccli__error__metrics_8cpp.html#a4504544fb13100fa0507716d5c7708c8" title="mPSNR tone&#45;mapping operator for HDR images." alt="" coords="365,603,477,628"/>
<area shape="poly" title=" " alt="" coords="316,613,351,613,351,618,316,618"/>
<area shape="rect" href="namespaceastc.html#a8f8b2ad23b04a389f6785bc80b61349b" title="Clamp a value value between mn and mx." alt="" coords="525,603,616,628"/>
<area shape="poly" title=" " alt="" coords="478,613,511,613,511,618,478,618"/>
<area shape="poly" title=" " alt="" coords="304,226,369,247,367,252,303,231"/>
<area shape="rect" href="astcenc__vecmathlib__common__4_8h.html#a6d7561f8f0ebee752b0e217101d9d5f3" title="Return the dot product for the full 4 lanes, returning vector." alt="" coords="401,203,441,228"/>
<area shape="poly" title=" " alt="" coords="318,213,388,213,388,218,318,218"/>
<area shape="poly" title=" " alt="" coords="275,227,321,288,367,340,388,352,385,357,364,344,317,291,271,230"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aacd26478e4fe1f97a5d47e8adaacc898" title="Return the horizontal sum of a vector." alt="" coords="539,203,603,228"/>
<area shape="poly" title=" " alt="" coords="442,213,525,213,525,218,442,218"/>
<area shape="poly" title=" " alt="" coords="545,204,540,194,543,185,553,178,571,176,591,180,600,188,596,192,589,184,571,181,555,183,547,188,545,194,550,201"/>
<area shape="poly" title=" " alt="" coords="303,301,367,280,369,285,304,306"/>
<area shape="rect" href="structvfloat4.html#a9df51cb30b68d6d51ca607e64aa1ebf0" title="Construct from zero&#45;initialized value." alt="" coords="370,304,473,329"/>
<area shape="poly" title=" " alt="" coords="307,314,356,314,356,319,307,319"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a478be461420681d7c83aa89569ea92c4_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a478be461420681d7c83aa89569ea92c4_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a478be461420681d7c83aa89569ea92c4_icgraph" id="aastcenccli__internal_8h_a478be461420681d7c83aa89569ea92c4_icgraph">
<area shape="rect" title="Compute error metrics comparing two images." alt="" coords="255,5,409,31"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="241,21,207,21,207,15,241,15"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
</map>
</div>

</div>
</div>
<a id="add1dea8ff2bad1b823a131776f37ee83" name="add1dea8ff2bad1b823a131776f37ee83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add1dea8ff2bad1b823a131776f37ee83">&#9670;&#160;</a></span>determine_image_components()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int determine_image_components </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structastcenc__image.html">astcenc_image</a> *</td>          <td class="paramname"><span class="paramname"><em>img</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the number of active components in an image. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The image to analyze.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>The number of active components in the image. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__image_8cpp_source.html">astcenccli_image.cpp</a> 파일의 <a class="el" href="astcenccli__image_8cpp_source.html#l00089">89</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   90</span>{</div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_x = img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>;</div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_y = img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a>;</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_z = img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a>;</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>    <span class="comment">// Scan through the image data to determine how many color components the image has</span></div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordtype">bool</span> is_luma = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordtype">bool</span> has_alpha = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">if</span> (img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aa91ac7b6329d0a39c879dff7a1bcdf759">ASTCENC_TYPE_U8</a>)</div>
<div class="line"><span class="lineno">  100</span>    {</div>
<div class="line"><span class="lineno">  101</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z = 0; z &lt; dim_z; z++)</div>
<div class="line"><span class="lineno">  102</span>        {</div>
<div class="line"><span class="lineno">  103</span>            uint8_t* data8 = <span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z]);</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y = 0; y &lt; dim_y; y++)</div>
<div class="line"><span class="lineno">  106</span>            {</div>
<div class="line"><span class="lineno">  107</span>                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; dim_x; x++)</div>
<div class="line"><span class="lineno">  108</span>                {</div>
<div class="line"><span class="lineno">  109</span>                    <span class="keywordtype">int</span> r = data8[(4 * dim_x * y) + (4 * x    )];</div>
<div class="line"><span class="lineno">  110</span>                    <span class="keywordtype">int</span> g = data8[(4 * dim_x * y) + (4 * x + 1)];</div>
<div class="line"><span class="lineno">  111</span>                    <span class="keywordtype">int</span> b = data8[(4 * dim_x * y) + (4 * x + 2)];</div>
<div class="line"><span class="lineno">  112</span>                    <span class="keywordtype">int</span> a = data8[(4 * dim_x * y) + (4 * x + 3)];</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>                    is_luma = is_luma &amp;&amp; (r == g) &amp;&amp; (r == b);</div>
<div class="line"><span class="lineno">  115</span>                    has_alpha = has_alpha || (a != 0xFF);</div>
<div class="line"><span class="lineno">  116</span>                }</div>
<div class="line"><span class="lineno">  117</span>            }</div>
<div class="line"><span class="lineno">  118</span>        }</div>
<div class="line"><span class="lineno">  119</span>    }</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aad39e16b7f2e55ed676ce400619f0759d">ASTCENC_TYPE_F16</a>)</div>
<div class="line"><span class="lineno">  121</span>    {</div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z = 0; z &lt; dim_z; z++)</div>
<div class="line"><span class="lineno">  123</span>        {</div>
<div class="line"><span class="lineno">  124</span>            uint16_t* data16 = <span class="keyword">static_cast&lt;</span>uint16_t*<span class="keyword">&gt;</span>(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z]);</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y = 0; y &lt; dim_y; y++)</div>
<div class="line"><span class="lineno">  127</span>            {</div>
<div class="line"><span class="lineno">  128</span>                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; dim_x; x++)</div>
<div class="line"><span class="lineno">  129</span>                {</div>
<div class="line"><span class="lineno">  130</span>                    <span class="keywordtype">int</span> r = data16[(4 * dim_x * y) + (4 * x    )];</div>
<div class="line"><span class="lineno">  131</span>                    <span class="keywordtype">int</span> g = data16[(4 * dim_x * y) + (4 * x + 1)];</div>
<div class="line"><span class="lineno">  132</span>                    <span class="keywordtype">int</span> b = data16[(4 * dim_x * y) + (4 * x + 2)];</div>
<div class="line"><span class="lineno">  133</span>                    <span class="keywordtype">int</span> a = data16[(4 * dim_x * y) + (4 * x + 3)];</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>                    is_luma = is_luma &amp;&amp; (r == g) &amp;&amp; (r == b);</div>
<div class="line"><span class="lineno">  136</span>                    has_alpha = has_alpha || ((a ^ 0xC3FF) != 0xFFFF);</div>
<div class="line"><span class="lineno">  137</span>                    <span class="comment">// a ^ 0xC3FF returns FFFF if and only if the input is 1.0</span></div>
<div class="line"><span class="lineno">  138</span>                }</div>
<div class="line"><span class="lineno">  139</span>            }</div>
<div class="line"><span class="lineno">  140</span>        }</div>
<div class="line"><span class="lineno">  141</span>    }</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">else</span> <span class="comment">// if (img-&gt;data_type == ASTCENC_TYPE_F32)</span></div>
<div class="line"><span class="lineno">  143</span>    {</div>
<div class="line"><span class="lineno">  144</span>        assert(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aaf996e38de0e0ac57175c09da275c6062">ASTCENC_TYPE_F32</a>);</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z = 0; z &lt; dim_z; z++)</div>
<div class="line"><span class="lineno">  147</span>        {</div>
<div class="line"><span class="lineno">  148</span>            <span class="keywordtype">float</span>* data32 = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span>*<span class="keyword">&gt;</span>(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z]);</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y = 0; y &lt; dim_y; y++)</div>
<div class="line"><span class="lineno">  151</span>            {</div>
<div class="line"><span class="lineno">  152</span>                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; dim_x; x++)</div>
<div class="line"><span class="lineno">  153</span>                {</div>
<div class="line"><span class="lineno">  154</span>                    <span class="keywordtype">float</span> r = data32[(4 * dim_x * y) + (4 * x    )];</div>
<div class="line"><span class="lineno">  155</span>                    <span class="keywordtype">float</span> g = data32[(4 * dim_x * y) + (4 * x + 1)];</div>
<div class="line"><span class="lineno">  156</span>                    <span class="keywordtype">float</span> b = data32[(4 * dim_x * y) + (4 * x + 2)];</div>
<div class="line"><span class="lineno">  157</span>                    <span class="keywordtype">float</span> a = data32[(4 * dim_x * y) + (4 * x + 3)];</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>                    is_luma = is_luma &amp;&amp; (r == g) &amp;&amp; (r == b);</div>
<div class="line"><span class="lineno">  160</span>                    has_alpha = has_alpha || (a != 1.0f);</div>
<div class="line"><span class="lineno">  161</span>                }</div>
<div class="line"><span class="lineno">  162</span>            }</div>
<div class="line"><span class="lineno">  163</span>        }</div>
<div class="line"><span class="lineno">  164</span>    }</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordtype">int</span> image_components = 1 + (is_luma == 0 ? 2 : 0) + (has_alpha ? 1 : 0);</div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">return</span> image_components;</div>
<div class="line"><span class="lineno">  168</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_add1dea8ff2bad1b823a131776f37ee83_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_add1dea8ff2bad1b823a131776f37ee83_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_add1dea8ff2bad1b823a131776f37ee83_icgraph" id="aastcenccli__internal_8h_add1dea8ff2bad1b823a131776f37ee83_icgraph">
<area shape="rect" title="Determine the number of active components in an image." alt="" coords="224,45,423,70"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a58481143bfd595c8ec38d36535de4573" title="Save a DDS uncompressed image using a local store routine." alt="" coords="5,5,176,45"/>
<area shape="poly" title=" " alt="" coords="217,45,176,40,177,34,217,40"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a326457caa1a35cb6b4e25af4b6a5f064" title="Save a KTX uncompressed image using a local store routine." alt="" coords="7,69,175,109"/>
<area shape="poly" title=" " alt="" coords="217,75,175,80,174,75,217,69"/>
</map>
</div>

</div>
</div>
<a id="ad7c980fed3ad50dec28ebfa941f4a7b7" name="ad7c980fed3ad50dec28ebfa941f4a7b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7c980fed3ad50dec28ebfa941f4a7b7">&#9670;&#160;</a></span>floatx4_array_from_astc_img()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * floatx4_array_from_astc_img </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structastcenc__image.html">astcenc_image</a> *</td>          <td class="paramname"><span class="paramname"><em>img</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>y_flip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>z_index</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a flattened RGBA FLOAT32 data array for a single slice from an image structure. </p>
<p>The returned data array is allocated with <code>new</code>[] and must be freed with a <code>delete</code>[] call.</p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The input image. </td></tr>
    <tr><td class="paramname">y_flip</td><td>Should the data in the array be Y flipped? </td></tr>
    <tr><td class="paramname">z_index</td><td>The slice index to convert.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>The data array. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__image_8cpp_source.html">astcenccli_image.cpp</a> 파일의 <a class="el" href="astcenccli__image_8cpp_source.html#l00234">234</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  238</span>  {</div>
<div class="line"><span class="lineno">  239</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_x = img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>;</div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_y = img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a>;</div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordtype">float</span> *buf = <span class="keyword">new</span> <span class="keywordtype">float</span>[4 * dim_x * dim_y];</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>    assert(z_index &lt; img-&gt;dim_z);</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">if</span> (img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aa91ac7b6329d0a39c879dff7a1bcdf759">ASTCENC_TYPE_U8</a>)</div>
<div class="line"><span class="lineno">  246</span>    {</div>
<div class="line"><span class="lineno">  247</span>        uint8_t* data8 = <span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z_index]);</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y = 0; y &lt; dim_y; y++)</div>
<div class="line"><span class="lineno">  249</span>        {</div>
<div class="line"><span class="lineno">  250</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ymod = y_flip ? dim_y - y - 1 : y;</div>
<div class="line"><span class="lineno">  251</span>            <span class="keywordtype">float</span>* dst = buf + y * dim_x * 4;</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; dim_x; x++)</div>
<div class="line"><span class="lineno">  254</span>            {</div>
<div class="line"><span class="lineno">  255</span>                dst[4 * x    ] = data8[(4 * dim_x * ymod) + (4 * x    )] * (1.0f / 255.0f);</div>
<div class="line"><span class="lineno">  256</span>                dst[4 * x + 1] = data8[(4 * dim_x * ymod) + (4 * x + 1)] * (1.0f / 255.0f);</div>
<div class="line"><span class="lineno">  257</span>                dst[4 * x + 2] = data8[(4 * dim_x * ymod) + (4 * x + 2)] * (1.0f / 255.0f);</div>
<div class="line"><span class="lineno">  258</span>                dst[4 * x + 3] = data8[(4 * dim_x * ymod) + (4 * x + 3)] * (1.0f / 255.0f);</div>
<div class="line"><span class="lineno">  259</span>            }</div>
<div class="line"><span class="lineno">  260</span>        }</div>
<div class="line"><span class="lineno">  261</span>    }</div>
<div class="line"><span class="lineno">  262</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aad39e16b7f2e55ed676ce400619f0759d">ASTCENC_TYPE_F16</a>)</div>
<div class="line"><span class="lineno">  263</span>    {</div>
<div class="line"><span class="lineno">  264</span>        uint16_t* data16 = <span class="keyword">static_cast&lt;</span>uint16_t*<span class="keyword">&gt;</span>(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z_index]);</div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y = 0; y &lt; dim_y; y++)</div>
<div class="line"><span class="lineno">  266</span>        {</div>
<div class="line"><span class="lineno">  267</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ymod = y_flip ? dim_y - y - 1 : y;</div>
<div class="line"><span class="lineno">  268</span>            <span class="keywordtype">float</span> *dst = buf + y * dim_x * 4;</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; dim_x; x++)</div>
<div class="line"><span class="lineno">  271</span>            {</div>
<div class="line"><span class="lineno">  272</span>                <a class="code hl_struct" href="structvint4.html">vint4</a> colori(</div>
<div class="line"><span class="lineno">  273</span>                    data16[(4 * dim_x * ymod) + (4 * x    )],</div>
<div class="line"><span class="lineno">  274</span>                    data16[(4 * dim_x * ymod) + (4 * x + 1)],</div>
<div class="line"><span class="lineno">  275</span>                    data16[(4 * dim_x * ymod) + (4 * x + 2)],</div>
<div class="line"><span class="lineno">  276</span>                    data16[(4 * dim_x * ymod) + (4 * x + 3)]</div>
<div class="line"><span class="lineno">  277</span>                );</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color = <a class="code hl_function" href="astcenc__vecmathlib__neon__4_8h.html#afd7aa2069bdf377067c3abaca1256432">float16_to_float</a>(colori);</div>
<div class="line"><span class="lineno">  280</span>                <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a61add2970baac5cf6b04177472ae1ed1">store</a>(color, dst + 4 * x);</div>
<div class="line"><span class="lineno">  281</span>            }</div>
<div class="line"><span class="lineno">  282</span>        }</div>
<div class="line"><span class="lineno">  283</span>    }</div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">else</span> <span class="comment">// if (img-&gt;data_type == ASTCENC_TYPE_F32)</span></div>
<div class="line"><span class="lineno">  285</span>    {</div>
<div class="line"><span class="lineno">  286</span>        assert(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aaf996e38de0e0ac57175c09da275c6062">ASTCENC_TYPE_F32</a>);</div>
<div class="line"><span class="lineno">  287</span>        <span class="keywordtype">float</span>* data32 = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span>*<span class="keyword">&gt;</span>(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z_index]);</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y = 0; y &lt; dim_y; y++)</div>
<div class="line"><span class="lineno">  289</span>        {</div>
<div class="line"><span class="lineno">  290</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ymod = y_flip ? dim_y - y - 1 : y;</div>
<div class="line"><span class="lineno">  291</span>            <span class="keywordtype">float</span> *dst = buf + y * dim_x * 4;</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; dim_x; x++)</div>
<div class="line"><span class="lineno">  294</span>            {</div>
<div class="line"><span class="lineno">  295</span>                dst[4 * x    ] = data32[(4 * dim_x * ymod) + (4 * x    )];</div>
<div class="line"><span class="lineno">  296</span>                dst[4 * x + 1] = data32[(4 * dim_x * ymod) + (4 * x + 1)];</div>
<div class="line"><span class="lineno">  297</span>                dst[4 * x + 2] = data32[(4 * dim_x * ymod) + (4 * x + 2)];</div>
<div class="line"><span class="lineno">  298</span>                dst[4 * x + 3] = data32[(4 * dim_x * ymod) + (4 * x + 3)];</div>
<div class="line"><span class="lineno">  299</span>            }</div>
<div class="line"><span class="lineno">  300</span>        }</div>
<div class="line"><span class="lineno">  301</span>    }</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>    <span class="keywordflow">return</span> buf;</div>
<div class="line"><span class="lineno">  304</span>}</div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a61add2970baac5cf6b04177472ae1ed1"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a61add2970baac5cf6b04177472ae1ed1">store</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE void store(vint8 a, int *p)</div><div class="ttdoc">Store a vector to an unaligned memory address.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00557">astcenc_vecmathlib_avx2_8.h:557</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_ad7c980fed3ad50dec28ebfa941f4a7b7_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_ad7c980fed3ad50dec28ebfa941f4a7b7_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_ad7c980fed3ad50dec28ebfa941f4a7b7_cgraph" id="aastcenccli__internal_8h_ad7c980fed3ad50dec28ebfa941f4a7b7_cgraph">
<area shape="rect" title="Create a flattened RGBA FLOAT32 data array for a single slice from an image structure." alt="" coords="5,23,133,63"/>
<area shape="rect" href="astcenc__vecmathlib__neon__4_8h.html#afd7aa2069bdf377067c3abaca1256432" title="Return a float value for a float16 vector." alt="" coords="181,5,291,31"/>
<area shape="poly" title=" " alt="" coords="133,31,167,26,168,31,134,36"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a61add2970baac5cf6b04177472ae1ed1" title="Store a vector to an unaligned memory address." alt="" coords="211,55,261,80"/>
<area shape="poly" title=" " alt="" coords="134,50,198,59,197,64,133,55"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_ad7c980fed3ad50dec28ebfa941f4a7b7_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_ad7c980fed3ad50dec28ebfa941f4a7b7_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_ad7c980fed3ad50dec28ebfa941f4a7b7_icgraph" id="aastcenccli__internal_8h_ad7c980fed3ad50dec28ebfa941f4a7b7_icgraph">
<area shape="rect" title="Create a flattened RGBA FLOAT32 data array for a single slice from an image structure." alt="" coords="227,35,355,75"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#afa7f794cf62563189b0165de6e177284" title="Save an EXR image using TinyExr to provide the store routine." alt="" coords="18,5,166,45"/>
<area shape="poly" title=" " alt="" coords="213,46,166,39,167,34,213,41"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a1903244a03c0d5d49f56aac519509cde" title="Save a HDR image using STBImageWrite to provide the store routine." alt="" coords="5,70,179,95"/>
<area shape="poly" title=" " alt="" coords="213,68,179,73,178,68,212,63"/>
</map>
</div>

</div>
</div>
<a id="aeb0cd9b24656f2c4dac144e89217057c" name="aeb0cd9b24656f2c4dac144e89217057c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb0cd9b24656f2c4dac144e89217057c">&#9670;&#160;</a></span>free_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_image </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastcenc__image.html">astcenc_image</a> *</td>          <td class="paramname"><span class="paramname"><em>img</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free an image. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The image to free. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenccli__image_8cpp_source.html">astcenccli_image.cpp</a> 파일의 <a class="el" href="astcenccli__image_8cpp_source.html#l00072">72</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>{</div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">if</span> (img == <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">   75</span>    {</div>
<div class="line"><span class="lineno">   76</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   77</span>    }</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> z = 0; z &lt; img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a9c71edbb23f1cca0de775c508b6219ee">dim_z</a>; z++)</div>
<div class="line"><span class="lineno">   80</span>    {</div>
<div class="line"><span class="lineno">   81</span>        <span class="keyword">delete</span>[] <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[z]);</div>
<div class="line"><span class="lineno">   82</span>    }</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>    <span class="keyword">delete</span>[] img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>;</div>
<div class="line"><span class="lineno">   85</span>    <span class="keyword">delete</span> img;</div>
<div class="line"><span class="lineno">   86</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_aeb0cd9b24656f2c4dac144e89217057c_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_aeb0cd9b24656f2c4dac144e89217057c_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_aeb0cd9b24656f2c4dac144e89217057c_icgraph" id="aastcenccli__internal_8h_aeb0cd9b24656f2c4dac144e89217057c_icgraph">
<area shape="rect" title="Free an image." alt="" coords="465,25,551,51"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,25,207,51"/>
<area shape="poly" title=" " alt="" coords="457,24,417,15,336,8,255,15,197,28,196,23,254,10,336,3,418,10,458,19"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a3dd5258961a3c289c1e448b7807cf1fa" title="Load a non&#45;astc image file from memory." alt="" coords="275,25,397,51"/>
<area shape="poly" title=" " alt="" coords="452,41,398,41,398,35,452,35"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a65c87ee1ff0ed0736cffa06692853479" title="Print a set of diagnostic images showing aspects of the encoding." alt="" coords="255,75,417,100"/>
<area shape="poly" title=" " alt="" coords="453,56,382,77,381,72,451,51"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,25,56,51"/>
<area shape="poly" title=" " alt="" coords="90,41,57,41,57,35,90,35"/>
<area shape="poly" title=" " alt="" coords="261,41,207,41,207,35,261,35"/>
<area shape="poly" title=" " alt="" coords="275,73,202,53,204,48,276,68"/>
</map>
</div>

</div>
</div>
<a id="a17e6f066d58e29a143787fe2f78d19d6" name="a17e6f066d58e29a143787fe2f78d19d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17e6f066d58e29a143787fe2f78d19d6">&#9670;&#160;</a></span>get_cpu_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_cpu_count </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of CPU cores. </p>
<dl class="section return"><dt>반환값</dt><dd>The number of online or onlineable CPU cores in the system.</dd></dl>
<p>Get the number of CPU cores.</p>
<p>This module contains functions with strongly OS-dependent implementations:</p>
<ul>
<li>CPU count queries</li>
<li>Threading</li>
<li>Time</li>
</ul>
<p>In addition to the basic thread abstraction (which is native pthreads on all platforms, except Windows where it is an emulation of pthreads), a utility function to create N threads and wait for them to complete a batch task has also been provided. </p>

<p class="definition"><a class="el" href="astcenccli__platform__dependents_8cpp_source.html">astcenccli_platform_dependents.cpp</a> 파일의 <a class="el" href="astcenccli__platform__dependents_8cpp_source.html#l00155">155</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>{</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(sysconf(_SC_NPROCESSORS_ONLN));</div>
<div class="line"><span class="lineno">  158</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a17e6f066d58e29a143787fe2f78d19d6_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a17e6f066d58e29a143787fe2f78d19d6_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a17e6f066d58e29a143787fe2f78d19d6_icgraph" id="aastcenccli__internal_8h_a17e6f066d58e29a143787fe2f78d19d6_icgraph">
<area shape="rect" title="Get the number of CPU cores." alt="" coords="440,5,547,31"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#affe76bf8f1701e275934901541d19089" title="Edit the astcenc_config" alt="" coords="255,5,392,31"/>
<area shape="poly" title=" " alt="" coords="426,21,392,21,392,15,426,15"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="241,21,207,21,207,15,241,15"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
</map>
</div>

</div>
</div>
<a id="a36fb7c666f502f49e4d18cf130a7958d" name="a36fb7c666f502f49e4d18cf130a7958d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36fb7c666f502f49e4d18cf130a7958d">&#9670;&#160;</a></span>get_output_filename_enforced_bitness()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_output_filename_enforced_bitness </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the output file type requires a specific bitness. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The file name, containing hte extension to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>Valid values are:<ul>
<li>-1 - error - unknown file type.</li>
<li>0 - no enforced bitness.</li>
<li>8 - enforced 8-bit UNORM.</li>
<li>16 - enforced 16-bit FP16. </li>
</ul>
</dd></dl>

<p class="definition"><a class="el" href="astcenccli__image__load__store_8cpp_source.html">astcenccli_image_load_store.cpp</a> 파일의 <a class="el" href="astcenccli__image__load__store_8cpp_source.html#l02354">2354</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2356</span>  {</div>
<div class="line"><span class="lineno"> 2357</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *eptr = strrchr(filename, <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><span class="lineno"> 2358</span>    <span class="keywordflow">if</span> (!eptr)</div>
<div class="line"><span class="lineno"> 2359</span>    {</div>
<div class="line"><span class="lineno"> 2360</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2361</span>    }</div>
<div class="line"><span class="lineno"> 2362</span> </div>
<div class="line"><span class="lineno"> 2363</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a8923fb63f80b47dc81fc5c2d11ae1248">storer_descr_count</a>; i++)</div>
<div class="line"><span class="lineno"> 2364</span>    {</div>
<div class="line"><span class="lineno"> 2365</span>        <span class="keywordflow">if</span> (strcmp(eptr, storer_descs[i].<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#aeb6dc6b73a14c055f8f9e8542959d57d">ending1</a>) == 0</div>
<div class="line"><span class="lineno"> 2366</span>         || strcmp(eptr, storer_descs[i].<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a2cfda059378558e8eaf1877eb042c7c1">ending2</a>) == 0)</div>
<div class="line"><span class="lineno"> 2367</span>        {</div>
<div class="line"><span class="lineno"> 2368</span>            <span class="keywordflow">return</span> storer_descs[i].enforced_bitness;</div>
<div class="line"><span class="lineno"> 2369</span>        }</div>
<div class="line"><span class="lineno"> 2370</span>    }</div>
<div class="line"><span class="lineno"> 2371</span> </div>
<div class="line"><span class="lineno"> 2372</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2373</span>}</div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a2cfda059378558e8eaf1877eb042c7c1"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a2cfda059378558e8eaf1877eb042c7c1">ending2</a></div><div class="ttdeci">const char * ending2</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l02313">astcenccli_image_load_store.cpp:2313</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a8923fb63f80b47dc81fc5c2d11ae1248"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a8923fb63f80b47dc81fc5c2d11ae1248">storer_descr_count</a></div><div class="ttdeci">static const int storer_descr_count</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l02351">astcenccli_image_load_store.cpp:2351</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_aeb6dc6b73a14c055f8f9e8542959d57d"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#aeb6dc6b73a14c055f8f9e8542959d57d">ending1</a></div><div class="ttdeci">const char * ending1</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l02312">astcenccli_image_load_store.cpp:2312</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a36fb7c666f502f49e4d18cf130a7958d_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a36fb7c666f502f49e4d18cf130a7958d_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a36fb7c666f502f49e4d18cf130a7958d_icgraph" id="aastcenccli__internal_8h_a36fb7c666f502f49e4d18cf130a7958d_icgraph">
<area shape="rect" title="Check if the output file type requires a specific bitness." alt="" coords="255,5,393,45"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,13,207,38"/>
<area shape="poly" title=" " alt="" coords="241,28,207,28,207,23,241,23"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,13,56,38"/>
<area shape="poly" title=" " alt="" coords="90,28,57,28,57,23,90,23"/>
</map>
</div>

</div>
</div>
<a id="af7ab092ab10d65db3b9051a12420fa52" name="af7ab092ab10d65db3b9051a12420fa52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7ab092ab10d65db3b9051a12420fa52">&#9670;&#160;</a></span>get_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double get_time </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current time. </p>
<dl class="section return"><dt>반환값</dt><dd>The current time in seconds since arbitrary epoch. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__platform__dependents_8cpp_source.html">astcenccli_platform_dependents.cpp</a> 파일의 <a class="el" href="astcenccli__platform__dependents_8cpp_source.html#l00161">161</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  162</span>{</div>
<div class="line"><span class="lineno">  163</span>    timeval tv;</div>
<div class="line"><span class="lineno">  164</span>    gettimeofday(&amp;tv, 0);</div>
<div class="line"><span class="lineno">  165</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(tv.tv_sec) + <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(tv.tv_usec) * 1.0e-6;</div>
<div class="line"><span class="lineno">  166</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_af7ab092ab10d65db3b9051a12420fa52_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_af7ab092ab10d65db3b9051a12420fa52_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_af7ab092ab10d65db3b9051a12420fa52_icgraph" id="aastcenccli__internal_8h_af7ab092ab10d65db3b9051a12420fa52_icgraph">
<area shape="rect" title="Get the current time." alt="" coords="255,5,327,31"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="241,21,207,21,207,15,241,15"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
</map>
</div>

</div>
</div>
<a id="aaa9dcd56cd7089c481e7ef8355ae5c2f" name="aaa9dcd56cd7089c481e7ef8355ae5c2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa9dcd56cd7089c481e7ef8355ae5c2f">&#9670;&#160;</a></span>launch_threads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void launch_threads </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>operation</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>thread_count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>func&#160;</em></span>)(int, int, void *), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>payload</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Launch N worker threads and wait for them to complete. </p>
<p>All threads run the same thread function, and have the same thread payload, but are given a unique thread ID (0 .. N-1) as a parameter to the run function to allow thread-specific behavior.</p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">operation</td><td>The name of the operation for this async task. </td></tr>
    <tr><td class="paramname">thread_count</td><td>The number of threads to spawn. </td></tr>
    <tr><td class="paramname">func</td><td>The function to execute. Must have the signature: void (int thread_count, int thread_id, void* payload) </td></tr>
    <tr><td class="paramname">payload</td><td>Pointer to an opaque thread payload object. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenccli__platform__dependents_8cpp_source.html">astcenccli_platform_dependents.cpp</a> 파일의 <a class="el" href="astcenccli__platform__dependents_8cpp_source.html#l00204">204</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  209</span>  {</div>
<div class="line"><span class="lineno">  210</span>    <span class="comment">// Directly execute single threaded workloads on this thread</span></div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">if</span> (thread_count &lt;= 1)</div>
<div class="line"><span class="lineno">  212</span>    {</div>
<div class="line"><span class="lineno">  213</span>        func(1, 0, payload);</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  215</span>    }</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    <span class="comment">// Otherwise spawn worker threads</span></div>
<div class="line"><span class="lineno">  218</span>    <a class="code hl_struct" href="structlaunch__desc.html">launch_desc</a> *thread_descs = <span class="keyword">new</span> <a class="code hl_struct" href="structlaunch__desc.html">launch_desc</a>[thread_count];  </div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordtype">int</span> actual_thread_count { 0 };</div>
<div class="line"><span class="lineno">  220</span>    </div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; thread_count; i++)</div>
<div class="line"><span class="lineno">  222</span>    {</div>
<div class="line"><span class="lineno">  223</span>        thread_descs[actual_thread_count].<a class="code hl_variable" href="structlaunch__desc.html#ae5fb121d0d0e69a2d001d44e2afffec1">thread_count</a> = thread_count;</div>
<div class="line"><span class="lineno">  224</span>        thread_descs[actual_thread_count].<a class="code hl_variable" href="structlaunch__desc.html#a18fa1b8ed8d5761f64f2a5cd13ebcf97">thread_id</a> = actual_thread_count;</div>
<div class="line"><span class="lineno">  225</span>        thread_descs[actual_thread_count].<a class="code hl_variable" href="structlaunch__desc.html#af301f9649123b837ecb5e6106392e7c9">payload</a> = payload;</div>
<div class="line"><span class="lineno">  226</span>        thread_descs[actual_thread_count].<a class="code hl_variable" href="structlaunch__desc.html#a3290fa651bf1def33151f086e69c5291">func</a> = func;</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>        <span class="comment">// Handle pthread_create failing by simply using fewer threads</span></div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordtype">int</span> error = pthread_create(</div>
<div class="line"><span class="lineno">  230</span>            &amp;(thread_descs[actual_thread_count].thread_handle),</div>
<div class="line"><span class="lineno">  231</span>            <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno">  232</span>            <a class="code hl_function" href="astcenccli__platform__dependents_8cpp.html#ab71f663aee63a901f990d117faf0290d">launch_threads_helper</a>,</div>
<div class="line"><span class="lineno">  233</span>            <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(thread_descs + actual_thread_count));       </div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>        <span class="comment">// Track how many threads we actually created</span></div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">if</span> (!error)</div>
<div class="line"><span class="lineno">  237</span>        {</div>
<div class="line"><span class="lineno">  238</span>            <span class="comment">// Windows needs explicit thread assignment to handle large core count systems</span></div>
<div class="line"><span class="lineno">  239</span><span class="preprocessor">            #if defined(_WIN32) &amp;&amp; !defined(__CYGWIN__)</span></div>
<div class="line"><span class="lineno">  240</span>                set_group_affinity(</div>
<div class="line"><span class="lineno">  241</span>                    thread_descs[actual_thread_count].thread_handle,</div>
<div class="line"><span class="lineno">  242</span>                    actual_thread_count);</div>
<div class="line"><span class="lineno">  243</span><span class="preprocessor">            #endif</span></div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>            actual_thread_count++;</div>
<div class="line"><span class="lineno">  246</span>        }</div>
<div class="line"><span class="lineno">  247</span>    }</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>    <span class="comment">// If we did not create thread_count threads then emit a warning</span></div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">if</span> (actual_thread_count != thread_count)</div>
<div class="line"><span class="lineno">  251</span>    {       </div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordtype">int</span> log_count = actual_thread_count == 0 ? 1 : actual_thread_count;</div>
<div class="line"><span class="lineno">  253</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* log_s = log_count == 1 ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;s&quot;</span>;</div>
<div class="line"><span class="lineno">  254</span>        printf(<span class="stringliteral">&quot;WARNING: %s using %d thread%s due to thread creation error\n\n&quot;</span>,</div>
<div class="line"><span class="lineno">  255</span>               operation, log_count, log_s);</div>
<div class="line"><span class="lineno">  256</span>    }</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>    <span class="comment">// If we managed to spawn any threads wait for them to complete</span></div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordflow">if</span> (actual_thread_count != 0)</div>
<div class="line"><span class="lineno">  260</span>    {</div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; actual_thread_count; i++)</div>
<div class="line"><span class="lineno">  262</span>        {</div>
<div class="line"><span class="lineno">  263</span>            pthread_join(thread_descs[i].thread_handle, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  264</span>        }</div>
<div class="line"><span class="lineno">  265</span>    }</div>
<div class="line"><span class="lineno">  266</span>    <span class="comment">// Else fall back to using this thread</span></div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  268</span>    {</div>
<div class="line"><span class="lineno">  269</span>        func(1, 0, payload);</div>
<div class="line"><span class="lineno">  270</span>    }</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    <span class="keyword">delete</span>[] thread_descs;</div>
<div class="line"><span class="lineno">  273</span>}</div>
<div class="ttc" id="aastcenccli__platform__dependents_8cpp_html_ab71f663aee63a901f990d117faf0290d"><div class="ttname"><a href="astcenccli__platform__dependents_8cpp.html#ab71f663aee63a901f990d117faf0290d">launch_threads_helper</a></div><div class="ttdeci">static void * launch_threads_helper(void *p)</div><div class="ttdoc">Helper function to translate thread entry points.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__platform__dependents_8cpp_source.html#l00195">astcenccli_platform_dependents.cpp:195</a></div></div>
<div class="ttc" id="astructlaunch__desc_html"><div class="ttname"><a href="structlaunch__desc.html">launch_desc</a></div><div class="ttdoc">Worker thread helper payload for launch_threads.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__platform__dependents_8cpp_source.html#l00173">astcenccli_platform_dependents.cpp:174</a></div></div>
<div class="ttc" id="astructlaunch__desc_html_a18fa1b8ed8d5761f64f2a5cd13ebcf97"><div class="ttname"><a href="structlaunch__desc.html#a18fa1b8ed8d5761f64f2a5cd13ebcf97">launch_desc::thread_id</a></div><div class="ttdeci">int thread_id</div><div class="ttdoc">The thread index in the thread pool.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__platform__dependents_8cpp_source.html#l00180">astcenccli_platform_dependents.cpp:180</a></div></div>
<div class="ttc" id="astructlaunch__desc_html_a3290fa651bf1def33151f086e69c5291"><div class="ttname"><a href="structlaunch__desc.html#a3290fa651bf1def33151f086e69c5291">launch_desc::func</a></div><div class="ttdeci">void(* func)(int, int, void *)</div><div class="ttdoc">The user thread function to execute.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__platform__dependents_8cpp_source.html#l00182">astcenccli_platform_dependents.cpp:182</a></div></div>
<div class="ttc" id="astructlaunch__desc_html_ae5fb121d0d0e69a2d001d44e2afffec1"><div class="ttname"><a href="structlaunch__desc.html#ae5fb121d0d0e69a2d001d44e2afffec1">launch_desc::thread_count</a></div><div class="ttdeci">int thread_count</div><div class="ttdoc">The total number of threads in the thread pool.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__platform__dependents_8cpp_source.html#l00178">astcenccli_platform_dependents.cpp:178</a></div></div>
<div class="ttc" id="astructlaunch__desc_html_af301f9649123b837ecb5e6106392e7c9"><div class="ttname"><a href="structlaunch__desc.html#af301f9649123b837ecb5e6106392e7c9">launch_desc::payload</a></div><div class="ttdeci">void * payload</div><div class="ttdoc">The user thread payload.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__platform__dependents_8cpp_source.html#l00184">astcenccli_platform_dependents.cpp:184</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_aaa9dcd56cd7089c481e7ef8355ae5c2f_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_aaa9dcd56cd7089c481e7ef8355ae5c2f_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_aaa9dcd56cd7089c481e7ef8355ae5c2f_cgraph" id="aastcenccli__internal_8h_aaa9dcd56cd7089c481e7ef8355ae5c2f_cgraph">
<area shape="rect" title="Launch N worker threads and wait for them to complete." alt="" coords="5,5,116,31"/>
<area shape="rect" href="astcenccli__platform__dependents_8cpp.html#ab71f663aee63a901f990d117faf0290d" title="Helper function to translate thread entry points." alt="" coords="164,5,316,31"/>
<area shape="poly" title=" " alt="" coords="116,15,150,15,150,21,116,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_aaa9dcd56cd7089c481e7ef8355ae5c2f_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_aaa9dcd56cd7089c481e7ef8355ae5c2f_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_aaa9dcd56cd7089c481e7ef8355ae5c2f_icgraph" id="aastcenccli__internal_8h_aaa9dcd56cd7089c481e7ef8355ae5c2f_icgraph">
<area shape="rect" title="Launch N worker threads and wait for them to complete." alt="" coords="255,5,365,31"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="241,21,207,21,207,15,241,15"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
</map>
</div>

</div>
</div>
<a id="a6ef0eed7ff787726c2e16ab96196ed8b" name="a6ef0eed7ff787726c2e16ab96196ed8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ef0eed7ff787726c2e16ab96196ed8b">&#9670;&#160;</a></span>load_cimage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_cimage </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastc__compressed__image.html">astc_compressed_image</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>img</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a compressed .astc image. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The file to load. </td></tr>
    <tr><td class="paramname">img</td><td>The image to populate with loaded data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>Non-zero on error, zero on success. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__image__load__store_8cpp_source.html">astcenccli_image_load_store.cpp</a> 파일의 <a class="el" href="astcenccli__image__load__store_8cpp_source.html#l02459">2459</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2462</span>  {</div>
<div class="line"><span class="lineno"> 2463</span>    std::ifstream file(filename, std::ios::in | std::ios::binary);</div>
<div class="line"><span class="lineno"> 2464</span>    <span class="keywordflow">if</span> (!file)</div>
<div class="line"><span class="lineno"> 2465</span>    {</div>
<div class="line"><span class="lineno"> 2466</span>        <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: File open failed &#39;%s&#39;\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 2467</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2468</span>    }</div>
<div class="line"><span class="lineno"> 2469</span> </div>
<div class="line"><span class="lineno"> 2470</span>    <a class="code hl_struct" href="structastc__header.html">astc_header</a> <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>;</div>
<div class="line"><span class="lineno"> 2471</span>    file.read(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(&amp;<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structastc__header.html">astc_header</a>));</div>
<div class="line"><span class="lineno"> 2472</span>    <span class="keywordflow">if</span> (file.fail())</div>
<div class="line"><span class="lineno"> 2473</span>    {</div>
<div class="line"><span class="lineno"> 2474</span>        <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: File read failed &#39;%s&#39;\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 2475</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2476</span>    }</div>
<div class="line"><span class="lineno"> 2477</span> </div>
<div class="line"><span class="lineno"> 2478</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> magicval = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#ab40e61c869dc467310a636beab705eb9">unpack_bytes</a>(<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.magic[0], <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.magic[1], <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.magic[2], <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.magic[3]);</div>
<div class="line"><span class="lineno"> 2479</span>    <span class="keywordflow">if</span> (magicval != <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a6c8fb8eec7b24bc517ae0f6c21e241c8">ASTC_MAGIC_ID</a>)</div>
<div class="line"><span class="lineno"> 2480</span>    {</div>
<div class="line"><span class="lineno"> 2481</span>        <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: File not recognized &#39;%s&#39;\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 2482</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2483</span>    }</div>
<div class="line"><span class="lineno"> 2484</span> </div>
<div class="line"><span class="lineno"> 2485</span>    <span class="comment">// Ensure these are not zero to avoid div by zero</span></div>
<div class="line"><span class="lineno"> 2486</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> block_x = <a class="code hl_function" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f">astc::max</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.block_x), 1u);</div>
<div class="line"><span class="lineno"> 2487</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> block_y = <a class="code hl_function" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f">astc::max</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.block_y), 1u);</div>
<div class="line"><span class="lineno"> 2488</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> block_z = <a class="code hl_function" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f">astc::max</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.block_z), 1u);</div>
<div class="line"><span class="lineno"> 2489</span> </div>
<div class="line"><span class="lineno"> 2490</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_x = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#ab40e61c869dc467310a636beab705eb9">unpack_bytes</a>(<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_x[0], <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_x[1], <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_x[2], 0);</div>
<div class="line"><span class="lineno"> 2491</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_y = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#ab40e61c869dc467310a636beab705eb9">unpack_bytes</a>(<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_y[0], <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_y[1], <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_y[2], 0);</div>
<div class="line"><span class="lineno"> 2492</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_z = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#ab40e61c869dc467310a636beab705eb9">unpack_bytes</a>(<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_z[0], <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_z[1], <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_z[2], 0);</div>
<div class="line"><span class="lineno"> 2493</span> </div>
<div class="line"><span class="lineno"> 2494</span>    <span class="keywordflow">if</span> (dim_x == 0 || dim_y == 0 || dim_z == 0)</div>
<div class="line"><span class="lineno"> 2495</span>    {</div>
<div class="line"><span class="lineno"> 2496</span>        <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Image header corrupt &#39;%s&#39;\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 2497</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2498</span>    }</div>
<div class="line"><span class="lineno"> 2499</span> </div>
<div class="line"><span class="lineno"> 2500</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> xblocks = (dim_x + block_x - 1) / block_x;</div>
<div class="line"><span class="lineno"> 2501</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> yblocks = (dim_y + block_y - 1) / block_y;</div>
<div class="line"><span class="lineno"> 2502</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> zblocks = (dim_z + block_z - 1) / block_z;</div>
<div class="line"><span class="lineno"> 2503</span> </div>
<div class="line"><span class="lineno"> 2504</span>    <span class="keywordtype">size_t</span> data_size = xblocks * yblocks * zblocks * 16;</div>
<div class="line"><span class="lineno"> 2505</span>    uint8_t *buffer = <span class="keyword">new</span> uint8_t[data_size];</div>
<div class="line"><span class="lineno"> 2506</span> </div>
<div class="line"><span class="lineno"> 2507</span>    file.read(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(buffer), data_size);</div>
<div class="line"><span class="lineno"> 2508</span>    <span class="keywordflow">if</span> (file.fail())</div>
<div class="line"><span class="lineno"> 2509</span>    {</div>
<div class="line"><span class="lineno"> 2510</span>        <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Image data size exceeded file size &#39;%s&#39;\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 2511</span>        <span class="keyword">delete</span>[] buffer;</div>
<div class="line"><span class="lineno"> 2512</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2513</span>    }</div>
<div class="line"><span class="lineno"> 2514</span> </div>
<div class="line"><span class="lineno"> 2515</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#a2f8dadc1beecd1f0b84e8c01078ebb75">data</a> = buffer;</div>
<div class="line"><span class="lineno"> 2516</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#ac18330848346858e41c3f9464deacb0f">data_len</a> = data_size;</div>
<div class="line"><span class="lineno"> 2517</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#aeafe1da3bf5227bcd020c62035d905fe">block_x</a> = block_x;</div>
<div class="line"><span class="lineno"> 2518</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#a819085bbeed627f0e6e33d7d8efb34cb">block_y</a> = block_y;</div>
<div class="line"><span class="lineno"> 2519</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#a507b65951cf307eb7481c65929cb5e67">block_z</a> = block_z;</div>
<div class="line"><span class="lineno"> 2520</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#ab8b069942fbe6cc5441abfe20053abff">dim_x</a> = dim_x;</div>
<div class="line"><span class="lineno"> 2521</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#a15c6ae8cb877cf74f963d1ea3d15afb3">dim_y</a> = dim_y;</div>
<div class="line"><span class="lineno"> 2522</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#a09c8a9676fc4b269cff40386515120e7">dim_z</a> = dim_z;</div>
<div class="line"><span class="lineno"> 2523</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2524</span>}</div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a6c8fb8eec7b24bc517ae0f6c21e241c8"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a6c8fb8eec7b24bc517ae0f6c21e241c8">ASTC_MAGIC_ID</a></div><div class="ttdeci">static const uint32_t ASTC_MAGIC_ID</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l02444">astcenccli_image_load_store.cpp:2444</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a78fd18ccd29d2487172eafa32c229c92"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a></div><div class="ttdeci">static const struct @3 hdr[]</div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_ab40e61c869dc467310a636beab705eb9"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#ab40e61c869dc467310a636beab705eb9">unpack_bytes</a></div><div class="ttdeci">static unsigned int unpack_bytes(uint8_t a, uint8_t b, uint8_t c, uint8_t d)</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l02446">astcenccli_image_load_store.cpp:2446</a></div></div>
<div class="ttc" id="astructastc__compressed__image_html_a09c8a9676fc4b269cff40386515120e7"><div class="ttname"><a href="structastc__compressed__image.html#a09c8a9676fc4b269cff40386515120e7">astc_compressed_image::dim_z</a></div><div class="ttdeci">unsigned int dim_z</div><div class="ttdoc">The image depth in texels.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__internal_8h_source.html#l00054">astcenccli_internal.h:54</a></div></div>
<div class="ttc" id="astructastc__compressed__image_html_a15c6ae8cb877cf74f963d1ea3d15afb3"><div class="ttname"><a href="structastc__compressed__image.html#a15c6ae8cb877cf74f963d1ea3d15afb3">astc_compressed_image::dim_y</a></div><div class="ttdeci">unsigned int dim_y</div><div class="ttdoc">The image height in texels.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__internal_8h_source.html#l00051">astcenccli_internal.h:51</a></div></div>
<div class="ttc" id="astructastc__compressed__image_html_a2f8dadc1beecd1f0b84e8c01078ebb75"><div class="ttname"><a href="structastc__compressed__image.html#a2f8dadc1beecd1f0b84e8c01078ebb75">astc_compressed_image::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdoc">The binary data payload.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__internal_8h_source.html#l00057">astcenccli_internal.h:57</a></div></div>
<div class="ttc" id="astructastc__compressed__image_html_a507b65951cf307eb7481c65929cb5e67"><div class="ttname"><a href="structastc__compressed__image.html#a507b65951cf307eb7481c65929cb5e67">astc_compressed_image::block_z</a></div><div class="ttdeci">unsigned int block_z</div><div class="ttdoc">The block depth in texels.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__internal_8h_source.html#l00045">astcenccli_internal.h:45</a></div></div>
<div class="ttc" id="astructastc__compressed__image_html_a819085bbeed627f0e6e33d7d8efb34cb"><div class="ttname"><a href="structastc__compressed__image.html#a819085bbeed627f0e6e33d7d8efb34cb">astc_compressed_image::block_y</a></div><div class="ttdeci">unsigned int block_y</div><div class="ttdoc">The block height in texels.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__internal_8h_source.html#l00042">astcenccli_internal.h:42</a></div></div>
<div class="ttc" id="astructastc__compressed__image_html_ab8b069942fbe6cc5441abfe20053abff"><div class="ttname"><a href="structastc__compressed__image.html#ab8b069942fbe6cc5441abfe20053abff">astc_compressed_image::dim_x</a></div><div class="ttdeci">unsigned int dim_x</div><div class="ttdoc">The image width in texels.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__internal_8h_source.html#l00048">astcenccli_internal.h:48</a></div></div>
<div class="ttc" id="astructastc__compressed__image_html_ac18330848346858e41c3f9464deacb0f"><div class="ttname"><a href="structastc__compressed__image.html#ac18330848346858e41c3f9464deacb0f">astc_compressed_image::data_len</a></div><div class="ttdeci">size_t data_len</div><div class="ttdoc">The binary data length in bytes.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__internal_8h_source.html#l00060">astcenccli_internal.h:60</a></div></div>
<div class="ttc" id="astructastc__compressed__image_html_aeafe1da3bf5227bcd020c62035d905fe"><div class="ttname"><a href="structastc__compressed__image.html#aeafe1da3bf5227bcd020c62035d905fe">astc_compressed_image::block_x</a></div><div class="ttdeci">unsigned int block_x</div><div class="ttdoc">The block width in texels.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__internal_8h_source.html#l00039">astcenccli_internal.h:39</a></div></div>
<div class="ttc" id="astructastc__header_html"><div class="ttname"><a href="structastc__header.html">astc_header</a></div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l02433">astcenccli_image_load_store.cpp:2434</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a6ef0eed7ff787726c2e16ab96196ed8b_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_a6ef0eed7ff787726c2e16ab96196ed8b_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a6ef0eed7ff787726c2e16ab96196ed8b_cgraph" id="aastcenccli__internal_8h_a6ef0eed7ff787726c2e16ab96196ed8b_cgraph">
<area shape="rect" title="Load a compressed .astc image." alt="" coords="5,55,100,80"/>
<area shape="rect" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f" title="Return the maximum of two values." alt="" coords="159,5,239,31"/>
<area shape="poly" title=" " alt="" coords="90,52,147,33,148,38,92,57"/>
<area shape="rect" href="astcenccli__internal_8h.html#a699ebbd5f0143120e8ccaa26ae386b56" title="Print a string to stderr." alt="" coords="159,55,239,80"/>
<area shape="poly" title=" " alt="" coords="100,65,145,65,145,70,100,70"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#ab40e61c869dc467310a636beab705eb9" title=" " alt="" coords="148,104,251,129"/>
<area shape="poly" title=" " alt="" coords="92,78,148,97,147,102,90,83"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a6ef0eed7ff787726c2e16ab96196ed8b_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a6ef0eed7ff787726c2e16ab96196ed8b_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a6ef0eed7ff787726c2e16ab96196ed8b_icgraph" id="aastcenccli__internal_8h_a6ef0eed7ff787726c2e16ab96196ed8b_icgraph">
<area shape="rect" title="Load a compressed .astc image." alt="" coords="255,5,349,31"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="241,21,207,21,207,15,241,15"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
</map>
</div>

</div>
</div>
<a id="a10761592472e9cc4d632946459d00bee" name="a10761592472e9cc4d632946459d00bee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10761592472e9cc4d632946459d00bee">&#9670;&#160;</a></span>load_ktx_compressed_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool load_ktx_compressed_image </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;</td>          <td class="paramname"><span class="paramname"><em>is_srgb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastc__compressed__image.html">astc_compressed_image</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>img</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a compressed .ktx image. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The file to load. </td></tr>
    <tr><td class="paramname">is_srgb</td><td>Is this an sRGB encoded file? </td></tr>
    <tr><td class="paramname">img</td><td>The image to populate with loaded data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>Non-zero on error, zero on success.</dd></dl>
<p>Load a compressed .ktx image.</p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">filename</td><td>The name of the file to load. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">is_srgb</td><td><code>true</code> if this is an sRGB image, <code>false</code> otherwise. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">img</td><td>The output image to populate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd><code>true</code> on error, <code>false</code> otherwise. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__image__load__store_8cpp_source.html">astcenccli_image_load_store.cpp</a> 파일의 <a class="el" href="astcenccli__image__load__store_8cpp_source.html#l01275">1275</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1279</span>  {</div>
<div class="line"><span class="lineno"> 1280</span>    FILE *f = fopen(filename, <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><span class="lineno"> 1281</span>    <span class="keywordflow">if</span> (!f)</div>
<div class="line"><span class="lineno"> 1282</span>    {</div>
<div class="line"><span class="lineno"> 1283</span>        printf(<span class="stringliteral">&quot;Failed to open file %s\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 1284</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1285</span>    }</div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span>    <a class="code hl_struct" href="structktx__header.html">ktx_header</a> <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>;</div>
<div class="line"><span class="lineno"> 1288</span>    <span class="keywordtype">size_t</span> actual = fread(&amp;<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>, 1, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>), f);</div>
<div class="line"><span class="lineno"> 1289</span>    <span class="keywordflow">if</span> (actual != <span class="keyword">sizeof</span>(<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>))</div>
<div class="line"><span class="lineno"> 1290</span>    {</div>
<div class="line"><span class="lineno"> 1291</span>        printf(<span class="stringliteral">&quot;Failed to read header from %s\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 1292</span>        fclose(f);</div>
<div class="line"><span class="lineno"> 1293</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1294</span>    }</div>
<div class="line"><span class="lineno"> 1295</span> </div>
<div class="line"><span class="lineno"> 1296</span>    <span class="keywordflow">if</span> (memcmp(<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.magic, <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a0adaccef807b4af5a439916323ffb891">ktx_magic</a>, 12) != 0 ||</div>
<div class="line"><span class="lineno"> 1297</span>        (<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.endianness != 0x04030201 &amp;&amp; <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.endianness != 0x01020304))</div>
<div class="line"><span class="lineno"> 1298</span>    {</div>
<div class="line"><span class="lineno"> 1299</span>        printf(<span class="stringliteral">&quot;File %s does not have a valid KTX header\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 1300</span>        fclose(f);</div>
<div class="line"><span class="lineno"> 1301</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1302</span>    }</div>
<div class="line"><span class="lineno"> 1303</span> </div>
<div class="line"><span class="lineno"> 1304</span>    <span class="keywordtype">bool</span> switch_endianness = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1305</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.endianness == 0x01020304)</div>
<div class="line"><span class="lineno"> 1306</span>    {</div>
<div class="line"><span class="lineno"> 1307</span>        switch_endianness = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1308</span>        <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#a7271fdd9dae7875cb69b75377840f1b6">ktx_header_switch_endianness</a>(&amp;<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>);</div>
<div class="line"><span class="lineno"> 1309</span>    }</div>
<div class="line"><span class="lineno"> 1310</span> </div>
<div class="line"><span class="lineno"> 1311</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.gl_type != 0 || <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.gl_format != 0 || <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.gl_type_size != 1 ||</div>
<div class="line"><span class="lineno"> 1312</span>        <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.gl_base_internal_format != <a class="code hl_define" href="astcenccli__image__load__store_8cpp.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>)</div>
<div class="line"><span class="lineno"> 1313</span>    {</div>
<div class="line"><span class="lineno"> 1314</span>        printf(<span class="stringliteral">&quot;File %s is not a compressed ASTC file\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 1315</span>        fclose(f);</div>
<div class="line"><span class="lineno"> 1316</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1317</span>    }</div>
<div class="line"><span class="lineno"> 1318</span> </div>
<div class="line"><span class="lineno"> 1319</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structformat__entry.html">format_entry</a>* fmt = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#a25de668f2135ef9b77dd0c86b5d36b27">get_format</a>(<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.gl_internal_format);</div>
<div class="line"><span class="lineno"> 1320</span>    <span class="keywordflow">if</span> (!fmt)</div>
<div class="line"><span class="lineno"> 1321</span>    {</div>
<div class="line"><span class="lineno"> 1322</span>        printf(<span class="stringliteral">&quot;File %s is not a compressed ASTC file\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 1323</span>        fclose(f);</div>
<div class="line"><span class="lineno"> 1324</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1325</span>    }</div>
<div class="line"><span class="lineno"> 1326</span> </div>
<div class="line"><span class="lineno"> 1327</span>    <span class="comment">// Skip over any key-value pairs</span></div>
<div class="line"><span class="lineno"> 1328</span>    <span class="keywordtype">int</span> seekerr;</div>
<div class="line"><span class="lineno"> 1329</span>    seekerr = fseek(f, <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.bytes_of_key_value_data, SEEK_CUR);</div>
<div class="line"><span class="lineno"> 1330</span>    <span class="keywordflow">if</span> (seekerr)</div>
<div class="line"><span class="lineno"> 1331</span>    {</div>
<div class="line"><span class="lineno"> 1332</span>        printf(<span class="stringliteral">&quot;Failed to skip key-value pairs in %s\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 1333</span>        fclose(f);</div>
<div class="line"><span class="lineno"> 1334</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1335</span>    }</div>
<div class="line"><span class="lineno"> 1336</span> </div>
<div class="line"><span class="lineno"> 1337</span>    <span class="comment">// Read the length of the data and endianess convert</span></div>
<div class="line"><span class="lineno"> 1338</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> data_len;</div>
<div class="line"><span class="lineno"> 1339</span>    actual = fread(&amp;data_len, 1, <span class="keyword">sizeof</span>(data_len), f);</div>
<div class="line"><span class="lineno"> 1340</span>    <span class="keywordflow">if</span> (actual != <span class="keyword">sizeof</span>(data_len))</div>
<div class="line"><span class="lineno"> 1341</span>    {</div>
<div class="line"><span class="lineno"> 1342</span>        printf(<span class="stringliteral">&quot;Failed to read mip 0 size from %s\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 1343</span>        fclose(f);</div>
<div class="line"><span class="lineno"> 1344</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1345</span>    }</div>
<div class="line"><span class="lineno"> 1346</span> </div>
<div class="line"><span class="lineno"> 1347</span>    <span class="keywordflow">if</span> (switch_endianness)</div>
<div class="line"><span class="lineno"> 1348</span>    {</div>
<div class="line"><span class="lineno"> 1349</span>        data_len = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#a834ad2434a131242dc4fa6f1856222cb">u32_byterev</a>(data_len);</div>
<div class="line"><span class="lineno"> 1350</span>    }</div>
<div class="line"><span class="lineno"> 1351</span> </div>
<div class="line"><span class="lineno"> 1352</span>    <span class="comment">// Read the data</span></div>
<div class="line"><span class="lineno"> 1353</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* data = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[data_len];</div>
<div class="line"><span class="lineno"> 1354</span>    actual = fread(data, 1, data_len, f);</div>
<div class="line"><span class="lineno"> 1355</span>    <span class="keywordflow">if</span> (actual != data_len)</div>
<div class="line"><span class="lineno"> 1356</span>    {</div>
<div class="line"><span class="lineno"> 1357</span>        printf(<span class="stringliteral">&quot;Failed to read mip 0 data from %s\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 1358</span>        fclose(f);</div>
<div class="line"><span class="lineno"> 1359</span>        <span class="keyword">delete</span>[] data;</div>
<div class="line"><span class="lineno"> 1360</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1361</span>    }</div>
<div class="line"><span class="lineno"> 1362</span> </div>
<div class="line"><span class="lineno"> 1363</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#aeafe1da3bf5227bcd020c62035d905fe">block_x</a> = fmt-&gt;<a class="code hl_variable" href="structformat__entry.html#a4514889f83a63a9b8bc921b546566d55">x</a>;</div>
<div class="line"><span class="lineno"> 1364</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#a819085bbeed627f0e6e33d7d8efb34cb">block_y</a> = fmt-&gt;<a class="code hl_variable" href="structformat__entry.html#ad01737d5ef063dd4f1971a974d90e137">y</a>;</div>
<div class="line"><span class="lineno"> 1365</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#a507b65951cf307eb7481c65929cb5e67">block_z</a> = fmt-&gt;<a class="code hl_variable" href="structformat__entry.html#ad676d78d5bfbccfa7e2ee05019b9422f">z</a> == 0 ? 1 : fmt-&gt;<a class="code hl_variable" href="structformat__entry.html#ad676d78d5bfbccfa7e2ee05019b9422f">z</a>;</div>
<div class="line"><span class="lineno"> 1366</span> </div>
<div class="line"><span class="lineno"> 1367</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#ab8b069942fbe6cc5441abfe20053abff">dim_x</a> = <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.pixel_width;</div>
<div class="line"><span class="lineno"> 1368</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#a15c6ae8cb877cf74f963d1ea3d15afb3">dim_y</a> = <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.pixel_height;</div>
<div class="line"><span class="lineno"> 1369</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#a09c8a9676fc4b269cff40386515120e7">dim_z</a> = <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.pixel_depth == 0 ? 1 : <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.pixel_depth;</div>
<div class="line"><span class="lineno"> 1370</span> </div>
<div class="line"><span class="lineno"> 1371</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#ac18330848346858e41c3f9464deacb0f">data_len</a> = data_len;</div>
<div class="line"><span class="lineno"> 1372</span>    img.<a class="code hl_variable" href="structastc__compressed__image.html#a2f8dadc1beecd1f0b84e8c01078ebb75">data</a> = data;</div>
<div class="line"><span class="lineno"> 1373</span> </div>
<div class="line"><span class="lineno"> 1374</span>    is_srgb = fmt-&gt;<a class="code hl_variable" href="structformat__entry.html#a7335f3bbba22c182fe61ba40f38c58bc">is_srgb</a>;</div>
<div class="line"><span class="lineno"> 1375</span> </div>
<div class="line"><span class="lineno"> 1376</span>    fclose(f);</div>
<div class="line"><span class="lineno"> 1377</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1378</span>}</div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a0adaccef807b4af5a439916323ffb891"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a0adaccef807b4af5a439916323ffb891">ktx_magic</a></div><div class="ttdeci">static uint8_t ktx_magic[12]</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l00901">astcenccli_image_load_store.cpp:901</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a25de668f2135ef9b77dd0c86b5d36b27"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a25de668f2135ef9b77dd0c86b5d36b27">get_format</a></div><div class="ttdeci">static const format_entry * get_format(unsigned int format)</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l00853">astcenccli_image_load_store.cpp:853</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a7271fdd9dae7875cb69b75377840f1b6"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a7271fdd9dae7875cb69b75377840f1b6">ktx_header_switch_endianness</a></div><div class="ttdeci">static void ktx_header_switch_endianness(ktx_header *kt)</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l00905">astcenccli_image_load_store.cpp:905</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a834ad2434a131242dc4fa6f1856222cb"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a834ad2434a131242dc4fa6f1856222cb">u32_byterev</a></div><div class="ttdeci">static uint32_t u32_byterev(uint32_t v)</div><div class="ttdoc">Swap endianness of a u32 value.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l00666">astcenccli_image_load_store.cpp:666</a></div></div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a9f2854f4a91a0d83d2d54cb8110bfca4"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a></div><div class="ttdeci">#define GL_RGBA</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l00715">astcenccli_image_load_store.cpp:715</a></div></div>
<div class="ttc" id="astructformat__entry_html"><div class="ttname"><a href="structformat__entry.html">format_entry</a></div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l00788">astcenccli_image_load_store.cpp:789</a></div></div>
<div class="ttc" id="astructformat__entry_html_a4514889f83a63a9b8bc921b546566d55"><div class="ttname"><a href="structformat__entry.html#a4514889f83a63a9b8bc921b546566d55">format_entry::x</a></div><div class="ttdeci">unsigned int x</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l00790">astcenccli_image_load_store.cpp:790</a></div></div>
<div class="ttc" id="astructformat__entry_html_a7335f3bbba22c182fe61ba40f38c58bc"><div class="ttname"><a href="structformat__entry.html#a7335f3bbba22c182fe61ba40f38c58bc">format_entry::is_srgb</a></div><div class="ttdeci">bool is_srgb</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l00793">astcenccli_image_load_store.cpp:793</a></div></div>
<div class="ttc" id="astructformat__entry_html_ad01737d5ef063dd4f1971a974d90e137"><div class="ttname"><a href="structformat__entry.html#ad01737d5ef063dd4f1971a974d90e137">format_entry::y</a></div><div class="ttdeci">unsigned int y</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l00791">astcenccli_image_load_store.cpp:791</a></div></div>
<div class="ttc" id="astructformat__entry_html_ad676d78d5bfbccfa7e2ee05019b9422f"><div class="ttname"><a href="structformat__entry.html#ad676d78d5bfbccfa7e2ee05019b9422f">format_entry::z</a></div><div class="ttdeci">unsigned int z</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l00792">astcenccli_image_load_store.cpp:792</a></div></div>
<div class="ttc" id="astructktx__header_html"><div class="ttname"><a href="structktx__header.html">ktx_header</a></div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l00882">astcenccli_image_load_store.cpp:883</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a10761592472e9cc4d632946459d00bee_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_a10761592472e9cc4d632946459d00bee_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a10761592472e9cc4d632946459d00bee_cgraph" id="aastcenccli__internal_8h_a10761592472e9cc4d632946459d00bee_cgraph">
<area shape="rect" title="Load a compressed .ktx image." alt="" coords="5,47,155,87"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a25de668f2135ef9b77dd0c86b5d36b27" title=" " alt="" coords="263,5,345,31"/>
<area shape="poly" title=" " alt="" coords="154,48,248,27,249,33,156,54"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a7271fdd9dae7875cb69b75377840f1b6" title=" " alt="" coords="203,55,405,80"/>
<area shape="poly" title=" " alt="" coords="155,65,189,65,189,70,155,70"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a834ad2434a131242dc4fa6f1856222cb" title="Swap endianness of a u32 value." alt="" coords="259,104,349,129"/>
<area shape="poly" title=" " alt="" coords="156,81,246,101,244,106,154,86"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a10761592472e9cc4d632946459d00bee_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a10761592472e9cc4d632946459d00bee_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a10761592472e9cc4d632946459d00bee_icgraph" id="aastcenccli__internal_8h_a10761592472e9cc4d632946459d00bee_icgraph">
<area shape="rect" title="Load a compressed .ktx image." alt="" coords="255,5,404,45"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,13,207,38"/>
<area shape="poly" title=" " alt="" coords="241,28,207,28,207,23,241,23"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,13,56,38"/>
<area shape="poly" title=" " alt="" coords="90,28,57,28,57,23,90,23"/>
</map>
</div>

</div>
</div>
<a id="aff0de9c0d50e5630b61f0d6e597fcd65" name="aff0de9c0d50e5630b61f0d6e597fcd65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff0de9c0d50e5630b61f0d6e597fcd65">&#9670;&#160;</a></span>load_ncimage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastcenc__image.html">astcenc_image</a> * load_ncimage </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>y_flip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;</td>          <td class="paramname"><span class="paramname"><em>is_hdr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;</td>          <td class="paramname"><span class="paramname"><em>component_count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load uncompressed image. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">filename</td><td>The file path on disk. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">y_flip</td><td>Should this image be Y flipped? </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">is_hdr</td><td>Is the loaded image HDR? </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">component_count</td><td>The number of components in the loaded image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>The astc image file, or nullptr on error. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__image__load__store_8cpp_source.html">astcenccli_image_load_store.cpp</a> 파일의 <a class="el" href="astcenccli__image__load__store_8cpp_source.html#l02376">2376</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2381</span>  {</div>
<div class="line"><span class="lineno"> 2382</span>    <span class="comment">// Get the file extension</span></div>
<div class="line"><span class="lineno"> 2383</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* eptr = strrchr(filename, <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><span class="lineno"> 2384</span>    <span class="keywordflow">if</span> (!eptr)</div>
<div class="line"><span class="lineno"> 2385</span>    {</div>
<div class="line"><span class="lineno"> 2386</span>        eptr = filename;</div>
<div class="line"><span class="lineno"> 2387</span>    }</div>
<div class="line"><span class="lineno"> 2388</span> </div>
<div class="line"><span class="lineno"> 2389</span>    <span class="comment">// Scan through descriptors until a matching loader is found</span></div>
<div class="line"><span class="lineno"> 2390</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a37953adb3188b57e22b32b35e23cf111">loader_descr_count</a>; i++)</div>
<div class="line"><span class="lineno"> 2391</span>    {</div>
<div class="line"><span class="lineno"> 2392</span>        <span class="keywordflow">if</span> (loader_descs[i].<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#aeb6dc6b73a14c055f8f9e8542959d57d">ending1</a> == <span class="keyword">nullptr</span></div>
<div class="line"><span class="lineno"> 2393</span>            || strcmp(eptr, loader_descs[i].<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#aeb6dc6b73a14c055f8f9e8542959d57d">ending1</a>) == 0</div>
<div class="line"><span class="lineno"> 2394</span>            || strcmp(eptr, loader_descs[i].<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a2cfda059378558e8eaf1877eb042c7c1">ending2</a>) == 0)</div>
<div class="line"><span class="lineno"> 2395</span>        {</div>
<div class="line"><span class="lineno"> 2396</span>            <span class="keywordflow">return</span> loader_descs[i].loader_func(filename, y_flip, is_hdr, component_count);</div>
<div class="line"><span class="lineno"> 2397</span>        }</div>
<div class="line"><span class="lineno"> 2398</span>    }</div>
<div class="line"><span class="lineno"> 2399</span> </div>
<div class="line"><span class="lineno"> 2400</span>    <span class="comment">// Should never reach here - stb_image provides a generic handler</span></div>
<div class="line"><span class="lineno"> 2401</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2402</span>}</div>
<div class="ttc" id="aastcenccli__image__load__store_8cpp_html_a37953adb3188b57e22b32b35e23cf111"><div class="ttname"><a href="astcenccli__image__load__store_8cpp.html#a37953adb3188b57e22b32b35e23cf111">loader_descr_count</a></div><div class="ttdeci">static const int loader_descr_count</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l02327">astcenccli_image_load_store.cpp:2327</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_aff0de9c0d50e5630b61f0d6e597fcd65_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_aff0de9c0d50e5630b61f0d6e597fcd65_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_aff0de9c0d50e5630b61f0d6e597fcd65_icgraph" id="aastcenccli__internal_8h_aff0de9c0d50e5630b61f0d6e597fcd65_icgraph">
<area shape="rect" title="Load uncompressed image." alt="" coords="425,5,528,31"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a3dd5258961a3c289c1e448b7807cf1fa" title="Load a non&#45;astc image file from memory." alt="" coords="255,5,377,31"/>
<area shape="poly" title=" " alt="" coords="412,21,378,21,378,15,412,15"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="241,21,207,21,207,15,241,15"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
</map>
</div>

</div>
</div>
<a id="a9920dcae3265967744c9b31e9ac8a999" name="a9920dcae3265967744c9b31e9ac8a999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9920dcae3265967744c9b31e9ac8a999">&#9670;&#160;</a></span>load_png_with_wuffs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastcenc__image.html">astcenc_image</a> * load_png_with_wuffs </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>y_flip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;</td>          <td class="paramname"><span class="paramname"><em>is_hdr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;</td>          <td class="paramname"><span class="paramname"><em>component_count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load uncompressed PNG image. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">filename</td><td>The file path on disk. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">y_flip</td><td>Should this image be Y flipped? </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">is_hdr</td><td>Is the loaded image HDR? </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">component_count</td><td>The number of components in the loaded image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>The astc image file, or nullptr on error.</dd></dl>
<p>Load uncompressed PNG image.</p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">filename</td><td>The name of the file to load. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">y_flip</td><td>Should the image be vertically flipped? </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">is_hdr</td><td>Is this an HDR image load? </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">component_count</td><td>The number of components in the data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>The loaded image data in a canonical 4 channel format, or <code>nullptr</code> on error. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__image__external_8cpp_source.html">astcenccli_image_external.cpp</a> 파일의 <a class="el" href="astcenccli__image__external_8cpp_source.html#l00083">83</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>  {</div>
<div class="line"><span class="lineno">   89</span>    is_hdr = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   90</span>    component_count = 4;</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>    std::ifstream file(filename, std::ios::binary | std::ios::ate);</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">if</span> (!file)</div>
<div class="line"><span class="lineno">   94</span>    {</div>
<div class="line"><span class="lineno">   95</span>        <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: Failed to load image %s (can&#39;t fopen)\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno">   96</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">   97</span>    }</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    std::streamsize size = file.tellg();</div>
<div class="line"><span class="lineno">  100</span>    file.seekg(0, std::ios::beg);</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    std::vector&lt;uint8_t&gt; buffer(size);</div>
<div class="line"><span class="lineno">  103</span>    file.read((<span class="keywordtype">char</span>*)buffer.data(), size);</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>    <a class="code hl_typedef" href="wuffs-v0_83_8c.html#aca1b5132af7875ae6352d8791d6beddf">wuffs_png__decoder</a> *dec = <a class="code hl_function" href="wuffs-v0_83_8c.html#a5d2bcf3dfcd583a62738e059b0d27d80">wuffs_png__decoder__alloc</a>();</div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">if</span> (!dec)</div>
<div class="line"><span class="lineno">  107</span>    {</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  109</span>    }</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_struct" href="structwuffs__base____image__config____struct.html">wuffs_base__image_config</a> ic;</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_struct" href="structwuffs__base____io__buffer____struct.html">wuffs_base__io_buffer</a> src = <a class="code hl_function" href="wuffs-v0_83_8c.html#a00677163623339195a082d5c359983d7">wuffs_base__ptr_u8__reader</a>(buffer.data(), size, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_struct" href="structwuffs__base____status____struct.html">wuffs_base__status</a> status = <a class="code hl_function" href="wuffs-v0_83_8c.html#ad48f0296dc931ce5dcea8a0c30e642c0">wuffs_png__decoder__decode_image_config</a>(dec, &amp;ic, &amp;src);</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">if</span> (status.<a class="code hl_variable" href="structwuffs__base____status____struct.html#a41d0e1b59d019e94b7f3c030d53db6e7">repr</a>)</div>
<div class="line"><span class="lineno">  115</span>    {</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  117</span>    }</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>    uint32_t dim_x = <a class="code hl_function" href="wuffs-v0_83_8c.html#a5f2035e154cd391ccf4d43a5f759f25f">wuffs_base__pixel_config__width</a>(&amp;ic.<a class="code hl_variable" href="structwuffs__base____image__config____struct.html#aa5f3a74ab32427acb8f935e04dd6b2ab">pixcfg</a>);</div>
<div class="line"><span class="lineno">  120</span>    uint32_t dim_y = <a class="code hl_function" href="wuffs-v0_83_8c.html#adefd33c267daa0d55e11eb5f6d363625">wuffs_base__pixel_config__height</a>(&amp;ic.<a class="code hl_variable" href="structwuffs__base____image__config____struct.html#aa5f3a74ab32427acb8f935e04dd6b2ab">pixcfg</a>);</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordtype">size_t</span> num_pixels = dim_x * dim_y;</div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordflow">if</span> (num_pixels &gt; (SIZE_MAX / 4))</div>
<div class="line"><span class="lineno">  123</span>    {</div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  125</span>    }</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    <span class="comment">// Override the image&#39;s native pixel format to be RGBA_NONPREMUL</span></div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_function" href="wuffs-v0_83_8c.html#a0a7abef0beaadad92348c82277311994">wuffs_base__pixel_config__set</a>(</div>
<div class="line"><span class="lineno">  129</span>        &amp;ic.<a class="code hl_variable" href="structwuffs__base____image__config____struct.html#aa5f3a74ab32427acb8f935e04dd6b2ab">pixcfg</a>,</div>
<div class="line"><span class="lineno">  130</span>        <a class="code hl_define" href="wuffs-v0_83_8c.html#a0efba23849688a4bf2cfef718ee492e0">WUFFS_BASE__PIXEL_FORMAT__RGBA_NONPREMUL</a>,</div>
<div class="line"><span class="lineno">  131</span>        <a class="code hl_define" href="wuffs-v0_83_8c.html#aa9cb97fbf916a4c85bfe263a57fe3b87">WUFFS_BASE__PIXEL_SUBSAMPLING__NONE</a>,</div>
<div class="line"><span class="lineno">  132</span>        dim_x, dim_y);</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>    <span class="comment">// Configure the work buffer</span></div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordtype">size_t</span> workbuf_len = <a class="code hl_function" href="wuffs-v0_83_8c.html#af83f3e29886ee92948f6e9c792ea018e">wuffs_png__decoder__workbuf_len</a>(dec).<a class="code hl_variable" href="structwuffs__base____range__ii__u64____struct.html#aa643f515f792f8962152af0d6054fb51">max_incl</a>;</div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordflow">if</span> (workbuf_len &gt; SIZE_MAX)</div>
<div class="line"><span class="lineno">  137</span>    {</div>
<div class="line"><span class="lineno">  138</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  139</span>    }</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    wuffs_base__slice_u8 workbuf_slice = wuffs_base__make_slice_u8((uint8_t*)malloc(workbuf_len), workbuf_len);</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">if</span> (!workbuf_slice.ptr)</div>
<div class="line"><span class="lineno">  143</span>    {</div>
<div class="line"><span class="lineno">  144</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  145</span>    }</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>    wuffs_base__slice_u8 pixbuf_slice = wuffs_base__make_slice_u8((uint8_t*)malloc(num_pixels * 4), num_pixels * 4);</div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">if</span> (!pixbuf_slice.ptr)</div>
<div class="line"><span class="lineno">  149</span>    {</div>
<div class="line"><span class="lineno">  150</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  151</span>    }</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    <a class="code hl_struct" href="structwuffs__base____pixel__buffer____struct.html">wuffs_base__pixel_buffer</a> pb;</div>
<div class="line"><span class="lineno">  154</span>    status = <a class="code hl_function" href="wuffs-v0_83_8c.html#a6dbfe45a4cad9cea69bdcf64aec9fb8d">wuffs_base__pixel_buffer__set_from_slice</a>(&amp;pb, &amp;ic.<a class="code hl_variable" href="structwuffs__base____image__config____struct.html#aa5f3a74ab32427acb8f935e04dd6b2ab">pixcfg</a>, pixbuf_slice);</div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">if</span> (status.<a class="code hl_variable" href="structwuffs__base____status____struct.html#a41d0e1b59d019e94b7f3c030d53db6e7">repr</a>)</div>
<div class="line"><span class="lineno">  156</span>    {</div>
<div class="line"><span class="lineno">  157</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  158</span>    }</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    <span class="comment">// Decode the pixels</span></div>
<div class="line"><span class="lineno">  161</span>    status = <a class="code hl_function" href="wuffs-v0_83_8c.html#af57d8e43628d94b43f9443fb8303fdeb">wuffs_png__decoder__decode_frame</a>(dec, &amp;pb, &amp;src, <a class="code hl_define" href="wuffs-v0_83_8c.html#afbc54096d64714b332c602a7a5710fdc">WUFFS_BASE__PIXEL_BLEND__SRC</a>, workbuf_slice, NULL);</div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordflow">if</span> (status.<a class="code hl_variable" href="structwuffs__base____status____struct.html#a41d0e1b59d019e94b7f3c030d53db6e7">repr</a>)</div>
<div class="line"><span class="lineno">  163</span>    {</div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  165</span>    }</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <a class="code hl_struct" href="structastcenc__image.html">astcenc_image</a>* img = <a class="code hl_function" href="astcenccli__image_8cpp.html#a9ecc1dac86584f7e086e9962fb6c0509">astc_img_from_unorm8x4_array</a>(pixbuf_slice.ptr, dim_x, dim_y, y_flip);</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    free(pixbuf_slice.ptr);</div>
<div class="line"><span class="lineno">  170</span>    free(workbuf_slice.ptr);</div>
<div class="line"><span class="lineno">  171</span>    free(dec);</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordflow">return</span> img;</div>
<div class="line"><span class="lineno">  174</span>}</div>
<div class="ttc" id="aastcenccli__image_8cpp_html_a9ecc1dac86584f7e086e9962fb6c0509"><div class="ttname"><a href="astcenccli__image_8cpp.html#a9ecc1dac86584f7e086e9962fb6c0509">astc_img_from_unorm8x4_array</a></div><div class="ttdeci">astcenc_image * astc_img_from_unorm8x4_array(const uint8_t *data, unsigned int dim_x, unsigned int dim_y, bool y_flip)</div><div class="ttdoc">Create an image from a 2D byte data array.</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image_8cpp_source.html#l00205">astcenccli_image.cpp:205</a></div></div>
<div class="ttc" id="astructwuffs__base____image__config____struct_html"><div class="ttname"><a href="structwuffs__base____image__config____struct.html">wuffs_base__image_config__struct</a></div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l04420">wuffs-v0.3.c:4420</a></div></div>
<div class="ttc" id="astructwuffs__base____image__config____struct_html_aa5f3a74ab32427acb8f935e04dd6b2ab"><div class="ttname"><a href="structwuffs__base____image__config____struct.html#aa5f3a74ab32427acb8f935e04dd6b2ab">wuffs_base__image_config__struct::pixcfg</a></div><div class="ttdeci">wuffs_base__pixel_config pixcfg</div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l04421">wuffs-v0.3.c:4421</a></div></div>
<div class="ttc" id="astructwuffs__base____io__buffer____struct_html"><div class="ttname"><a href="structwuffs__base____io__buffer____struct.html">wuffs_base__io_buffer__struct</a></div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l02881">wuffs-v0.3.c:2881</a></div></div>
<div class="ttc" id="astructwuffs__base____pixel__buffer____struct_html"><div class="ttname"><a href="structwuffs__base____pixel__buffer____struct.html">wuffs_base__pixel_buffer__struct</a></div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l04802">wuffs-v0.3.c:4802</a></div></div>
<div class="ttc" id="astructwuffs__base____range__ii__u64____struct_html_aa643f515f792f8962152af0d6054fb51"><div class="ttname"><a href="structwuffs__base____range__ii__u64____struct.html#aa643f515f792f8962152af0d6054fb51">wuffs_base__range_ii_u64__struct::max_incl</a></div><div class="ttdeci">uint64_t max_incl</div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l02061">wuffs-v0.3.c:2061</a></div></div>
<div class="ttc" id="astructwuffs__base____status____struct_html"><div class="ttname"><a href="structwuffs__base____status____struct.html">wuffs_base__status__struct</a></div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l00414">wuffs-v0.3.c:414</a></div></div>
<div class="ttc" id="astructwuffs__base____status____struct_html_a41d0e1b59d019e94b7f3c030d53db6e7"><div class="ttname"><a href="structwuffs__base____status____struct.html#a41d0e1b59d019e94b7f3c030d53db6e7">wuffs_base__status__struct::repr</a></div><div class="ttdeci">const char * repr</div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l00415">wuffs-v0.3.c:415</a></div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_a00677163623339195a082d5c359983d7"><div class="ttname"><a href="wuffs-v0_83_8c.html#a00677163623339195a082d5c359983d7">wuffs_base__ptr_u8__reader</a></div><div class="ttdeci">static wuffs_base__io_buffer wuffs_base__ptr_u8__reader(uint8_t *ptr, size_t len, bool closed)</div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l02928">wuffs-v0.3.c:2928</a></div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_a0a7abef0beaadad92348c82277311994"><div class="ttname"><a href="wuffs-v0_83_8c.html#a0a7abef0beaadad92348c82277311994">wuffs_base__pixel_config__set</a></div><div class="ttdeci">static void wuffs_base__pixel_config__set(wuffs_base__pixel_config *c, uint32_t pixfmt_repr, uint32_t pixsub_repr, uint32_t width, uint32_t height)</div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l04248">wuffs-v0.3.c:4248</a></div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_a0efba23849688a4bf2cfef718ee492e0"><div class="ttname"><a href="wuffs-v0_83_8c.html#a0efba23849688a4bf2cfef718ee492e0">WUFFS_BASE__PIXEL_FORMAT__RGBA_NONPREMUL</a></div><div class="ttdeci">#define WUFFS_BASE__PIXEL_FORMAT__RGBA_NONPREMUL</div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l04012">wuffs-v0.3.c:4012</a></div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_a5d2bcf3dfcd583a62738e059b0d27d80"><div class="ttname"><a href="wuffs-v0_83_8c.html#a5d2bcf3dfcd583a62738e059b0d27d80">wuffs_png__decoder__alloc</a></div><div class="ttdeci">wuffs_png__decoder * wuffs_png__decoder__alloc()</div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_a5f2035e154cd391ccf4d43a5f759f25f"><div class="ttname"><a href="wuffs-v0_83_8c.html#a5f2035e154cd391ccf4d43a5f759f25f">wuffs_base__pixel_config__width</a></div><div class="ttdeci">static uint32_t wuffs_base__pixel_config__width(const wuffs_base__pixel_config *c)</div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l04319">wuffs-v0.3.c:4319</a></div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_a6dbfe45a4cad9cea69bdcf64aec9fb8d"><div class="ttname"><a href="wuffs-v0_83_8c.html#a6dbfe45a4cad9cea69bdcf64aec9fb8d">wuffs_base__pixel_buffer__set_from_slice</a></div><div class="ttdeci">static wuffs_base__status wuffs_base__pixel_buffer__set_from_slice(wuffs_base__pixel_buffer *pb, const wuffs_base__pixel_config *pixcfg, wuffs_base__slice_u8 pixbuf_memory)</div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l04901">wuffs-v0.3.c:4901</a></div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_aa9cb97fbf916a4c85bfe263a57fe3b87"><div class="ttname"><a href="wuffs-v0_83_8c.html#aa9cb97fbf916a4c85bfe263a57fe3b87">WUFFS_BASE__PIXEL_SUBSAMPLING__NONE</a></div><div class="ttdeci">#define WUFFS_BASE__PIXEL_SUBSAMPLING__NONE</div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l04144">wuffs-v0.3.c:4144</a></div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_aca1b5132af7875ae6352d8791d6beddf"><div class="ttname"><a href="wuffs-v0_83_8c.html#aca1b5132af7875ae6352d8791d6beddf">wuffs_png__decoder</a></div><div class="ttdeci">struct wuffs_png__decoder__struct wuffs_png__decoder</div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l09609">wuffs-v0.3.c:9609</a></div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_ad48f0296dc931ce5dcea8a0c30e642c0"><div class="ttname"><a href="wuffs-v0_83_8c.html#ad48f0296dc931ce5dcea8a0c30e642c0">wuffs_png__decoder__decode_image_config</a></div><div class="ttdeci">WUFFS_BASE__MAYBE_STATIC wuffs_base__status wuffs_png__decoder__decode_image_config(wuffs_png__decoder *self, wuffs_base__image_config *a_dst, wuffs_base__io_buffer *a_src)</div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_adefd33c267daa0d55e11eb5f6d363625"><div class="ttname"><a href="wuffs-v0_83_8c.html#adefd33c267daa0d55e11eb5f6d363625">wuffs_base__pixel_config__height</a></div><div class="ttdeci">static uint32_t wuffs_base__pixel_config__height(const wuffs_base__pixel_config *c)</div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l04324">wuffs-v0.3.c:4324</a></div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_af57d8e43628d94b43f9443fb8303fdeb"><div class="ttname"><a href="wuffs-v0_83_8c.html#af57d8e43628d94b43f9443fb8303fdeb">wuffs_png__decoder__decode_frame</a></div><div class="ttdeci">WUFFS_BASE__MAYBE_STATIC wuffs_base__status wuffs_png__decoder__decode_frame(wuffs_png__decoder *self, wuffs_base__pixel_buffer *a_dst, wuffs_base__io_buffer *a_src, wuffs_base__pixel_blend a_blend, wuffs_base__slice_u8 a_workbuf, wuffs_base__decode_frame_options *a_opts)</div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_af83f3e29886ee92948f6e9c792ea018e"><div class="ttname"><a href="wuffs-v0_83_8c.html#af83f3e29886ee92948f6e9c792ea018e">wuffs_png__decoder__workbuf_len</a></div><div class="ttdeci">WUFFS_BASE__MAYBE_STATIC wuffs_base__range_ii_u64 wuffs_png__decoder__workbuf_len(const wuffs_png__decoder *self)</div></div>
<div class="ttc" id="awuffs-v0_83_8c_html_afbc54096d64714b332c602a7a5710fdc"><div class="ttname"><a href="wuffs-v0_83_8c.html#afbc54096d64714b332c602a7a5710fdc">WUFFS_BASE__PIXEL_BLEND__SRC</a></div><div class="ttdeci">#define WUFFS_BASE__PIXEL_BLEND__SRC</div><div class="ttdef"><b>Definition</b> <a href="wuffs-v0_83_8c_source.html#l03918">wuffs-v0.3.c:3918</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a9920dcae3265967744c9b31e9ac8a999_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_a9920dcae3265967744c9b31e9ac8a999_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a9920dcae3265967744c9b31e9ac8a999_cgraph" id="aastcenccli__internal_8h_a9920dcae3265967744c9b31e9ac8a999_cgraph">
<area shape="rect" title="Load uncompressed PNG image." alt="" coords="5,306,145,331"/>
<area shape="rect" href="astcenccli__image_8cpp.html#a9ecc1dac86584f7e086e9962fb6c0509" title="Create an image from a 2D byte data array." alt="" coords="208,5,379,45"/>
<area shape="poly" title=" " alt="" coords="76,305,86,258,107,191,141,119,164,85,192,55,197,51,200,55,195,59,168,88,145,121,112,193,91,260,81,306"/>
<area shape="rect" href="astcenccli__internal_8h.html#a699ebbd5f0143120e8ccaa26ae386b56" title="Print a string to stderr." alt="" coords="253,70,333,95"/>
<area shape="poly" title=" " alt="" coords="77,305,90,266,112,212,146,155,167,129,192,106,215,93,239,85,241,90,217,98,195,110,171,132,150,158,117,214,95,268,82,307"/>
<area shape="rect" href="wuffs-v0_83_8c.html#a6dbfe45a4cad9cea69bdcf64aec9fb8d" title=" " alt="" coords="211,120,376,160"/>
<area shape="poly" title=" " alt="" coords="81,304,122,240,154,203,192,170,201,164,204,169,195,174,158,206,126,244,86,307"/>
<area shape="rect" href="wuffs-v0_83_8c.html#adefd33c267daa0d55e11eb5f6d363625" title=" " alt="" coords="209,184,377,224"/>
<area shape="poly" title=" " alt="" coords="90,304,134,269,192,234,207,227,209,232,195,238,137,274,93,308"/>
<area shape="rect" href="wuffs-v0_83_8c.html#a0a7abef0beaadad92348c82277311994" title=" " alt="" coords="193,249,393,274"/>
<area shape="poly" title=" " alt="" coords="122,303,193,284,228,275,229,280,194,289,123,308"/>
<area shape="rect" href="wuffs-v0_83_8c.html#a5f2035e154cd391ccf4d43a5f759f25f" title=" " alt="" coords="209,299,377,339"/>
<area shape="poly" title=" " alt="" coords="145,316,196,316,196,321,145,321"/>
<area shape="rect" href="wuffs-v0_83_8c.html#a00677163623339195a082d5c359983d7" title=" " alt="" coords="225,363,361,403"/>
<area shape="poly" title=" " alt="" coords="120,329,213,356,211,361,119,334"/>
<area shape="rect" href="wuffs-v0_83_8c.html#a5d2bcf3dfcd583a62738e059b0d27d80" title=" " alt="" coords="224,427,363,467"/>
<area shape="poly" title=" " alt="" coords="91,330,135,370,164,393,195,412,212,421,210,426,192,417,160,397,131,374,87,334"/>
<area shape="rect" href="wuffs-v0_83_8c.html#af57d8e43628d94b43f9443fb8303fdeb" title=" " alt="" coords="224,491,363,531"/>
<area shape="poly" title=" " alt="" coords="85,330,124,400,156,441,195,477,213,487,210,492,192,481,152,445,120,403,80,333"/>
<area shape="rect" href="wuffs-v0_83_8c.html#ad48f0296dc931ce5dcea8a0c30e642c0" title=" " alt="" coords="213,555,374,595"/>
<area shape="poly" title=" " alt="" coords="82,331,94,371,116,428,149,488,171,516,195,541,202,546,199,550,192,545,167,520,145,491,111,430,89,373,77,332"/>
<area shape="rect" href="wuffs-v0_83_8c.html#af83f3e29886ee92948f6e9c792ea018e" title=" " alt="" coords="224,619,363,659"/>
<area shape="poly" title=" " alt="" coords="81,331,89,382,108,456,123,496,142,535,166,572,195,605,213,617,210,622,192,609,162,576,138,538,118,498,103,457,84,383,75,332"/>
<area shape="rect" href="astcenccli__image_8cpp.html#a860f8be85c860429c0df12b581015b68" title="Functions for creating in&#45;memory ASTC image structures." alt="" coords="483,13,574,38"/>
<area shape="poly" title=" " alt="" coords="379,23,469,23,469,28,379,28"/>
<area shape="rect" href="wuffs-v0_83_8c.html#abf415145017be45d9598bb8977e4b0ee" title=" " alt="" coords="441,66,616,91"/>
<area shape="poly" title=" " alt="" coords="370,117,466,92,467,97,372,122"/>
<area shape="rect" href="wuffs-v0_83_8c.html#a25648a08376355264061fa84cb465f27" title=" " alt="" coords="443,116,614,156"/>
<area shape="poly" title=" " alt="" coords="376,136,430,135,430,140,376,141"/>
<area shape="rect" href="wuffs-v0_83_8c.html#a2ae9a1c922cc1b3a5df8d69588682fb1" title=" " alt="" coords="443,180,614,220"/>
<area shape="poly" title=" " alt="" coords="373,158,437,174,436,179,372,163"/>
<area shape="rect" href="wuffs-v0_83_8c.html#a98e6ab25267903c352474a6b2faced0c" title=" " alt="" coords="443,244,614,284"/>
<area shape="poly" title=" " alt="" coords="373,158,395,170,411,185,420,200,428,215,443,230,451,235,448,239,440,234,424,219,415,203,407,188,392,174,371,163"/>
</map>
</div>

</div>
</div>
<a id="a699ebbd5f0143120e8ccaa26ae386b56" name="a699ebbd5f0143120e8ccaa26ae386b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a699ebbd5f0143120e8ccaa26ae386b56">&#9670;&#160;</a></span>print_error() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void print_error </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>format</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print a string to stderr. </p>

<p class="definition"><a class="el" href="astcenccli__internal_8h_source.html">astcenccli_internal.h</a> 파일의 <a class="el" href="astcenccli__internal_8h_source.html#l00102">102</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  104</span>  {</div>
<div class="line"><span class="lineno">  105</span>    fprintf(stderr, <span class="stringliteral">&quot;%s&quot;</span>, format);</div>
<div class="line"><span class="lineno">  106</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a699ebbd5f0143120e8ccaa26ae386b56_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a699ebbd5f0143120e8ccaa26ae386b56_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a699ebbd5f0143120e8ccaa26ae386b56_icgraph" id="aastcenccli__internal_8h_a699ebbd5f0143120e8ccaa26ae386b56_icgraph">
<area shape="rect" title="Print a string to stderr." alt="" coords="489,249,569,274"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,199,207,225"/>
<area shape="poly" title=" " alt="" coords="524,235,518,190,505,136,479,83,462,60,440,41,392,16,371,10,349,8,305,17,256,41,235,57,217,76,189,121,171,165,162,200,157,198,166,164,185,118,213,73,231,53,253,36,304,12,349,3,372,4,394,11,443,37,466,56,484,80,510,134,524,189,529,234"/>
<area shape="rect" href="astcenccli__image__external_8cpp.html#a6f32cae7789a8da7c1dd5fa66a5a1e8a" title="Trap image load failures and convert into a runtime error." alt="" coords="267,51,429,77"/>
<area shape="poly" title=" " alt="" coords="520,236,510,203,493,163,470,123,440,90,421,79,424,74,443,86,475,120,498,161,515,201,525,235"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#affe76bf8f1701e275934901541d19089" title="Edit the astcenc_config" alt="" coords="279,101,417,126"/>
<area shape="poly" title=" " alt="" coords="515,238,485,187,465,161,440,140,416,128,418,123,443,135,468,158,490,184,519,235"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#aaf7c065e8caf5efb3235ae521742312a" title="Initialize the astcenc_config" alt="" coords="281,150,415,175"/>
<area shape="poly" title=" " alt="" coords="505,240,476,213,440,189,413,178,415,173,443,184,479,209,509,236"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a6ef0eed7ff787726c2e16ab96196ed8b" title="Load a compressed .astc image." alt="" coords="301,199,395,225"/>
<area shape="poly" title=" " alt="" coords="475,249,441,239,395,226,396,221,442,233,477,243"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a28511996d63d6f8a96975b0ec3dd2ef2" title="Load an image using STBImage to provide the loader." alt="" coords="277,249,419,274"/>
<area shape="poly" title=" " alt="" coords="476,264,419,264,419,259,476,259"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#aba9c8e82bcbc90a20eead3da97e659e0" title="Load a .exr image using TinyExr to provide the loader." alt="" coords="266,298,430,323"/>
<area shape="poly" title=" " alt="" coords="477,278,442,288,396,301,395,295,441,283,475,273"/>
<area shape="rect" href="astcenccli__image__external_8cpp.html#a9920dcae3265967744c9b31e9ac8a999" title="Load an image using Wuffs to provide the loader." alt="" coords="278,347,418,373"/>
<area shape="poly" title=" " alt="" coords="509,286,479,313,443,337,411,350,409,345,440,332,476,308,505,282"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a3dd5258961a3c289c1e448b7807cf1fa" title="Load a non&#45;astc image file from memory." alt="" coords="287,397,409,422"/>
<area shape="poly" title=" " alt="" coords="519,288,489,338,468,364,443,386,411,402,408,397,440,382,464,360,485,335,514,285"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#aedf9353399b1d889e93faaefb272e410" title="Parse the command line." alt="" coords="255,446,441,471"/>
<area shape="poly" title=" " alt="" coords="524,289,514,322,498,362,474,401,443,435,422,448,419,444,440,431,470,398,493,359,509,320,519,287"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a9ba4a67ed1a59e71c22282996d48390b" title="Store a compressed .astc image." alt="" coords="298,495,398,521"/>
<area shape="poly" title=" " alt="" coords="528,288,520,331,505,384,480,438,463,463,443,485,422,498,399,506,398,501,420,493,440,481,459,460,476,435,500,382,515,330,523,287"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,199,56,225"/>
<area shape="poly" title=" " alt="" coords="90,215,57,215,57,209,90,209"/>
<area shape="poly" title=" " alt="" coords="272,133,256,140,208,170,172,201,168,197,205,166,253,135,270,128"/>
<area shape="poly" title=" " alt="" coords="285,181,207,202,205,197,284,176"/>
<area shape="poly" title=" " alt="" coords="287,215,207,215,207,209,287,209"/>
<area shape="poly" title=" " alt="" coords="273,398,253,386,216,347,188,302,169,258,158,226,163,224,174,257,193,299,220,344,256,382,275,393"/>
<area shape="poly" title=" " alt="" coords="261,442,253,435,229,411,210,383,181,323,164,266,156,225,161,224,169,265,186,321,214,380,234,408,256,431,265,437"/>
<area shape="poly" title=" " alt="" coords="284,502,253,485,226,454,204,419,187,382,175,344,160,274,155,225,160,225,165,273,180,342,192,380,209,417,230,451,256,481,286,497"/>
</map>
</div>

</div>
</div>
<a id="a4a3f02fce6a0f57b6a1166483b5dffe4" name="a4a3f02fce6a0f57b6a1166483b5dffe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a3f02fce6a0f57b6a1166483b5dffe4">&#9670;&#160;</a></span>print_error() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... _Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void print_error </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Args...</td>          <td class="paramname"><span class="paramname"><em>args</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print a formatted string to stderr. </p>

<p class="definition"><a class="el" href="astcenccli__internal_8h_source.html">astcenccli_internal.h</a> 파일의 <a class="el" href="astcenccli__internal_8h_source.html#l00112">112</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span>  {</div>
<div class="line"><span class="lineno">  116</span>    fprintf(stderr, format, args...);</div>
<div class="line"><span class="lineno">  117</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ba4a67ed1a59e71c22282996d48390b" name="a9ba4a67ed1a59e71c22282996d48390b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ba4a67ed1a59e71c22282996d48390b">&#9670;&#160;</a></span>store_cimage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int store_cimage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structastc__compressed__image.html">astc_compressed_image</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>img</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store a compressed .astc image. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The image to store. </td></tr>
    <tr><td class="paramname">filename</td><td>The file to save.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>Non-zero on error, zero on success. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__image__load__store_8cpp_source.html">astcenccli_image_load_store.cpp</a> 파일의 <a class="el" href="astcenccli__image__load__store_8cpp_source.html#l02527">2527</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2530</span>  {</div>
<div class="line"><span class="lineno"> 2531</span>    <a class="code hl_struct" href="structastc__header.html">astc_header</a> <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>;</div>
<div class="line"><span class="lineno"> 2532</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.<a class="code hl_variable" href="structastc__header.html#a58a19db3a00c763189cafeb0dbe2a34d">magic</a>[0] =  <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a6c8fb8eec7b24bc517ae0f6c21e241c8">ASTC_MAGIC_ID</a>        &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2533</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.magic[1] = (<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a6c8fb8eec7b24bc517ae0f6c21e241c8">ASTC_MAGIC_ID</a> &gt;&gt;  8) &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2534</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.magic[2] = (<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a6c8fb8eec7b24bc517ae0f6c21e241c8">ASTC_MAGIC_ID</a> &gt;&gt; 16) &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2535</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.magic[3] = (<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a6c8fb8eec7b24bc517ae0f6c21e241c8">ASTC_MAGIC_ID</a> &gt;&gt; 24) &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2536</span> </div>
<div class="line"><span class="lineno"> 2537</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.block_x = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(img.<a class="code hl_variable" href="structastc__compressed__image.html#aeafe1da3bf5227bcd020c62035d905fe">block_x</a>);</div>
<div class="line"><span class="lineno"> 2538</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.block_y = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(img.<a class="code hl_variable" href="structastc__compressed__image.html#a819085bbeed627f0e6e33d7d8efb34cb">block_y</a>);</div>
<div class="line"><span class="lineno"> 2539</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.block_z = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(img.<a class="code hl_variable" href="structastc__compressed__image.html#a507b65951cf307eb7481c65929cb5e67">block_z</a>);</div>
<div class="line"><span class="lineno"> 2540</span> </div>
<div class="line"><span class="lineno"> 2541</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_x[0] =  img.<a class="code hl_variable" href="structastc__compressed__image.html#ab8b069942fbe6cc5441abfe20053abff">dim_x</a>        &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2542</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_x[1] = (img.<a class="code hl_variable" href="structastc__compressed__image.html#ab8b069942fbe6cc5441abfe20053abff">dim_x</a> &gt;&gt;  8) &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2543</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_x[2] = (img.<a class="code hl_variable" href="structastc__compressed__image.html#ab8b069942fbe6cc5441abfe20053abff">dim_x</a> &gt;&gt; 16) &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2544</span> </div>
<div class="line"><span class="lineno"> 2545</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_y[0] =  img.<a class="code hl_variable" href="structastc__compressed__image.html#a15c6ae8cb877cf74f963d1ea3d15afb3">dim_y</a>       &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2546</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_y[1] = (img.<a class="code hl_variable" href="structastc__compressed__image.html#a15c6ae8cb877cf74f963d1ea3d15afb3">dim_y</a> &gt;&gt;  8) &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2547</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_y[2] = (img.<a class="code hl_variable" href="structastc__compressed__image.html#a15c6ae8cb877cf74f963d1ea3d15afb3">dim_y</a> &gt;&gt; 16) &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2548</span> </div>
<div class="line"><span class="lineno"> 2549</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_z[0] =  img.<a class="code hl_variable" href="structastc__compressed__image.html#a09c8a9676fc4b269cff40386515120e7">dim_z</a>        &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2550</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_z[1] = (img.<a class="code hl_variable" href="structastc__compressed__image.html#a09c8a9676fc4b269cff40386515120e7">dim_z</a> &gt;&gt;  8) &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2551</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.dim_z[2] = (img.<a class="code hl_variable" href="structastc__compressed__image.html#a09c8a9676fc4b269cff40386515120e7">dim_z</a> &gt;&gt; 16) &amp; 0xFF;</div>
<div class="line"><span class="lineno"> 2552</span> </div>
<div class="line"><span class="lineno"> 2553</span>    std::ofstream file(filename, std::ios::out | std::ios::binary);</div>
<div class="line"><span class="lineno"> 2554</span>    <span class="keywordflow">if</span> (!file)</div>
<div class="line"><span class="lineno"> 2555</span>    {</div>
<div class="line"><span class="lineno"> 2556</span>        <a class="code hl_function" href="#a699ebbd5f0143120e8ccaa26ae386b56">print_error</a>(<span class="stringliteral">&quot;ERROR: File open failed &#39;%s&#39;\n&quot;</span>, filename);</div>
<div class="line"><span class="lineno"> 2557</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2558</span>    }</div>
<div class="line"><span class="lineno"> 2559</span> </div>
<div class="line"><span class="lineno"> 2560</span>    file.write(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(&amp;<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structastc__header.html">astc_header</a>));</div>
<div class="line"><span class="lineno"> 2561</span>    file.write(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(img.<a class="code hl_variable" href="structastc__compressed__image.html#a2f8dadc1beecd1f0b84e8c01078ebb75">data</a>), img.<a class="code hl_variable" href="structastc__compressed__image.html#ac18330848346858e41c3f9464deacb0f">data_len</a>);</div>
<div class="line"><span class="lineno"> 2562</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2563</span>}</div>
<div class="ttc" id="astructastc__header_html_a58a19db3a00c763189cafeb0dbe2a34d"><div class="ttname"><a href="structastc__header.html#a58a19db3a00c763189cafeb0dbe2a34d">astc_header::magic</a></div><div class="ttdeci">uint8_t magic[4]</div><div class="ttdef"><b>Definition</b> <a href="astcenccli__image__load__store_8cpp_source.html#l02435">astcenccli_image_load_store.cpp:2435</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a9ba4a67ed1a59e71c22282996d48390b_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_a9ba4a67ed1a59e71c22282996d48390b_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a9ba4a67ed1a59e71c22282996d48390b_cgraph" id="aastcenccli__internal_8h_a9ba4a67ed1a59e71c22282996d48390b_cgraph">
<area shape="rect" title="Store a compressed .astc image." alt="" coords="5,5,105,31"/>
<area shape="rect" href="astcenccli__internal_8h.html#a699ebbd5f0143120e8ccaa26ae386b56" title="Print a string to stderr." alt="" coords="153,5,233,31"/>
<area shape="poly" title=" " alt="" coords="106,15,139,15,139,21,106,21"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a9ba4a67ed1a59e71c22282996d48390b_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a9ba4a67ed1a59e71c22282996d48390b_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a9ba4a67ed1a59e71c22282996d48390b_icgraph" id="aastcenccli__internal_8h_a9ba4a67ed1a59e71c22282996d48390b_icgraph">
<area shape="rect" title="Store a compressed .astc image." alt="" coords="255,5,355,31"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="241,21,207,21,207,15,241,15"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
</map>
</div>

</div>
</div>
<a id="a3e674d4952496a98a942815392b1a3a5" name="a3e674d4952496a98a942815392b1a3a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e674d4952496a98a942815392b1a3a5">&#9670;&#160;</a></span>store_ktx_compressed_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool store_ktx_compressed_image </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structastc__compressed__image.html">astc_compressed_image</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>img</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>is_srgb</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store a compressed .ktx image. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The image to store. </td></tr>
    <tr><td class="paramname">filename</td><td>The file to store. </td></tr>
    <tr><td class="paramname">is_srgb</td><td>Is this an sRGB encoded file?</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>Non-zero on error, zero on success.</dd></dl>
<p>Store a compressed .ktx image.</p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The image data to store. </td></tr>
    <tr><td class="paramname">filename</td><td>The name of the file to save. </td></tr>
    <tr><td class="paramname">is_srgb</td><td><code>true</code> if this is an sRGB image, <code>false</code> if linear.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd><code>true</code> on error, <code>false</code> otherwise. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__image__load__store_8cpp_source.html">astcenccli_image_load_store.cpp</a> 파일의 <a class="el" href="astcenccli__image__load__store_8cpp_source.html#l01389">1389</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1393</span>  {</div>
<div class="line"><span class="lineno"> 1394</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fmt = <a class="code hl_function" href="astcenccli__image__load__store_8cpp.html#a25de668f2135ef9b77dd0c86b5d36b27">get_format</a>(img.<a class="code hl_variable" href="structastc__compressed__image.html#aeafe1da3bf5227bcd020c62035d905fe">block_x</a>, img.<a class="code hl_variable" href="structastc__compressed__image.html#a819085bbeed627f0e6e33d7d8efb34cb">block_y</a>, img.<a class="code hl_variable" href="structastc__compressed__image.html#a507b65951cf307eb7481c65929cb5e67">block_z</a>, is_srgb);</div>
<div class="line"><span class="lineno"> 1395</span> </div>
<div class="line"><span class="lineno"> 1396</span>    <a class="code hl_struct" href="structktx__header.html">ktx_header</a> <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>;</div>
<div class="line"><span class="lineno"> 1397</span>    memcpy(<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.magic, <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a0adaccef807b4af5a439916323ffb891">ktx_magic</a>, 12);</div>
<div class="line"><span class="lineno"> 1398</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.endianness = 0x04030201;</div>
<div class="line"><span class="lineno"> 1399</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.gl_type = 0;</div>
<div class="line"><span class="lineno"> 1400</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.gl_type_size = 1;</div>
<div class="line"><span class="lineno"> 1401</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.gl_format = 0;</div>
<div class="line"><span class="lineno"> 1402</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.gl_internal_format = fmt;</div>
<div class="line"><span class="lineno"> 1403</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.gl_base_internal_format = <a class="code hl_define" href="astcenccli__image__load__store_8cpp.html#a9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>;</div>
<div class="line"><span class="lineno"> 1404</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.pixel_width = img.<a class="code hl_variable" href="structastc__compressed__image.html#ab8b069942fbe6cc5441abfe20053abff">dim_x</a>;</div>
<div class="line"><span class="lineno"> 1405</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.pixel_height = img.<a class="code hl_variable" href="structastc__compressed__image.html#a15c6ae8cb877cf74f963d1ea3d15afb3">dim_y</a>;</div>
<div class="line"><span class="lineno"> 1406</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.pixel_depth = (img.<a class="code hl_variable" href="structastc__compressed__image.html#a09c8a9676fc4b269cff40386515120e7">dim_z</a> == 1) ? 0 : img.dim_z;</div>
<div class="line"><span class="lineno"> 1407</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.number_of_array_elements = 0;</div>
<div class="line"><span class="lineno"> 1408</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.number_of_faces = 1;</div>
<div class="line"><span class="lineno"> 1409</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.number_of_mipmap_levels = 1;</div>
<div class="line"><span class="lineno"> 1410</span>    <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>.bytes_of_key_value_data = 0;</div>
<div class="line"><span class="lineno"> 1411</span> </div>
<div class="line"><span class="lineno"> 1412</span>    <span class="keywordtype">size_t</span> expected = <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structktx__header.html">ktx_header</a>) + 4 + img.<a class="code hl_variable" href="structastc__compressed__image.html#ac18330848346858e41c3f9464deacb0f">data_len</a>;</div>
<div class="line"><span class="lineno"> 1413</span>    <span class="keywordtype">size_t</span> actual = 0;</div>
<div class="line"><span class="lineno"> 1414</span> </div>
<div class="line"><span class="lineno"> 1415</span>    FILE *wf = fopen(filename, <span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><span class="lineno"> 1416</span>    <span class="keywordflow">if</span> (!wf)</div>
<div class="line"><span class="lineno"> 1417</span>    {</div>
<div class="line"><span class="lineno"> 1418</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1419</span>    }</div>
<div class="line"><span class="lineno"> 1420</span> </div>
<div class="line"><span class="lineno"> 1421</span>    actual += fwrite(&amp;<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a78fd18ccd29d2487172eafa32c229c92">hdr</a>, 1, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structktx__header.html">ktx_header</a>), wf);</div>
<div class="line"><span class="lineno"> 1422</span>    actual += fwrite(&amp;img.<a class="code hl_variable" href="structastc__compressed__image.html#ac18330848346858e41c3f9464deacb0f">data_len</a>, 1, 4, wf);</div>
<div class="line"><span class="lineno"> 1423</span>    actual += fwrite(img.<a class="code hl_variable" href="structastc__compressed__image.html#a2f8dadc1beecd1f0b84e8c01078ebb75">data</a>, 1, img.<a class="code hl_variable" href="structastc__compressed__image.html#ac18330848346858e41c3f9464deacb0f">data_len</a>, wf);</div>
<div class="line"><span class="lineno"> 1424</span>    fclose(wf);</div>
<div class="line"><span class="lineno"> 1425</span> </div>
<div class="line"><span class="lineno"> 1426</span>    <span class="keywordflow">if</span> (actual != expected)</div>
<div class="line"><span class="lineno"> 1427</span>    {</div>
<div class="line"><span class="lineno"> 1428</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1429</span>    }</div>
<div class="line"><span class="lineno"> 1430</span> </div>
<div class="line"><span class="lineno"> 1431</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1432</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a3e674d4952496a98a942815392b1a3a5_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_a3e674d4952496a98a942815392b1a3a5_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a3e674d4952496a98a942815392b1a3a5_cgraph" id="aastcenccli__internal_8h_a3e674d4952496a98a942815392b1a3a5_cgraph">
<area shape="rect" title="Store a compressed .ktx image." alt="" coords="5,5,160,45"/>
<area shape="rect" href="astcenccli__image__load__store_8cpp.html#a25de668f2135ef9b77dd0c86b5d36b27" title=" " alt="" coords="208,13,291,38"/>
<area shape="poly" title=" " alt="" coords="160,23,194,23,194,28,160,28"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a3e674d4952496a98a942815392b1a3a5_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a3e674d4952496a98a942815392b1a3a5_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a3e674d4952496a98a942815392b1a3a5_icgraph" id="aastcenccli__internal_8h_a3e674d4952496a98a942815392b1a3a5_icgraph">
<area shape="rect" title="Store a compressed .ktx image." alt="" coords="255,5,409,45"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,13,207,38"/>
<area shape="poly" title=" " alt="" coords="241,28,207,28,207,23,241,23"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,13,56,38"/>
<area shape="poly" title=" " alt="" coords="90,28,57,28,57,23,90,23"/>
</map>
</div>

</div>
</div>
<a id="a263b2ab9e4335fc13f801ba569eed939" name="a263b2ab9e4335fc13f801ba569eed939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a263b2ab9e4335fc13f801ba569eed939">&#9670;&#160;</a></span>store_ncimage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool store_ncimage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structastcenc__image.html">astcenc_image</a> *</td>          <td class="paramname"><span class="paramname"><em>img</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>y_flip</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save an uncompressed image. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The source data for the image. </td></tr>
    <tr><td class="paramname">filename</td><td>The name of the file to save. </td></tr>
    <tr><td class="paramname">y_flip</td><td>Should the image be vertically flipped?</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd><code>true</code> if the image saved OK, <code>false</code> on error. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__image__load__store_8cpp_source.html">astcenccli_image_load_store.cpp</a> 파일의 <a class="el" href="astcenccli__image__load__store_8cpp_source.html#l02405">2405</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2409</span>  {</div>
<div class="line"><span class="lineno"> 2410</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* eptr = strrchr(filename, <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><span class="lineno"> 2411</span>    <span class="keywordflow">if</span> (!eptr)</div>
<div class="line"><span class="lineno"> 2412</span>    {</div>
<div class="line"><span class="lineno"> 2413</span>        eptr = <span class="stringliteral">&quot;.ktx&quot;</span>; <span class="comment">// use KTX file format if we don&#39;t have an ending.</span></div>
<div class="line"><span class="lineno"> 2414</span>    }</div>
<div class="line"><span class="lineno"> 2415</span> </div>
<div class="line"><span class="lineno"> 2416</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a8923fb63f80b47dc81fc5c2d11ae1248">storer_descr_count</a>; i++)</div>
<div class="line"><span class="lineno"> 2417</span>    {</div>
<div class="line"><span class="lineno"> 2418</span>        <span class="keywordflow">if</span> (strcmp(eptr, storer_descs[i].<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#aeb6dc6b73a14c055f8f9e8542959d57d">ending1</a>) == 0</div>
<div class="line"><span class="lineno"> 2419</span>         || strcmp(eptr, storer_descs[i].<a class="code hl_variable" href="astcenccli__image__load__store_8cpp.html#a2cfda059378558e8eaf1877eb042c7c1">ending2</a>) == 0)</div>
<div class="line"><span class="lineno"> 2420</span>        {</div>
<div class="line"><span class="lineno"> 2421</span>            <span class="keywordflow">return</span> storer_descs[i].storer_func(output_image, filename, y_flip);</div>
<div class="line"><span class="lineno"> 2422</span>        }</div>
<div class="line"><span class="lineno"> 2423</span>    }</div>
<div class="line"><span class="lineno"> 2424</span> </div>
<div class="line"><span class="lineno"> 2425</span>    <span class="comment">// Should never reach here - get_output_filename_enforced_bitness should</span></div>
<div class="line"><span class="lineno"> 2426</span>    <span class="comment">// have acted as a preflight check</span></div>
<div class="line"><span class="lineno"> 2427</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2428</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a263b2ab9e4335fc13f801ba569eed939_icgraph.png" border="0" usemap="#aastcenccli__internal_8h_a263b2ab9e4335fc13f801ba569eed939_icgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a263b2ab9e4335fc13f801ba569eed939_icgraph" id="aastcenccli__internal_8h_a263b2ab9e4335fc13f801ba569eed939_icgraph">
<area shape="rect" title="Save an uncompressed image." alt="" coords="465,5,572,31"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="452,21,207,21,207,15,452,15"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a65c87ee1ff0ed0736cffa06692853479" title="Print a set of diagnostic images showing aspects of the encoding." alt="" coords="255,31,417,56"/>
<area shape="poly" title=" " alt="" coords="452,30,418,35,417,29,452,25"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
<area shape="poly" title=" " alt="" coords="241,33,206,28,207,22,242,27"/>
</map>
</div>

</div>
</div>
<a id="a9706acc840e996830702a831d846559c" name="a9706acc840e996830702a831d846559c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9706acc840e996830702a831d846559c">&#9670;&#160;</a></span>unorm8x4_array_from_astc_img()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * unorm8x4_array_from_astc_img </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structastcenc__image.html">astcenc_image</a> *</td>          <td class="paramname"><span class="paramname"><em>img</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>y_flip</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a flattened RGBA UNORM8 data array from an image structure. </p>
<p>The returned data array is allocated with <code>new</code>[] and must be freed with a <code>delete</code>[] call.</p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The input image. </td></tr>
    <tr><td class="paramname">y_flip</td><td>Should the data in the array be Y flipped?</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>반환값</dt><dd>The data array. </dd></dl>

<p class="definition"><a class="el" href="astcenccli__image_8cpp_source.html">astcenccli_image.cpp</a> 파일의 <a class="el" href="astcenccli__image_8cpp_source.html#l00307">307</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  310</span>  {</div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_x = img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a8bb8eebb59215778176674951c6da70a">dim_x</a>;</div>
<div class="line"><span class="lineno">  312</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim_y = img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a3a62fbbc3a16a390eca3b03b6e489750">dim_y</a>;</div>
<div class="line"><span class="lineno">  313</span>    uint8_t* buf = <span class="keyword">new</span> uint8_t[4 * dim_x * dim_y];</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>    <span class="keywordflow">if</span> (img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aa91ac7b6329d0a39c879dff7a1bcdf759">ASTCENC_TYPE_U8</a>)</div>
<div class="line"><span class="lineno">  316</span>    {</div>
<div class="line"><span class="lineno">  317</span>        uint8_t* data8 = <span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[0]);</div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y = 0; y &lt; dim_y; y++)</div>
<div class="line"><span class="lineno">  319</span>        {</div>
<div class="line"><span class="lineno">  320</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ymod = y_flip ? dim_y - y - 1 : y;</div>
<div class="line"><span class="lineno">  321</span>            uint8_t* dst = buf + y * dim_x * 4;</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; dim_x; x++)</div>
<div class="line"><span class="lineno">  324</span>            {</div>
<div class="line"><span class="lineno">  325</span>                dst[4 * x    ] = data8[(4 * dim_x * ymod) + (4 * x    )];</div>
<div class="line"><span class="lineno">  326</span>                dst[4 * x + 1] = data8[(4 * dim_x * ymod) + (4 * x + 1)];</div>
<div class="line"><span class="lineno">  327</span>                dst[4 * x + 2] = data8[(4 * dim_x * ymod) + (4 * x + 2)];</div>
<div class="line"><span class="lineno">  328</span>                dst[4 * x + 3] = data8[(4 * dim_x * ymod) + (4 * x + 3)];</div>
<div class="line"><span class="lineno">  329</span>            }</div>
<div class="line"><span class="lineno">  330</span>        }</div>
<div class="line"><span class="lineno">  331</span>    }</div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aad39e16b7f2e55ed676ce400619f0759d">ASTCENC_TYPE_F16</a>)</div>
<div class="line"><span class="lineno">  333</span>    {</div>
<div class="line"><span class="lineno">  334</span>        uint16_t* data16 = <span class="keyword">static_cast&lt;</span>uint16_t*<span class="keyword">&gt;</span>(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[0]);</div>
<div class="line"><span class="lineno">  335</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y = 0; y &lt; dim_y; y++)</div>
<div class="line"><span class="lineno">  336</span>        {</div>
<div class="line"><span class="lineno">  337</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ymod = y_flip ? dim_y - y - 1 : y;</div>
<div class="line"><span class="lineno">  338</span>            uint8_t* dst = buf + y * dim_x * 4;</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; dim_x; x++)</div>
<div class="line"><span class="lineno">  341</span>            {</div>
<div class="line"><span class="lineno">  342</span>                <a class="code hl_struct" href="structvint4.html">vint4</a> colori(</div>
<div class="line"><span class="lineno">  343</span>                    data16[(4 * dim_x * ymod) + (4 * x    )],</div>
<div class="line"><span class="lineno">  344</span>                    data16[(4 * dim_x * ymod) + (4 * x + 1)],</div>
<div class="line"><span class="lineno">  345</span>                    data16[(4 * dim_x * ymod) + (4 * x + 2)],</div>
<div class="line"><span class="lineno">  346</span>                    data16[(4 * dim_x * ymod) + (4 * x + 3)]</div>
<div class="line"><span class="lineno">  347</span>                );</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>                <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> color = <a class="code hl_function" href="astcenc__vecmathlib__neon__4_8h.html#afd7aa2069bdf377067c3abaca1256432">float16_to_float</a>(colori);</div>
<div class="line"><span class="lineno">  350</span>                color = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e">clamp</a>(0.0f, 1.0f, color) * 255.0f;</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>                colori = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a598d6ea3ba27a788b12341a5263c7881">float_to_int_rtn</a>(color);</div>
<div class="line"><span class="lineno">  353</span>                <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a98f7a50685f56b5c84d1c760fa037d6d">pack_low_bytes</a>(colori);</div>
<div class="line"><span class="lineno">  354</span>                <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ac55f9ffdc41bee5d274cb6433809fefc">store_nbytes</a>(colori, dst + 4 * x);</div>
<div class="line"><span class="lineno">  355</span>            }</div>
<div class="line"><span class="lineno">  356</span>        }</div>
<div class="line"><span class="lineno">  357</span>    }</div>
<div class="line"><span class="lineno">  358</span>    <span class="keywordflow">else</span> <span class="comment">// if (img-&gt;data_type == ASTCENC_TYPE_F32)</span></div>
<div class="line"><span class="lineno">  359</span>    {</div>
<div class="line"><span class="lineno">  360</span>        assert(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#a5ce29ab112fff72151cbffcb3c8fdb16">data_type</a> == <a class="code hl_enumvalue" href="astcenc_8h.html#a7aeb732fb3426e390fa669957d7a109aaf996e38de0e0ac57175c09da275c6062">ASTCENC_TYPE_F32</a>);</div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordtype">float</span>* data32 = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span>*<span class="keyword">&gt;</span>(img-&gt;<a class="code hl_variable" href="structastcenc__image.html#ac2487bc635b3c9eced65f2c551e759f2">data</a>[0]);</div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y = 0; y &lt; dim_y; y++)</div>
<div class="line"><span class="lineno">  363</span>        {</div>
<div class="line"><span class="lineno">  364</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ymod = y_flip ? dim_y - y - 1 : y;</div>
<div class="line"><span class="lineno">  365</span>            uint8_t* dst = buf + y * dim_x * 4;</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; dim_x; x++)</div>
<div class="line"><span class="lineno">  368</span>            {</div>
<div class="line"><span class="lineno">  369</span>                dst[4 * x    ] = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(<a class="code hl_function" href="namespaceastc.html#a455f4a304ea7dcdd8fd0de030cbdbfb4">astc::flt2int_rtn</a>(<a class="code hl_function" href="namespaceastc.html#ac60307af42a98d70a956170894e29e9e">astc::clamp1f</a>(data32[(4 * dim_x * ymod) + (4 * x    )]) * 255.0f));</div>
<div class="line"><span class="lineno">  370</span>                dst[4 * x + 1] = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(<a class="code hl_function" href="namespaceastc.html#a455f4a304ea7dcdd8fd0de030cbdbfb4">astc::flt2int_rtn</a>(<a class="code hl_function" href="namespaceastc.html#ac60307af42a98d70a956170894e29e9e">astc::clamp1f</a>(data32[(4 * dim_x * ymod) + (4 * x + 1)]) * 255.0f));</div>
<div class="line"><span class="lineno">  371</span>                dst[4 * x + 2] = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(<a class="code hl_function" href="namespaceastc.html#a455f4a304ea7dcdd8fd0de030cbdbfb4">astc::flt2int_rtn</a>(<a class="code hl_function" href="namespaceastc.html#ac60307af42a98d70a956170894e29e9e">astc::clamp1f</a>(data32[(4 * dim_x * ymod) + (4 * x + 2)]) * 255.0f));</div>
<div class="line"><span class="lineno">  372</span>                dst[4 * x + 3] = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(<a class="code hl_function" href="namespaceastc.html#a455f4a304ea7dcdd8fd0de030cbdbfb4">astc::flt2int_rtn</a>(<a class="code hl_function" href="namespaceastc.html#ac60307af42a98d70a956170894e29e9e">astc::clamp1f</a>(data32[(4 * dim_x * ymod) + (4 * x + 3)]) * 255.0f));</div>
<div class="line"><span class="lineno">  373</span>            }</div>
<div class="line"><span class="lineno">  374</span>        }</div>
<div class="line"><span class="lineno">  375</span>    }</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">return</span> buf;</div>
<div class="line"><span class="lineno">  378</span>}</div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a598d6ea3ba27a788b12341a5263c7881"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a598d6ea3ba27a788b12341a5263c7881">float_to_int_rtn</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vint8 float_to_int_rtn(vfloat8 a)</div><div class="ttdoc">Return a integer value for a float vector, using round-to-nearest.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l01009">astcenc_vecmathlib_avx2_8.h:1009</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a98f7a50685f56b5c84d1c760fa037d6d"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a98f7a50685f56b5c84d1c760fa037d6d">pack_low_bytes</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vint8 pack_low_bytes(vint8 v)</div><div class="ttdoc">Pack low 8 bits of N (vector width) lanes into bottom of vector.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00584">astcenc_vecmathlib_avx2_8.h:584</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_ac55f9ffdc41bee5d274cb6433809fefc"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#ac55f9ffdc41bee5d274cb6433809fefc">store_nbytes</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE void store_nbytes(vint8 a, uint8_t *p)</div><div class="ttdoc">Store lowest N (vector width) bytes into an unaligned address.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00565">astcenc_vecmathlib_avx2_8.h:565</a></div></div>
<div class="ttc" id="anamespaceastc_html_a455f4a304ea7dcdd8fd0de030cbdbfb4"><div class="ttname"><a href="namespaceastc.html#a455f4a304ea7dcdd8fd0de030cbdbfb4">astc::flt2int_rtn</a></div><div class="ttdeci">static int flt2int_rtn(float v)</div><div class="ttdoc">SP float round-to-nearest and convert to integer.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00318">astcenc_mathlib.h:318</a></div></div>
<div class="ttc" id="anamespaceastc_html_ac60307af42a98d70a956170894e29e9e"><div class="ttname"><a href="namespaceastc.html#ac60307af42a98d70a956170894e29e9e">astc::clamp1f</a></div><div class="ttdeci">static float clamp1f(float v)</div><div class="ttdoc">Clamp a float value between 0.0f and 1.0f.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00280">astcenc_mathlib.h:280</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenccli__internal_8h_a9706acc840e996830702a831d846559c_cgraph.png" border="0" usemap="#aastcenccli__internal_8h_a9706acc840e996830702a831d846559c_cgraph" alt=""/></div>
<map name="aastcenccli__internal_8h_a9706acc840e996830702a831d846559c_cgraph" id="aastcenccli__internal_8h_a9706acc840e996830702a831d846559c_cgraph">
<area shape="rect" title="Create a flattened RGBA UNORM8 data array from an image structure." alt="" coords="5,195,152,235"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ae91c0bb0ebd82ed2a7fa7aa915f6e76e" title="Return the clamped value between min and max." alt="" coords="229,55,286,80"/>
<area shape="poly" title=" " alt="" coords="93,193,138,142,167,114,199,89,215,80,218,84,201,94,170,118,141,146,97,197"/>
<area shape="rect" href="namespaceastc.html#ac60307af42a98d70a956170894e29e9e" title="Clamp a float value between 0.0f and 1.0f." alt="" coords="207,104,307,129"/>
<area shape="poly" title=" " alt="" coords="108,193,199,138,210,133,212,137,201,143,111,198"/>
<area shape="rect" href="astcenc__vecmathlib__neon__4_8h.html#afd7aa2069bdf377067c3abaca1256432" title="Return a float value for a float16 vector." alt="" coords="203,153,312,179"/>
<area shape="poly" title=" " alt="" coords="151,193,197,180,198,185,152,198"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a598d6ea3ba27a788b12341a5263c7881" title="Return a integer value for a float vector, using round&#45;to&#45;nearest." alt="" coords="204,203,311,228"/>
<area shape="poly" title=" " alt="" coords="152,213,190,213,190,218,152,218"/>
<area shape="rect" href="namespaceastc.html#a455f4a304ea7dcdd8fd0de030cbdbfb4" title="SP float round&#45;to&#45;nearest and convert to integer." alt="" coords="203,252,311,277"/>
<area shape="poly" title=" " alt="" coords="152,233,198,246,197,251,151,238"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a98f7a50685f56b5c84d1c760fa037d6d" title="Pack low 8 bits of N (vector width) lanes into bottom of vector." alt="" coords="200,301,315,327"/>
<area shape="poly" title=" " alt="" coords="112,233,201,286,215,293,213,298,199,291,109,238"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ac55f9ffdc41bee5d274cb6433809fefc" title="Store lowest N (vector width) bytes into an unaligned address." alt="" coords="209,351,306,376"/>
<area shape="poly" title=" " alt="" coords="97,234,141,285,170,312,202,337,209,342,207,347,198,342,167,316,138,288,93,238"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aa162915c044e97cc1f6d630338761fd3" title="Return the max vector of two vectors." alt="" coords="385,5,431,31"/>
<area shape="poly" title=" " alt="" coords="285,56,371,27,373,32,287,61"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a165b3db4e7ced1551e1880a01a01150b" title="Return the min vector of two vectors." alt="" coords="387,55,429,80"/>
<area shape="poly" title=" " alt="" coords="286,65,373,65,373,70,286,70"/>
<area shape="rect" href="namespaceastc.html#a8f8b2ad23b04a389f6785bc80b61349b" title="Clamp a value value between mn and mx." alt="" coords="363,104,453,129"/>
<area shape="poly" title=" " alt="" coords="308,114,349,114,349,119,308,119"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_211b531afad3b7391864460492782af6.html">astc-encoder-main</a></li><li class="navelem"><a class="el" href="dir_7df889ea08e038e0b05c337eccc30153.html">Source</a></li><li class="navelem"><a class="el" href="astcenccli__internal_8h.html">astcenccli_internal.h</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
