<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project1: C:/Users/inhyu/OneDrive/바탕 화면/랩실 내용/astc-encoder-main/Source/astcenc_weight_align.cpp 파일 참조</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Project1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('astcenc__weight__align_8cpp.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">함수</a> &#124;
<a href="#var-members">변수</a>  </div>
  <div class="headertitle"><div class="title">astcenc_weight_align.cpp 파일 참조</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="astcenc__internal_8h_source.html">astcenc_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="astcenc__vecmathlib_8h_source.html">astcenc_vecmathlib.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;cstring&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
astcenc_weight_align.cpp에 대한 include 의존 그래프</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__weight__align_8cpp__incl.png" border="0" usemap="#a_c_1_2_users_2inhyu_2_one_drive_2_xEB_xB0_x94_xED_x83_x95_01_xED_x99_x94_xEB_xA9_xB4_2_xEB_x9E_xA9_xEC_x8B_xA4_01_xEB_x82_xB4_xEC_x9A_xA9_2astc-encoder-main_2_source_2astcenc__weight__align_8cpp" alt=""/></div>
<map name="a_c_1_2_users_2inhyu_2_one_drive_2_xEB_xB0_x94_xED_x83_x95_01_xED_x99_x94_xEB_xA9_xB4_2_xEB_x9E_xA9_xEC_x8B_xA4_01_xEB_x82_xB4_xEC_x9A_xA9_2astc-encoder-main_2_source_2astcenc__weight__align_8cpp" id="a_c_1_2_users_2inhyu_2_one_drive_2_xEB_xB0_x94_xED_x83_x95_01_xED_x99_x94_xEB_xA9_xB4_2_xEB_x9E_xA9_xEC_x8B_xA4_01_xEB_x82_xB4_xEC_x9A_xA9_2astc-encoder-main_2_source_2astcenc__weight__align_8cpp">
<area shape="rect" title=" " alt="" coords="477,5,697,75"/>
<area shape="rect" href="astcenc__internal_8h.html" title=" " alt="" coords="102,123,230,148"/>
<area shape="poly" title=" " alt="" coords="477,68,232,122,230,117,476,63"/>
<area shape="rect" title=" " alt="" coords="364,269,429,295"/>
<area shape="poly" title=" " alt="" coords="569,76,522,146,462,223,422,262,419,259,458,220,518,143,564,73"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html" title=" " alt="" coords="454,269,600,295"/>
<area shape="poly" title=" " alt="" coords="586,76,576,144,557,222,542,258,537,256,552,221,571,143,581,75"/>
<area shape="rect" title=" " alt="" coords="592,431,654,456"/>
<area shape="poly" title=" " alt="" coords="606,74,629,135,637,171,640,207,640,283,636,357,629,418,624,417,631,356,635,283,635,207,632,172,624,136,601,76"/>
<area shape="rect" title=" " alt="" coords="675,123,736,148"/>
<area shape="poly" title=" " alt="" coords="631,73,681,112,678,116,628,77"/>
<area shape="rect" title=" " alt="" coords="100,431,175,456"/>
<area shape="poly" title=" " alt="" coords="102,150,59,167,39,181,24,197,11,226,9,257,17,288,32,319,73,376,115,419,112,423,69,380,27,322,12,290,4,257,6,225,19,195,36,177,56,163,100,145"/>
<area shape="rect" title=" " alt="" coords="30,269,94,295"/>
<area shape="poly" title=" " alt="" coords="105,150,65,168,47,181,33,197,28,212,30,227,45,257,40,259,25,228,23,211,29,195,44,177,62,163,103,146"/>
<area shape="rect" title=" " alt="" coords="195,269,256,295"/>
<area shape="poly" title=" " alt="" coords="121,151,86,163,56,179,45,188,39,198,39,208,44,220,72,246,108,264,146,273,182,278,181,283,145,279,106,269,69,251,39,223,33,209,34,196,41,185,53,175,84,158,119,146"/>
<area shape="rect" title=" " alt="" coords="54,196,114,221"/>
<area shape="poly" title=" " alt="" coords="154,150,110,189,106,185,151,146"/>
<area shape="rect" title=" " alt="" coords="139,196,192,221"/>
<area shape="poly" title=" " alt="" coords="168,148,168,182,163,182,163,148"/>
<area shape="rect" href="astcenc_8h.html" title=" " alt="" coords="217,196,296,221"/>
<area shape="poly" title=" " alt="" coords="182,146,232,185,229,189,179,150"/>
<area shape="rect" href="astcenc__mathlib_8h.html" title=" " alt="" coords="320,196,448,221"/>
<area shape="poly" title=" " alt="" coords="202,145,337,189,335,194,200,151"/>
<area shape="poly" title=" " alt="" coords="230,134,283,139,343,149,404,166,462,194,494,223,517,256,512,259,490,227,459,198,402,171,342,154,282,144,230,140"/>
<area shape="poly" title=" " alt="" coords="226,224,107,267,105,262,224,219"/>
<area shape="poly" title=" " alt="" coords="254,223,238,258,233,256,249,221"/>
<area shape="poly" title=" " alt="" coords="360,224,265,266,263,261,358,219"/>
<area shape="poly" title=" " alt="" coords="389,221,395,255,389,256,384,222"/>
<area shape="rect" title=" " alt="" coords="280,269,339,295"/>
<area shape="poly" title=" " alt="" coords="374,223,333,262,330,258,370,219"/>
<area shape="poly" title=" " alt="" coords="408,219,493,261,490,265,406,224"/>
<area shape="rect" href="astcenc__vecmathlib__none__4_8h.html" title=" " alt="" coords="462,343,598,383"/>
<area shape="poly" title=" " alt="" coords="530,295,531,329,526,329,525,295"/>
<area shape="rect" href="astcenc__vecmathlib__common__4_8h.html" title=" " alt="" coords="302,343,438,383"/>
<area shape="poly" title=" " alt="" coords="505,297,421,339,419,334,503,292"/>
<area shape="poly" title=" " alt="" coords="462,383,450,385,189,436,188,430,449,380,461,377"/>
<area shape="rect" title=" " alt="" coords="381,431,438,456"/>
<area shape="poly" title=" " alt="" coords="502,385,440,425,437,421,499,381"/>
<area shape="poly" title=" " alt="" coords="554,381,600,419,597,424,550,385"/>
<area shape="rect" title=" " alt="" coords="504,431,555,456"/>
<area shape="poly" title=" " alt="" coords="532,383,532,417,527,417,527,383"/>
<area shape="poly" title=" " alt="" coords="382,382,400,417,395,419,377,384"/>
</map>
</div>
</div>
<p><a href="astcenc__weight__align_8cpp_source.html">이 파일의 소스 코드 페이지로 가기</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
함수</h2></td></tr>
<tr class="memitem:acbcb48fd316ab1025cf7e456a5df014f" id="r_acbcb48fd316ab1025cf7e456a5df014f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbcb48fd316ab1025cf7e456a5df014f">prepare_angular_tables</a> ()</td></tr>
<tr class="memdesc:acbcb48fd316ab1025cf7e456a5df014f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expand the angular tables needed for the alternative to PCA that we use.  <br /></td></tr>
<tr class="separator:acbcb48fd316ab1025cf7e456a5df014f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54fb7b3aab0c6f60a65ce3dd07b088da" id="r_a54fb7b3aab0c6f60a65ce3dd07b088da"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54fb7b3aab0c6f60a65ce3dd07b088da">compute_angular_offsets</a> (unsigned int weight_count, const float *dec_weight_ideal_value, unsigned int max_angular_steps, float *offsets)</td></tr>
<tr class="memdesc:a54fb7b3aab0c6f60a65ce3dd07b088da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the angular alignment factors and offsets.  <br /></td></tr>
<tr class="separator:a54fb7b3aab0c6f60a65ce3dd07b088da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b24429143eb7c5b7050885943aad1b" id="r_a32b24429143eb7c5b7050885943aad1b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32b24429143eb7c5b7050885943aad1b">compute_lowest_and_highest_weight</a> (unsigned int weight_count, const float *dec_weight_ideal_value, unsigned int max_angular_steps, unsigned int max_quant_steps, const float *offsets, float *lowest_weight, int *weight_span, float *error, float *cut_low_weight_error, float *cut_high_weight_error)</td></tr>
<tr class="memdesc:a32b24429143eb7c5b7050885943aad1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">For a given step size compute the lowest and highest weight.  <br /></td></tr>
<tr class="separator:a32b24429143eb7c5b7050885943aad1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f057b7da5fc35adac361b3696ac963" id="r_a52f057b7da5fc35adac361b3696ac963"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52f057b7da5fc35adac361b3696ac963">compute_angular_endpoints_for_quant_levels</a> (unsigned int weight_count, const float *dec_weight_ideal_value, unsigned int max_quant_level, float low_value[<a class="el" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a>+1], float high_value[<a class="el" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a>+1])</td></tr>
<tr class="memdesc:a52f057b7da5fc35adac361b3696ac963"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main function for the angular algorithm.  <br /></td></tr>
<tr class="separator:a52f057b7da5fc35adac361b3696ac963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1b151d02c3af92eb002dc7172111233" id="r_af1b151d02c3af92eb002dc7172111233"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1b151d02c3af92eb002dc7172111233">compute_angular_endpoints_1plane</a> (bool only_always, const <a class="el" href="structblock__size__descriptor.html">block_size_descriptor</a> &amp;bsd, const float *dec_weight_ideal_value, unsigned int max_weight_quant, <a class="el" href="structcompression__working__buffers.html">compression_working_buffers</a> &amp;tmpbuf)</td></tr>
<tr class="memdesc:af1b151d02c3af92eb002dc7172111233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the angular endpoints for one plane for each block mode.  <br /></td></tr>
<tr class="separator:af1b151d02c3af92eb002dc7172111233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a571d7379fd52446338ef4fa7e700cb42" id="r_a571d7379fd52446338ef4fa7e700cb42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a571d7379fd52446338ef4fa7e700cb42">compute_angular_endpoints_2planes</a> (const <a class="el" href="structblock__size__descriptor.html">block_size_descriptor</a> &amp;bsd, const float *dec_weight_ideal_value, unsigned int max_weight_quant, <a class="el" href="structcompression__working__buffers.html">compression_working_buffers</a> &amp;tmpbuf)</td></tr>
<tr class="memdesc:a571d7379fd52446338ef4fa7e700cb42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the angular endpoints for two planes for each block mode.  <br /></td></tr>
<tr class="separator:a571d7379fd52446338ef4fa7e700cb42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
변수</h2></td></tr>
<tr class="memitem:a0c47d820ffe2fa4159024202df47767f" id="r_a0c47d820ffe2fa4159024202df47767f"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a> { 32 }</td></tr>
<tr class="memdesc:a0c47d820ffe2fa4159024202df47767f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functions for angular-sum algorithm for weight alignment.  <br /></td></tr>
<tr class="separator:a0c47d820ffe2fa4159024202df47767f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac88e8350ec82ce924a219860a9ac558e" id="r_ac88e8350ec82ce924a219860a9ac558e"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac88e8350ec82ce924a219860a9ac558e">SINCOS_STEPS</a> { 64 }</td></tr>
<tr class="separator:ac88e8350ec82ce924a219860a9ac558e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03594d799b3a246b0005c6bbe4f5cd48" id="r_a03594d799b3a246b0005c6bbe4f5cd48"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03594d799b3a246b0005c6bbe4f5cd48">steps_for_quant_level</a> [12]</td></tr>
<tr class="separator:a03594d799b3a246b0005c6bbe4f5cd48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2300d1e0bcd154e01c2376d89ea3a91c" id="r_a2300d1e0bcd154e01c2376d89ea3a91c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2300d1e0bcd154e01c2376d89ea3a91c">sin_table</a> [<a class="el" href="#ac88e8350ec82ce924a219860a9ac558e">SINCOS_STEPS</a>][<a class="el" href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a>]</td></tr>
<tr class="separator:a2300d1e0bcd154e01c2376d89ea3a91c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a16cc5209c93b9b81783d37a7566553" id="r_a3a16cc5209c93b9b81783d37a7566553"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a16cc5209c93b9b81783d37a7566553">cos_table</a> [<a class="el" href="#ac88e8350ec82ce924a219860a9ac558e">SINCOS_STEPS</a>][<a class="el" href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a>]</td></tr>
<tr class="separator:a3a16cc5209c93b9b81783d37a7566553"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">함수 문서화</h2>
<a id="af1b151d02c3af92eb002dc7172111233" name="af1b151d02c3af92eb002dc7172111233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1b151d02c3af92eb002dc7172111233">&#9670;&#160;</a></span>compute_angular_endpoints_1plane()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compute_angular_endpoints_1plane </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>only_always</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structblock__size__descriptor.html">block_size_descriptor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>bsd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *</td>          <td class="paramname"><span class="paramname"><em>dec_weight_ideal_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>max_weight_quant</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcompression__working__buffers.html">compression_working_buffers</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>tmpbuf</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the angular endpoints for one plane for each block mode. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">only_always</td><td>Only consider block modes that are always enabled. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">bsd</td><td>The block size descriptor for the current trial. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dec_weight_ideal_value</td><td>The ideal decimated unquantized weight values. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_weight_quant</td><td>The maximum block mode weight quantization allowed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tmpbuf</td><td>Preallocated scratch buffers for the compressor. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenc__weight__align_8cpp_source.html">astcenc_weight_align.cpp</a> 파일의 <a class="el" href="astcenc__weight__align_8cpp_source.html#l00337">337</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  343</span>  {</div>
<div class="line"><span class="lineno">  344</span>    float (&amp;low_value)[<a class="code hl_variable" href="astcenc__internal_8h.html#ac446d816e6883587f7cd6fd115d9a40c">WEIGHTS_MAX_BLOCK_MODES</a>] = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a504af2e4e5a146cd80b52c1b6c93b782">weight_low_value1</a>;</div>
<div class="line"><span class="lineno">  345</span>    float (&amp;high_value)[<a class="code hl_variable" href="astcenc__internal_8h.html#ac446d816e6883587f7cd6fd115d9a40c">WEIGHTS_MAX_BLOCK_MODES</a>] = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#adebd00f87afd06131aa6e22e12effae2">weight_high_value1</a>;</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>    float (&amp;low_values)[<a class="code hl_variable" href="astcenc__internal_8h.html#a803b1633e5a45c902bc513ef4c333327">WEIGHTS_MAX_DECIMATION_MODES</a>][<a class="code hl_variable" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a> + 1] = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a13570ddf604795f219b4bb30f3a7b40f">weight_low_values1</a>;</div>
<div class="line"><span class="lineno">  348</span>    float (&amp;high_values)[<a class="code hl_variable" href="astcenc__internal_8h.html#a803b1633e5a45c902bc513ef4c333327">WEIGHTS_MAX_DECIMATION_MODES</a>][<a class="code hl_variable" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a> + 1] = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a85b21c3ce2a327c89fdac870dce07cba">weight_high_values1</a>;</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_decimation_modes = only_always ? bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#ab9f7c875237ad395d3795506d934dba1">decimation_mode_count_always</a></div>
<div class="line"><span class="lineno">  351</span>                                                    : bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a5344a8e95df2fe4fe2b396b669993140">decimation_mode_count_selected</a>;</div>
<div class="line"><span class="lineno">  352</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(max_decimation_modes &gt; 0);</div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; max_decimation_modes; i++)</div>
<div class="line"><span class="lineno">  354</span>    {</div>
<div class="line"><span class="lineno">  355</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a>&amp; dm = bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#acfb1b28b22c740a1c8262587f5a6364f">decimation_modes</a>[i];</div>
<div class="line"><span class="lineno">  356</span>        <span class="keywordflow">if</span> (!dm.<a class="code hl_function" href="structdecimation__mode.html#ad3899521e22d446efacfceb12f264d4f">is_ref_1plane</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75">quant_method</a><span class="keyword">&gt;</span>(max_weight_quant)))</div>
<div class="line"><span class="lineno">  357</span>        {</div>
<div class="line"><span class="lineno">  358</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  359</span>        }</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> weight_count = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d">get_decimation_info</a>(i).<a class="code hl_variable" href="structdecimation__info.html#af7d0c86be805995a20a6c09f6c3ab8ca">weight_count</a>;</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_precision = dm.<a class="code hl_variable" href="structdecimation__mode.html#a469a9f9e5df5748e571801cd921b7b9b">maxprec_1plane</a>;</div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">if</span> (max_precision &gt; <a class="code hl_variable" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a>)</div>
<div class="line"><span class="lineno">  365</span>        {</div>
<div class="line"><span class="lineno">  366</span>            max_precision = <a class="code hl_variable" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a>;</div>
<div class="line"><span class="lineno">  367</span>        }</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>        <span class="keywordflow">if</span> (max_precision &gt; max_weight_quant)</div>
<div class="line"><span class="lineno">  370</span>        {</div>
<div class="line"><span class="lineno">  371</span>            max_precision = max_weight_quant;</div>
<div class="line"><span class="lineno">  372</span>        }</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>        <a class="code hl_function" href="#a52f057b7da5fc35adac361b3696ac963">compute_angular_endpoints_for_quant_levels</a>(</div>
<div class="line"><span class="lineno">  375</span>            weight_count,</div>
<div class="line"><span class="lineno">  376</span>            dec_weight_ideal_value + i * <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a>,</div>
<div class="line"><span class="lineno">  377</span>            max_precision, low_values[i], high_values[i]);</div>
<div class="line"><span class="lineno">  378</span>    }</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_block_modes = only_always ? bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#ae2f4cd561ea1618e1c44f9afbead038f">block_mode_count_1plane_always</a></div>
<div class="line"><span class="lineno">  381</span>                                               : bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a2f96c6e4d1e35b4bac8778c474c69bb1">block_mode_count_1plane_selected</a>;</div>
<div class="line"><span class="lineno">  382</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(max_block_modes &gt; 0);</div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; max_block_modes; i++)</div>
<div class="line"><span class="lineno">  384</span>    {</div>
<div class="line"><span class="lineno">  385</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structblock__mode.html">block_mode</a>&amp; bm = bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a82d0bf7e49df4683f0823b4951fb77f8">block_modes</a>[i];</div>
<div class="line"><span class="lineno">  386</span>        assert(!bm.<a class="code hl_variable" href="structblock__mode.html#a78b282103d0a8bee2b07c0da075a3dc4">is_dual_plane</a>);</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> quant_mode = bm.<a class="code hl_variable" href="structblock__mode.html#a57910e5bd3d21447cdea6c7789723a86">quant_mode</a>;</div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> decim_mode = bm.<a class="code hl_variable" href="structblock__mode.html#aaf9846117d40406d5e84508f429cf949">decimation_mode</a>;</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">if</span> (quant_mode &lt;= <a class="code hl_variable" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a>)</div>
<div class="line"><span class="lineno">  392</span>        {</div>
<div class="line"><span class="lineno">  393</span>            low_value[i] = low_values[decim_mode][quant_mode];</div>
<div class="line"><span class="lineno">  394</span>            high_value[i] = high_values[decim_mode][quant_mode];</div>
<div class="line"><span class="lineno">  395</span>        }</div>
<div class="line"><span class="lineno">  396</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  397</span>        {</div>
<div class="line"><span class="lineno">  398</span>            low_value[i] = 0.0f;</div>
<div class="line"><span class="lineno">  399</span>            high_value[i] = 1.0f;</div>
<div class="line"><span class="lineno">  400</span>        }</div>
<div class="line"><span class="lineno">  401</span>    }</div>
<div class="line"><span class="lineno">  402</span>}</div>
<div class="ttc" id="aastcenc__internal_8h_html_a2cce51c3362aa0b5040437ac0e7f8969"><div class="ttname"><a href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a></div><div class="ttdeci">#define promise(cond)</div><div class="ttdoc">Functions and data declarations.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00061">astcenc_internal.h:61</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a803b1633e5a45c902bc513ef4c333327"><div class="ttname"><a href="astcenc__internal_8h.html#a803b1633e5a45c902bc513ef4c333327">WEIGHTS_MAX_DECIMATION_MODES</a></div><div class="ttdeci">static constexpr unsigned int WEIGHTS_MAX_DECIMATION_MODES</div><div class="ttdoc">The number of weight grid decimation modes supported by the ASTC format.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00117">astcenc_internal.h:117</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_a806a5b8001942a6fa06d788ffec45a75"><div class="ttname"><a href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75">quant_method</a></div><div class="ttdeci">quant_method</div><div class="ttdoc">The ASTC quantization methods.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00203">astcenc_internal.h:204</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_aa069d5d400baafe528bce4778aba6c45"><div class="ttname"><a href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a></div><div class="ttdeci">static constexpr unsigned int BLOCK_MAX_WEIGHTS</div><div class="ttdoc">The maximum number of weights a block can support.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00087">astcenc_internal.h:87</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_ab2ec26aaf33ca112e7c7d098ef3e7dc9"><div class="ttname"><a href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a></div><div class="ttdeci">static constexpr unsigned int TUNE_MAX_ANGULAR_QUANT</div><div class="ttdoc">The maximum quant level using full angular endpoint search method.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00154">astcenc_internal.h:154</a></div></div>
<div class="ttc" id="aastcenc__internal_8h_html_ac446d816e6883587f7cd6fd115d9a40c"><div class="ttname"><a href="astcenc__internal_8h.html#ac446d816e6883587f7cd6fd115d9a40c">WEIGHTS_MAX_BLOCK_MODES</a></div><div class="ttdeci">static constexpr unsigned int WEIGHTS_MAX_BLOCK_MODES</div><div class="ttdoc">The number of block modes supported by the ASTC format.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00114">astcenc_internal.h:114</a></div></div>
<div class="ttc" id="aastcenc__weight__align_8cpp_html_a52f057b7da5fc35adac361b3696ac963"><div class="ttname"><a href="#a52f057b7da5fc35adac361b3696ac963">compute_angular_endpoints_for_quant_levels</a></div><div class="ttdeci">static void compute_angular_endpoints_for_quant_levels(unsigned int weight_count, const float *dec_weight_ideal_value, unsigned int max_quant_level, float low_value[TUNE_MAX_ANGULAR_QUANT+1], float high_value[TUNE_MAX_ANGULAR_QUANT+1])</div><div class="ttdoc">The main function for the angular algorithm.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__weight__align_8cpp_source.html#l00235">astcenc_weight_align.cpp:235</a></div></div>
<div class="ttc" id="astructblock__mode_html"><div class="ttname"><a href="structblock__mode.html">block_mode</a></div><div class="ttdoc">Metadata for single block mode for a specific block size.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00415">astcenc_internal.h:416</a></div></div>
<div class="ttc" id="astructblock__mode_html_a57910e5bd3d21447cdea6c7789723a86"><div class="ttname"><a href="structblock__mode.html#a57910e5bd3d21447cdea6c7789723a86">block_mode::quant_mode</a></div><div class="ttdeci">uint8_t quant_mode</div><div class="ttdoc">The weight quantization used by this block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00424">astcenc_internal.h:424</a></div></div>
<div class="ttc" id="astructblock__mode_html_a78b282103d0a8bee2b07c0da075a3dc4"><div class="ttname"><a href="structblock__mode.html#a78b282103d0a8bee2b07c0da075a3dc4">block_mode::is_dual_plane</a></div><div class="ttdeci">uint8_t is_dual_plane</div><div class="ttdoc">Is a dual weight plane used by this block mode?</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00430">astcenc_internal.h:430</a></div></div>
<div class="ttc" id="astructblock__mode_html_aaf9846117d40406d5e84508f429cf949"><div class="ttname"><a href="structblock__mode.html#aaf9846117d40406d5e84508f429cf949">block_mode::decimation_mode</a></div><div class="ttdeci">uint8_t decimation_mode</div><div class="ttdoc">The decimation mode index in the compressor reindexed list.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00421">astcenc_internal.h:421</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_a2f96c6e4d1e35b4bac8778c474c69bb1"><div class="ttname"><a href="structblock__size__descriptor.html#a2f96c6e4d1e35b4bac8778c474c69bb1">block_size_descriptor::block_mode_count_1plane_selected</a></div><div class="ttdeci">unsigned int block_mode_count_1plane_selected</div><div class="ttdoc">The number of stored block modes for active 1 plane encodings.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00565">astcenc_internal.h:565</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_a5344a8e95df2fe4fe2b396b669993140"><div class="ttname"><a href="structblock__size__descriptor.html#a5344a8e95df2fe4fe2b396b669993140">block_size_descriptor::decimation_mode_count_selected</a></div><div class="ttdeci">unsigned int decimation_mode_count_selected</div><div class="ttdoc">The number of stored decimation modes for selected encodings.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00552">astcenc_internal.h:552</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_a688445f2f90b13188372d812baf8e02d"><div class="ttname"><a href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d">block_size_descriptor::get_decimation_info</a></div><div class="ttdeci">const decimation_info &amp; get_decimation_info(unsigned int decimation_mode) const</div><div class="ttdoc">Get the decimation info structure for index decimation_mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00670">astcenc_internal.h:670</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_a82d0bf7e49df4683f0823b4951fb77f8"><div class="ttname"><a href="structblock__size__descriptor.html#a82d0bf7e49df4683f0823b4951fb77f8">block_size_descriptor::block_modes</a></div><div class="ttdeci">block_mode block_modes[WEIGHTS_MAX_BLOCK_MODES]</div><div class="ttdoc">The active block modes, stored in low indices.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00589">astcenc_internal.h:589</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_ab9f7c875237ad395d3795506d934dba1"><div class="ttname"><a href="structblock__size__descriptor.html#ab9f7c875237ad395d3795506d934dba1">block_size_descriptor::decimation_mode_count_always</a></div><div class="ttdeci">unsigned int decimation_mode_count_always</div><div class="ttdoc">The number of stored decimation modes which are &quot;always&quot; modes.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00549">astcenc_internal.h:549</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_acfb1b28b22c740a1c8262587f5a6364f"><div class="ttname"><a href="structblock__size__descriptor.html#acfb1b28b22c740a1c8262587f5a6364f">block_size_descriptor::decimation_modes</a></div><div class="ttdeci">decimation_mode decimation_modes[WEIGHTS_MAX_DECIMATION_MODES]</div><div class="ttdoc">The active decimation modes, stored in low indices.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00580">astcenc_internal.h:580</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_ae2f4cd561ea1618e1c44f9afbead038f"><div class="ttname"><a href="structblock__size__descriptor.html#ae2f4cd561ea1618e1c44f9afbead038f">block_size_descriptor::block_mode_count_1plane_always</a></div><div class="ttdeci">unsigned int block_mode_count_1plane_always</div><div class="ttdoc">The number of stored block modes which are &quot;always&quot; modes.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00562">astcenc_internal.h:562</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a13570ddf604795f219b4bb30f3a7b40f"><div class="ttname"><a href="structcompression__working__buffers.html#a13570ddf604795f219b4bb30f3a7b40f">compression_working_buffers::weight_low_values1</a></div><div class="ttdeci">float weight_low_values1[WEIGHTS_MAX_DECIMATION_MODES][TUNE_MAX_ANGULAR_QUANT+1]</div><div class="ttdoc">The low weight value in plane 1 for each quant level and decimation mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00991">astcenc_internal.h:991</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a504af2e4e5a146cd80b52c1b6c93b782"><div class="ttname"><a href="structcompression__working__buffers.html#a504af2e4e5a146cd80b52c1b6c93b782">compression_working_buffers::weight_low_value1</a></div><div class="ttdeci">float weight_low_value1[WEIGHTS_MAX_BLOCK_MODES]</div><div class="ttdoc">The low weight value in plane 1 for each block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00985">astcenc_internal.h:985</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a85b21c3ce2a327c89fdac870dce07cba"><div class="ttname"><a href="structcompression__working__buffers.html#a85b21c3ce2a327c89fdac870dce07cba">compression_working_buffers::weight_high_values1</a></div><div class="ttdeci">float weight_high_values1[WEIGHTS_MAX_DECIMATION_MODES][TUNE_MAX_ANGULAR_QUANT+1]</div><div class="ttdoc">The high weight value in plane 1 for each quant level and decimation mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00994">astcenc_internal.h:994</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_adebd00f87afd06131aa6e22e12effae2"><div class="ttname"><a href="structcompression__working__buffers.html#adebd00f87afd06131aa6e22e12effae2">compression_working_buffers::weight_high_value1</a></div><div class="ttdeci">float weight_high_value1[WEIGHTS_MAX_BLOCK_MODES]</div><div class="ttdoc">The high weight value in plane 1 for each block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00988">astcenc_internal.h:988</a></div></div>
<div class="ttc" id="astructdecimation__info_html_af7d0c86be805995a20a6c09f6c3ab8ca"><div class="ttname"><a href="structdecimation__info.html#af7d0c86be805995a20a6c09f6c3ab8ca">decimation_info::weight_count</a></div><div class="ttdeci">uint8_t weight_count</div><div class="ttdoc">The total number of weights stored.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00355">astcenc_internal.h:355</a></div></div>
<div class="ttc" id="astructdecimation__mode_html"><div class="ttname"><a href="structdecimation__mode.html">decimation_mode</a></div><div class="ttdoc">Metadata for single decimation mode for a specific block size.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00446">astcenc_internal.h:447</a></div></div>
<div class="ttc" id="astructdecimation__mode_html_a469a9f9e5df5748e571801cd921b7b9b"><div class="ttname"><a href="structdecimation__mode.html#a469a9f9e5df5748e571801cd921b7b9b">decimation_mode::maxprec_1plane</a></div><div class="ttdeci">int8_t maxprec_1plane</div><div class="ttdoc">The max weight precision for 1 plane, or -1 if not supported.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00449">astcenc_internal.h:449</a></div></div>
<div class="ttc" id="astructdecimation__mode_html_ad3899521e22d446efacfceb12f264d4f"><div class="ttname"><a href="structdecimation__mode.html#ad3899521e22d446efacfceb12f264d4f">decimation_mode::is_ref_1plane</a></div><div class="ttdeci">bool is_ref_1plane(quant_method max_weight_quant) const</div><div class="ttdoc">Test if this mode is active below a given 1 plane weight quant (inclusive).</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00483">astcenc_internal.h:483</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__weight__align_8cpp_af1b151d02c3af92eb002dc7172111233_cgraph.png" border="0" usemap="#aastcenc__weight__align_8cpp_af1b151d02c3af92eb002dc7172111233_cgraph" alt=""/></div>
<map name="aastcenc__weight__align_8cpp_af1b151d02c3af92eb002dc7172111233_cgraph" id="aastcenc__weight__align_8cpp_af1b151d02c3af92eb002dc7172111233_cgraph">
<area shape="rect" title="Compute the angular endpoints for one plane for each block mode." alt="" coords="5,631,189,671"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a52f057b7da5fc35adac361b3696ac963" title="The main function for the angular algorithm." alt="" coords="237,523,421,563"/>
<area shape="poly" title=" " alt="" coords="140,629,272,567,274,572,142,634"/>
<area shape="rect" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d" title="Get the decimation info structure for index decimation_mode." alt="" coords="255,695,403,735"/>
<area shape="poly" title=" " alt="" coords="171,669,244,689,243,694,170,674"/>
<area shape="rect" href="structdecimation__mode.html#ad3899521e22d446efacfceb12f264d4f" title="Test if this mode is active below a given 1 plane weight quant (inclusive)." alt="" coords="258,631,401,671"/>
<area shape="poly" title=" " alt="" coords="190,649,244,649,244,654,190,654"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a54fb7b3aab0c6f60a65ce3dd07b088da" title="Compute the angular alignment factors and offsets." alt="" coords="469,183,636,208"/>
<area shape="poly" title=" " alt="" coords="341,522,534,218,538,221,346,525"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc" title="Return lanes from b if cond is set, else a." alt="" coords="1008,307,1065,332"/>
<area shape="poly" title=" " alt="" coords="422,548,519,554,625,557,722,554,760,549,790,541,828,523,864,500,929,444,981,388,1017,342,1021,345,985,391,933,448,867,504,831,527,792,546,761,554,722,559,625,562,518,560,421,554"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a32b24429143eb7c5b7050885943aad1b" title="For a given step size compute the lowest and highest weight." alt="" coords="481,375,625,415"/>
<area shape="poly" title=" " alt="" coords="359,521,508,421,511,425,362,525"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82" title="Return a 8&#45;bit mask code indicating mask status." alt="" coords="710,632,765,657"/>
<area shape="poly" title=" " alt="" coords="361,561,410,591,470,617,531,631,593,639,697,643,696,649,592,644,530,636,468,622,408,596,358,566"/>
<area shape="rect" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc" title="Get the scalar value of a single lane." alt="" coords="507,581,598,607"/>
<area shape="poly" title=" " alt="" coords="418,561,495,578,493,583,417,566"/>
<area shape="rect" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f" title="Return the maximum of two values." alt="" coords="513,133,593,159"/>
<area shape="poly" title=" " alt="" coords="329,523,338,456,360,360,378,308,401,257,431,210,468,168,482,158,499,151,501,156,485,162,471,172,435,213,406,260,382,310,365,362,343,456,335,524"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a0d4a4b324b23d5b82c16b03e83a2d056" title="Return fast, but approximate, vector atan2(x, y)." alt="" coords="710,107,765,132"/>
<area shape="poly" title=" " alt="" coords="600,180,635,168,683,142,697,135,699,140,685,147,637,172,601,185"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a5c2db475754d8da42d9b685a45c48ab8" title="Return a float value as an integer bit pattern (i.e. no conversion)." alt="" coords="1132,5,1220,31"/>
<area shape="poly" title=" " alt="" coords="612,180,634,168,650,150,658,131,665,111,682,92,722,64,758,45,792,32,826,25,898,19,989,13,1056,10,1118,11,1118,17,1056,15,989,18,899,24,826,30,793,38,760,50,725,69,686,96,670,114,663,133,655,153,638,172,615,185"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a" title="Store a vector to a 16B aligned memory address." alt="" coords="708,207,767,232"/>
<area shape="poly" title=" " alt="" coords="637,204,695,211,694,216,636,209"/>
<area shape="rect" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae" title="Factory that returns a vector of zeros." alt="" coords="692,157,783,183"/>
<area shape="poly" title=" " alt="" coords="636,181,678,175,679,181,637,186"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aeac50750508168aeab5115733d3ee63c" title="Return the absolute value of the float vector." alt="" coords="1015,132,1058,157"/>
<area shape="poly" title=" " alt="" coords="765,119,1002,139,1002,144,765,124"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a57f123f6c9bc31cdb2da321b778954a2" title="Return fast, but approximate, vector atan(x)." alt="" coords="867,157,913,183"/>
<area shape="poly" title=" " alt="" coords="766,126,854,156,853,161,764,131"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#aa88e9d6b0f056012a4fc61c558f99c2e" title="Return a with lanes negated if the b lane is negative." alt="" coords="989,56,1084,81"/>
<area shape="poly" title=" " alt="" coords="765,112,975,76,976,81,765,117"/>
<area shape="poly" title=" " alt="" coords="763,104,838,73,912,52,988,37,1118,20,1118,25,989,43,914,58,840,78,765,109"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a0c89452ffbab98a181c44460db41cae8" title="Return lanes from b if MSB of cond is set, else a." alt="" coords="845,207,935,232"/>
<area shape="poly" title=" " alt="" coords="766,128,792,143,817,167,840,192,849,198,846,202,837,196,813,171,789,147,764,132"/>
<area shape="poly" title=" " alt="" coords="913,163,1001,148,1002,153,914,169"/>
<area shape="poly" title=" " alt="" coords="908,155,1005,87,1008,91,911,159"/>
<area shape="poly" title=" " alt="" coords="915,176,943,192,968,216,991,243,1024,293,1020,296,986,246,964,220,940,196,912,180"/>
<area shape="poly" title=" " alt="" coords="1072,53,1127,33,1128,38,1073,58"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ac584d4929db078403c58549bafd3c1cd" title="Return a integer value as a float bit pattern (i.e. no conversion)." alt="" coords="1132,56,1220,81"/>
<area shape="poly" title=" " alt="" coords="1084,66,1118,66,1118,71,1084,71"/>
<area shape="rect" href="structvfloat4.html#a9df51cb30b68d6d51ca607e64aa1ebf0" title="Construct from zero&#45;initialized value." alt="" coords="839,256,941,281"/>
<area shape="poly" title=" " alt="" coords="772,180,792,192,807,205,817,217,840,241,849,247,846,251,837,245,813,220,803,208,789,196,770,185"/>
<area shape="poly" title=" " alt="" coords="595,373,637,356,683,342,769,327,855,319,994,316,994,321,856,325,770,333,685,347,639,361,597,378"/>
<area shape="poly" title=" " alt="" coords="565,374,612,310,645,274,682,241,694,234,697,238,686,245,649,278,616,314,569,377"/>
<area shape="poly" title=" " alt="" coords="560,374,578,336,605,288,640,237,682,192,687,188,691,192,686,196,644,241,609,291,583,339,565,376"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#afdaab5e0b4a39a5dd28fb5b40642e57d" title="Return a integer value for a float vector, using truncation." alt="" coords="695,407,780,432"/>
<area shape="poly" title=" " alt="" coords="625,402,681,409,681,415,625,407"/>
<area shape="rect" href="structvfloat4.html#a13edfd5bac159c8a65e10a3bd9355b4d" title="Factory that returns a vector containing the lane IDs." alt="" coords="684,256,791,281"/>
<area shape="poly" title=" " alt="" coords="579,373,682,298,701,286,704,291,686,303,582,377"/>
<area shape="poly" title=" " alt="" coords="571,414,721,619,716,622,567,417"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aa162915c044e97cc1f6d630338761fd3" title="Return the max vector of two vectors." alt="" coords="714,456,761,481"/>
<area shape="poly" title=" " alt="" coords="605,413,702,452,700,457,603,418"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a165b3db4e7ced1551e1880a01a01150b" title="Return the min vector of two vectors." alt="" coords="716,505,759,531"/>
<area shape="poly" title=" " alt="" coords="580,413,627,451,685,490,705,501,702,506,683,495,624,455,576,418"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a0cc9d8a88b3c39b3ea66e52d515ac661" title="Return a float rounded to the nearest integer value." alt="" coords="710,357,765,383"/>
<area shape="poly" title=" " alt="" coords="625,383,696,373,696,378,625,388"/>
<area shape="poly" title=" " alt="" coords="791,266,825,266,825,271,791,271"/>
<area shape="poly" title=" " alt="" coords="401,657,512,664,574,664,636,661,696,651,697,656,636,666,574,669,512,669,401,662"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__weight__align_8cpp_af1b151d02c3af92eb002dc7172111233_icgraph.png" border="0" usemap="#aastcenc__weight__align_8cpp_af1b151d02c3af92eb002dc7172111233_icgraph" alt=""/></div>
<map name="aastcenc__weight__align_8cpp_af1b151d02c3af92eb002dc7172111233_icgraph" id="aastcenc__weight__align_8cpp_af1b151d02c3af92eb002dc7172111233_icgraph">
<area shape="rect" title="Compute the angular endpoints for one plane for each block mode." alt="" coords="1239,5,1423,45"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af5f518a15600c71922e69267dea2db99" title="Compress a block using a chosen partitioning and 1 plane of weights." alt="" coords="1015,5,1191,45"/>
<area shape="poly" title=" " alt="" coords="1225,28,1191,28,1191,23,1225,23"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a579b9a2ceeecda2fb3abe63b8311df1c" title="Compress an image block into a physical block." alt="" coords="849,13,967,38"/>
<area shape="poly" title=" " alt="" coords="1001,28,967,28,967,23,1001,23"/>
<area shape="rect" href="astcenc__entry_8cpp.html#acbecfd32ce013d567cac16a877c20f42" title="Compress an image, after any preflight has completed." alt="" coords="680,13,801,38"/>
<area shape="poly" title=" " alt="" coords="835,28,802,28,802,23,835,23"/>
<area shape="rect" href="astcenc__entry_8cpp.html#ad762aa055eed75156c99309158a40e90" title="Compress an image." alt="" coords="457,13,632,38"/>
<area shape="poly" title=" " alt="" coords="666,28,632,28,632,23,666,23"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,13,207,38"/>
<area shape="poly" title=" " alt="" coords="444,25,409,24,255,24,207,26,207,20,255,19,409,19,444,19"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa" title="Runner callback function for a compression worker thread." alt="" coords="255,33,409,73"/>
<area shape="poly" title=" " alt="" coords="444,41,410,46,409,41,443,36"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,13,56,38"/>
<area shape="poly" title=" " alt="" coords="90,28,57,28,57,23,90,23"/>
<area shape="poly" title=" " alt="" coords="241,42,206,36,207,31,242,36"/>
</map>
</div>

</div>
</div>
<a id="a571d7379fd52446338ef4fa7e700cb42" name="a571d7379fd52446338ef4fa7e700cb42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a571d7379fd52446338ef4fa7e700cb42">&#9670;&#160;</a></span>compute_angular_endpoints_2planes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compute_angular_endpoints_2planes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structblock__size__descriptor.html">block_size_descriptor</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>bsd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *</td>          <td class="paramname"><span class="paramname"><em>dec_weight_ideal_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>max_weight_quant</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcompression__working__buffers.html">compression_working_buffers</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>tmpbuf</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the angular endpoints for two planes for each block mode. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">bsd</td><td>The block size descriptor for the current trial. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dec_weight_ideal_value</td><td>The ideal decimated unquantized weight values. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_weight_quant</td><td>The maximum block mode weight quantization allowed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tmpbuf</td><td>Preallocated scratch buffers for the compressor. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenc__weight__align_8cpp_source.html">astcenc_weight_align.cpp</a> 파일의 <a class="el" href="astcenc__weight__align_8cpp_source.html#l00405">405</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  410</span>  {</div>
<div class="line"><span class="lineno">  411</span>    float (&amp;low_value1)[<a class="code hl_variable" href="astcenc__internal_8h.html#ac446d816e6883587f7cd6fd115d9a40c">WEIGHTS_MAX_BLOCK_MODES</a>] = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a504af2e4e5a146cd80b52c1b6c93b782">weight_low_value1</a>;</div>
<div class="line"><span class="lineno">  412</span>    float (&amp;high_value1)[<a class="code hl_variable" href="astcenc__internal_8h.html#ac446d816e6883587f7cd6fd115d9a40c">WEIGHTS_MAX_BLOCK_MODES</a>] = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#adebd00f87afd06131aa6e22e12effae2">weight_high_value1</a>;</div>
<div class="line"><span class="lineno">  413</span>    float (&amp;low_value2)[<a class="code hl_variable" href="astcenc__internal_8h.html#ac446d816e6883587f7cd6fd115d9a40c">WEIGHTS_MAX_BLOCK_MODES</a>] = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a6b3f7da41bb370993657d209bbb95d03">weight_low_value2</a>;</div>
<div class="line"><span class="lineno">  414</span>    float (&amp;high_value2)[<a class="code hl_variable" href="astcenc__internal_8h.html#ac446d816e6883587f7cd6fd115d9a40c">WEIGHTS_MAX_BLOCK_MODES</a>] = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a72e3ac47a49cfb6ed8b4933699014858">weight_high_value2</a>;</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>    float (&amp;low_values1)[<a class="code hl_variable" href="astcenc__internal_8h.html#a803b1633e5a45c902bc513ef4c333327">WEIGHTS_MAX_DECIMATION_MODES</a>][<a class="code hl_variable" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a> + 1] = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a13570ddf604795f219b4bb30f3a7b40f">weight_low_values1</a>;</div>
<div class="line"><span class="lineno">  417</span>    float (&amp;high_values1)[<a class="code hl_variable" href="astcenc__internal_8h.html#a803b1633e5a45c902bc513ef4c333327">WEIGHTS_MAX_DECIMATION_MODES</a>][<a class="code hl_variable" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a> + 1] = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#a85b21c3ce2a327c89fdac870dce07cba">weight_high_values1</a>;</div>
<div class="line"><span class="lineno">  418</span>    float (&amp;low_values2)[<a class="code hl_variable" href="astcenc__internal_8h.html#a803b1633e5a45c902bc513ef4c333327">WEIGHTS_MAX_DECIMATION_MODES</a>][<a class="code hl_variable" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a> + 1] = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#aeff8a7659105845e54015919ccb4b856">weight_low_values2</a>;</div>
<div class="line"><span class="lineno">  419</span>    float (&amp;high_values2)[<a class="code hl_variable" href="astcenc__internal_8h.html#a803b1633e5a45c902bc513ef4c333327">WEIGHTS_MAX_DECIMATION_MODES</a>][<a class="code hl_variable" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a> + 1] = tmpbuf.<a class="code hl_variable" href="structcompression__working__buffers.html#aa9a374a18f80c58cdcd780ab70ced8b0">weight_high_values2</a>;</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a5344a8e95df2fe4fe2b396b669993140">decimation_mode_count_selected</a> &gt; 0);</div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a5344a8e95df2fe4fe2b396b669993140">decimation_mode_count_selected</a>; i++)</div>
<div class="line"><span class="lineno">  423</span>    {</div>
<div class="line"><span class="lineno">  424</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structdecimation__mode.html">decimation_mode</a>&amp; dm = bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#acfb1b28b22c740a1c8262587f5a6364f">decimation_modes</a>[i];</div>
<div class="line"><span class="lineno">  425</span>        <span class="keywordflow">if</span> (!dm.<a class="code hl_function" href="structdecimation__mode.html#aa2fe4a73b6781930c375b1810a03f73b">is_ref_2plane</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="astcenc__internal_8h.html#a806a5b8001942a6fa06d788ffec45a75">quant_method</a><span class="keyword">&gt;</span>(max_weight_quant)))</div>
<div class="line"><span class="lineno">  426</span>        {</div>
<div class="line"><span class="lineno">  427</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  428</span>        }</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> weight_count = bsd.<a class="code hl_function" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d">get_decimation_info</a>(i).<a class="code hl_variable" href="structdecimation__info.html#af7d0c86be805995a20a6c09f6c3ab8ca">weight_count</a>;</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_precision = dm.<a class="code hl_variable" href="structdecimation__mode.html#a6cc1d777d75001f629a2a0661894a334">maxprec_2planes</a>;</div>
<div class="line"><span class="lineno">  433</span>        <span class="keywordflow">if</span> (max_precision &gt; <a class="code hl_variable" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a>)</div>
<div class="line"><span class="lineno">  434</span>        {</div>
<div class="line"><span class="lineno">  435</span>            max_precision = <a class="code hl_variable" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a>;</div>
<div class="line"><span class="lineno">  436</span>        }</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>        <span class="keywordflow">if</span> (max_precision &gt; max_weight_quant)</div>
<div class="line"><span class="lineno">  439</span>        {</div>
<div class="line"><span class="lineno">  440</span>            max_precision = max_weight_quant;</div>
<div class="line"><span class="lineno">  441</span>        }</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>        <a class="code hl_function" href="#a52f057b7da5fc35adac361b3696ac963">compute_angular_endpoints_for_quant_levels</a>(</div>
<div class="line"><span class="lineno">  444</span>            weight_count,</div>
<div class="line"><span class="lineno">  445</span>            dec_weight_ideal_value + i * <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a>,</div>
<div class="line"><span class="lineno">  446</span>            max_precision, low_values1[i], high_values1[i]);</div>
<div class="line"><span class="lineno">  447</span> </div>
<div class="line"><span class="lineno">  448</span>        <a class="code hl_function" href="#a52f057b7da5fc35adac361b3696ac963">compute_angular_endpoints_for_quant_levels</a>(</div>
<div class="line"><span class="lineno">  449</span>            weight_count,</div>
<div class="line"><span class="lineno">  450</span>            dec_weight_ideal_value + i * <a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a> + <a class="code hl_variable" href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a>,</div>
<div class="line"><span class="lineno">  451</span>            max_precision, low_values2[i], high_values2[i]);</div>
<div class="line"><span class="lineno">  452</span>    }</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> start = bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a2f96c6e4d1e35b4bac8778c474c69bb1">block_mode_count_1plane_selected</a>;</div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> end = bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a796557a9c78ee86175f67ed504731ac5">block_mode_count_1plane_2plane_selected</a>;</div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = start; i &lt; end; i++)</div>
<div class="line"><span class="lineno">  457</span>    {</div>
<div class="line"><span class="lineno">  458</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structblock__mode.html">block_mode</a>&amp; bm = bsd.<a class="code hl_variable" href="structblock__size__descriptor.html#a82d0bf7e49df4683f0823b4951fb77f8">block_modes</a>[i];</div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> quant_mode = bm.<a class="code hl_variable" href="structblock__mode.html#a57910e5bd3d21447cdea6c7789723a86">quant_mode</a>;</div>
<div class="line"><span class="lineno">  460</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> decim_mode = bm.<a class="code hl_variable" href="structblock__mode.html#aaf9846117d40406d5e84508f429cf949">decimation_mode</a>;</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>        <span class="keywordflow">if</span> (quant_mode &lt;= <a class="code hl_variable" href="astcenc__internal_8h.html#ab2ec26aaf33ca112e7c7d098ef3e7dc9">TUNE_MAX_ANGULAR_QUANT</a>)</div>
<div class="line"><span class="lineno">  463</span>        {</div>
<div class="line"><span class="lineno">  464</span>            low_value1[i] = low_values1[decim_mode][quant_mode];</div>
<div class="line"><span class="lineno">  465</span>            high_value1[i] = high_values1[decim_mode][quant_mode];</div>
<div class="line"><span class="lineno">  466</span>            low_value2[i] = low_values2[decim_mode][quant_mode];</div>
<div class="line"><span class="lineno">  467</span>            high_value2[i] = high_values2[decim_mode][quant_mode];</div>
<div class="line"><span class="lineno">  468</span>        }</div>
<div class="line"><span class="lineno">  469</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  470</span>        {</div>
<div class="line"><span class="lineno">  471</span>            low_value1[i] = 0.0f;</div>
<div class="line"><span class="lineno">  472</span>            high_value1[i] = 1.0f;</div>
<div class="line"><span class="lineno">  473</span>            low_value2[i] = 0.0f;</div>
<div class="line"><span class="lineno">  474</span>            high_value2[i] = 1.0f;</div>
<div class="line"><span class="lineno">  475</span>        }</div>
<div class="line"><span class="lineno">  476</span>    }</div>
<div class="line"><span class="lineno">  477</span>}</div>
<div class="ttc" id="aastcenc__internal_8h_html_a2dcf39b1f3c1e5f152abdf1f24e698da"><div class="ttname"><a href="astcenc__internal_8h.html#a2dcf39b1f3c1e5f152abdf1f24e698da">WEIGHTS_PLANE2_OFFSET</a></div><div class="ttdeci">static constexpr unsigned int WEIGHTS_PLANE2_OFFSET</div><div class="ttdoc">The offset of the plane 2 weights in shared weight arrays.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00108">astcenc_internal.h:108</a></div></div>
<div class="ttc" id="astructblock__size__descriptor_html_a796557a9c78ee86175f67ed504731ac5"><div class="ttname"><a href="structblock__size__descriptor.html#a796557a9c78ee86175f67ed504731ac5">block_size_descriptor::block_mode_count_1plane_2plane_selected</a></div><div class="ttdeci">unsigned int block_mode_count_1plane_2plane_selected</div><div class="ttdoc">The number of stored block modes for active 1 and 2 plane encodings.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00568">astcenc_internal.h:568</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a6b3f7da41bb370993657d209bbb95d03"><div class="ttname"><a href="structcompression__working__buffers.html#a6b3f7da41bb370993657d209bbb95d03">compression_working_buffers::weight_low_value2</a></div><div class="ttdeci">float weight_low_value2[WEIGHTS_MAX_BLOCK_MODES]</div><div class="ttdoc">The low weight value in plane 2 for each block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00997">astcenc_internal.h:997</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_a72e3ac47a49cfb6ed8b4933699014858"><div class="ttname"><a href="structcompression__working__buffers.html#a72e3ac47a49cfb6ed8b4933699014858">compression_working_buffers::weight_high_value2</a></div><div class="ttdeci">float weight_high_value2[WEIGHTS_MAX_BLOCK_MODES]</div><div class="ttdoc">The high weight value in plane 2 for each block mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01000">astcenc_internal.h:1000</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_aa9a374a18f80c58cdcd780ab70ced8b0"><div class="ttname"><a href="structcompression__working__buffers.html#aa9a374a18f80c58cdcd780ab70ced8b0">compression_working_buffers::weight_high_values2</a></div><div class="ttdeci">float weight_high_values2[WEIGHTS_MAX_DECIMATION_MODES][TUNE_MAX_ANGULAR_QUANT+1]</div><div class="ttdoc">The high weight value in plane 2 for each quant level and decimation mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01006">astcenc_internal.h:1006</a></div></div>
<div class="ttc" id="astructcompression__working__buffers_html_aeff8a7659105845e54015919ccb4b856"><div class="ttname"><a href="structcompression__working__buffers.html#aeff8a7659105845e54015919ccb4b856">compression_working_buffers::weight_low_values2</a></div><div class="ttdeci">float weight_low_values2[WEIGHTS_MAX_DECIMATION_MODES][TUNE_MAX_ANGULAR_QUANT+1]</div><div class="ttdoc">The low weight value in plane 2 for each quant level and decimation mode.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l01003">astcenc_internal.h:1003</a></div></div>
<div class="ttc" id="astructdecimation__mode_html_a6cc1d777d75001f629a2a0661894a334"><div class="ttname"><a href="structdecimation__mode.html#a6cc1d777d75001f629a2a0661894a334">decimation_mode::maxprec_2planes</a></div><div class="ttdeci">int8_t maxprec_2planes</div><div class="ttdoc">The max weight precision for 2 planes, or -1 if not supported.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00452">astcenc_internal.h:452</a></div></div>
<div class="ttc" id="astructdecimation__mode_html_aa2fe4a73b6781930c375b1810a03f73b"><div class="ttname"><a href="structdecimation__mode.html#aa2fe4a73b6781930c375b1810a03f73b">decimation_mode::is_ref_2plane</a></div><div class="ttdeci">bool is_ref_2plane(quant_method max_weight_quant) const</div><div class="ttdoc">Test if this mode is active below a given 2 plane weight quant (inclusive).</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00504">astcenc_internal.h:504</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__weight__align_8cpp_a571d7379fd52446338ef4fa7e700cb42_cgraph.png" border="0" usemap="#aastcenc__weight__align_8cpp_a571d7379fd52446338ef4fa7e700cb42_cgraph" alt=""/></div>
<map name="aastcenc__weight__align_8cpp_a571d7379fd52446338ef4fa7e700cb42_cgraph" id="aastcenc__weight__align_8cpp_a571d7379fd52446338ef4fa7e700cb42_cgraph">
<area shape="rect" title="Compute the angular endpoints for two planes for each block mode." alt="" coords="5,631,189,671"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a52f057b7da5fc35adac361b3696ac963" title="The main function for the angular algorithm." alt="" coords="237,523,421,563"/>
<area shape="poly" title=" " alt="" coords="140,629,272,567,274,572,142,634"/>
<area shape="rect" href="structblock__size__descriptor.html#a688445f2f90b13188372d812baf8e02d" title="Get the decimation info structure for index decimation_mode." alt="" coords="255,695,403,735"/>
<area shape="poly" title=" " alt="" coords="171,669,244,689,243,694,170,674"/>
<area shape="rect" href="structdecimation__mode.html#aa2fe4a73b6781930c375b1810a03f73b" title="Test if this mode is active below a given 2 plane weight quant (inclusive)." alt="" coords="258,631,401,671"/>
<area shape="poly" title=" " alt="" coords="190,649,244,649,244,654,190,654"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a54fb7b3aab0c6f60a65ce3dd07b088da" title="Compute the angular alignment factors and offsets." alt="" coords="469,183,636,208"/>
<area shape="poly" title=" " alt="" coords="341,522,534,218,538,221,346,525"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc" title="Return lanes from b if cond is set, else a." alt="" coords="1008,307,1065,332"/>
<area shape="poly" title=" " alt="" coords="422,548,519,554,625,557,722,554,760,549,790,541,828,523,864,500,929,444,981,388,1017,342,1021,345,985,391,933,448,867,504,831,527,792,546,761,554,722,559,625,562,518,560,421,554"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a32b24429143eb7c5b7050885943aad1b" title="For a given step size compute the lowest and highest weight." alt="" coords="481,375,625,415"/>
<area shape="poly" title=" " alt="" coords="359,521,508,421,511,425,362,525"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82" title="Return a 8&#45;bit mask code indicating mask status." alt="" coords="710,632,765,657"/>
<area shape="poly" title=" " alt="" coords="361,561,410,591,470,617,531,631,593,639,697,643,696,649,592,644,530,636,468,622,408,596,358,566"/>
<area shape="rect" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc" title="Get the scalar value of a single lane." alt="" coords="507,581,598,607"/>
<area shape="poly" title=" " alt="" coords="418,561,495,578,493,583,417,566"/>
<area shape="rect" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f" title="Return the maximum of two values." alt="" coords="513,133,593,159"/>
<area shape="poly" title=" " alt="" coords="329,523,338,456,360,360,378,308,401,257,431,210,468,168,482,158,499,151,501,156,485,162,471,172,435,213,406,260,382,310,365,362,343,456,335,524"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a0d4a4b324b23d5b82c16b03e83a2d056" title="Return fast, but approximate, vector atan2(x, y)." alt="" coords="710,107,765,132"/>
<area shape="poly" title=" " alt="" coords="600,180,635,168,683,142,697,135,699,140,685,147,637,172,601,185"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a5c2db475754d8da42d9b685a45c48ab8" title="Return a float value as an integer bit pattern (i.e. no conversion)." alt="" coords="1132,5,1220,31"/>
<area shape="poly" title=" " alt="" coords="612,180,634,168,650,150,658,131,665,111,682,92,722,64,758,45,792,32,826,25,898,19,989,13,1056,10,1118,11,1118,17,1056,15,989,18,899,24,826,30,793,38,760,50,725,69,686,96,670,114,663,133,655,153,638,172,615,185"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a" title="Store a vector to a 16B aligned memory address." alt="" coords="708,207,767,232"/>
<area shape="poly" title=" " alt="" coords="637,204,695,211,694,216,636,209"/>
<area shape="rect" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae" title="Factory that returns a vector of zeros." alt="" coords="692,157,783,183"/>
<area shape="poly" title=" " alt="" coords="636,181,678,175,679,181,637,186"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aeac50750508168aeab5115733d3ee63c" title="Return the absolute value of the float vector." alt="" coords="1015,132,1058,157"/>
<area shape="poly" title=" " alt="" coords="765,119,1002,139,1002,144,765,124"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a57f123f6c9bc31cdb2da321b778954a2" title="Return fast, but approximate, vector atan(x)." alt="" coords="867,157,913,183"/>
<area shape="poly" title=" " alt="" coords="766,126,854,156,853,161,764,131"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#aa88e9d6b0f056012a4fc61c558f99c2e" title="Return a with lanes negated if the b lane is negative." alt="" coords="989,56,1084,81"/>
<area shape="poly" title=" " alt="" coords="765,112,975,76,976,81,765,117"/>
<area shape="poly" title=" " alt="" coords="763,104,838,73,912,52,988,37,1118,20,1118,25,989,43,914,58,840,78,765,109"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a0c89452ffbab98a181c44460db41cae8" title="Return lanes from b if MSB of cond is set, else a." alt="" coords="845,207,935,232"/>
<area shape="poly" title=" " alt="" coords="766,128,792,143,817,167,840,192,849,198,846,202,837,196,813,171,789,147,764,132"/>
<area shape="poly" title=" " alt="" coords="913,163,1001,148,1002,153,914,169"/>
<area shape="poly" title=" " alt="" coords="908,155,1005,87,1008,91,911,159"/>
<area shape="poly" title=" " alt="" coords="915,176,943,192,968,216,991,243,1024,293,1020,296,986,246,964,220,940,196,912,180"/>
<area shape="poly" title=" " alt="" coords="1072,53,1127,33,1128,38,1073,58"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ac584d4929db078403c58549bafd3c1cd" title="Return a integer value as a float bit pattern (i.e. no conversion)." alt="" coords="1132,56,1220,81"/>
<area shape="poly" title=" " alt="" coords="1084,66,1118,66,1118,71,1084,71"/>
<area shape="rect" href="structvfloat4.html#a9df51cb30b68d6d51ca607e64aa1ebf0" title="Construct from zero&#45;initialized value." alt="" coords="839,256,941,281"/>
<area shape="poly" title=" " alt="" coords="772,180,792,192,807,205,817,217,840,241,849,247,846,251,837,245,813,220,803,208,789,196,770,185"/>
<area shape="poly" title=" " alt="" coords="595,373,637,356,683,342,769,327,855,319,994,316,994,321,856,325,770,333,685,347,639,361,597,378"/>
<area shape="poly" title=" " alt="" coords="565,374,612,310,645,274,682,241,694,234,697,238,686,245,649,278,616,314,569,377"/>
<area shape="poly" title=" " alt="" coords="560,374,578,336,605,288,640,237,682,192,687,188,691,192,686,196,644,241,609,291,583,339,565,376"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#afdaab5e0b4a39a5dd28fb5b40642e57d" title="Return a integer value for a float vector, using truncation." alt="" coords="695,407,780,432"/>
<area shape="poly" title=" " alt="" coords="625,402,681,409,681,415,625,407"/>
<area shape="rect" href="structvfloat4.html#a13edfd5bac159c8a65e10a3bd9355b4d" title="Factory that returns a vector containing the lane IDs." alt="" coords="684,256,791,281"/>
<area shape="poly" title=" " alt="" coords="579,373,682,298,701,286,704,291,686,303,582,377"/>
<area shape="poly" title=" " alt="" coords="571,414,721,619,716,622,567,417"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aa162915c044e97cc1f6d630338761fd3" title="Return the max vector of two vectors." alt="" coords="714,456,761,481"/>
<area shape="poly" title=" " alt="" coords="605,413,702,452,700,457,603,418"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a165b3db4e7ced1551e1880a01a01150b" title="Return the min vector of two vectors." alt="" coords="716,505,759,531"/>
<area shape="poly" title=" " alt="" coords="580,413,627,451,685,490,705,501,702,506,683,495,624,455,576,418"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a0cc9d8a88b3c39b3ea66e52d515ac661" title="Return a float rounded to the nearest integer value." alt="" coords="710,357,765,383"/>
<area shape="poly" title=" " alt="" coords="625,383,696,373,696,378,625,388"/>
<area shape="poly" title=" " alt="" coords="791,266,825,266,825,271,791,271"/>
<area shape="poly" title=" " alt="" coords="401,657,512,664,574,664,636,661,696,651,697,656,636,666,574,669,512,669,401,662"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__weight__align_8cpp_a571d7379fd52446338ef4fa7e700cb42_icgraph.png" border="0" usemap="#aastcenc__weight__align_8cpp_a571d7379fd52446338ef4fa7e700cb42_icgraph" alt=""/></div>
<map name="aastcenc__weight__align_8cpp_a571d7379fd52446338ef4fa7e700cb42_icgraph" id="aastcenc__weight__align_8cpp_a571d7379fd52446338ef4fa7e700cb42_icgraph">
<area shape="rect" title="Compute the angular endpoints for two planes for each block mode." alt="" coords="1239,5,1423,45"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af11a976c8ea386db054bef472ce0667c" title="Compress a block using a chosen partitioning and 2 planes of weights." alt="" coords="1015,5,1191,45"/>
<area shape="poly" title=" " alt="" coords="1225,28,1191,28,1191,23,1225,23"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a579b9a2ceeecda2fb3abe63b8311df1c" title="Compress an image block into a physical block." alt="" coords="849,13,967,38"/>
<area shape="poly" title=" " alt="" coords="1001,28,967,28,967,23,1001,23"/>
<area shape="rect" href="astcenc__entry_8cpp.html#acbecfd32ce013d567cac16a877c20f42" title="Compress an image, after any preflight has completed." alt="" coords="680,13,801,38"/>
<area shape="poly" title=" " alt="" coords="835,28,802,28,802,23,835,23"/>
<area shape="rect" href="astcenc__entry_8cpp.html#ad762aa055eed75156c99309158a40e90" title="Compress an image." alt="" coords="457,13,632,38"/>
<area shape="poly" title=" " alt="" coords="666,28,632,28,632,23,666,23"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,13,207,38"/>
<area shape="poly" title=" " alt="" coords="444,25,409,24,255,24,207,26,207,20,255,19,409,19,444,19"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa" title="Runner callback function for a compression worker thread." alt="" coords="255,33,409,73"/>
<area shape="poly" title=" " alt="" coords="444,41,410,46,409,41,443,36"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,13,56,38"/>
<area shape="poly" title=" " alt="" coords="90,28,57,28,57,23,90,23"/>
<area shape="poly" title=" " alt="" coords="241,42,206,36,207,31,242,36"/>
</map>
</div>

</div>
</div>
<a id="a52f057b7da5fc35adac361b3696ac963" name="a52f057b7da5fc35adac361b3696ac963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52f057b7da5fc35adac361b3696ac963">&#9670;&#160;</a></span>compute_angular_endpoints_for_quant_levels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void compute_angular_endpoints_for_quant_levels </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>weight_count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *</td>          <td class="paramname"><span class="paramname"><em>dec_weight_ideal_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>max_quant_level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>low_value</em></span>[TUNE_MAX_ANGULAR_QUANT+1], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>high_value</em></span>[TUNE_MAX_ANGULAR_QUANT+1]&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The main function for the angular algorithm. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">weight_count</td><td>The number of (decimated) weights. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dec_weight_ideal_value</td><td>The ideal decimated unquantized weight values. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_quant_level</td><td>The maximum quantization level to be tested. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">low_value</td><td>Per angular step, the lowest weight value. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">high_value</td><td>Per angular step, the highest weight value. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenc__weight__align_8cpp_source.html">astcenc_weight_align.cpp</a> 파일의 <a class="el" href="astcenc__weight__align_8cpp_source.html#l00235">235</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  241</span>  {</div>
<div class="line"><span class="lineno">  242</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_quant_steps = <a class="code hl_variable" href="#a03594d799b3a246b0005c6bbe4f5cd48">steps_for_quant_level</a>[max_quant_level];</div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_angular_steps = <a class="code hl_variable" href="#a03594d799b3a246b0005c6bbe4f5cd48">steps_for_quant_level</a>[max_quant_level];</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>    <a class="code hl_define" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> <span class="keywordtype">float</span> angular_offsets[<a class="code hl_variable" href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a>];</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <a class="code hl_function" href="#a54fb7b3aab0c6f60a65ce3dd07b088da">compute_angular_offsets</a>(weight_count, dec_weight_ideal_value,</div>
<div class="line"><span class="lineno">  248</span>                            max_angular_steps, angular_offsets);</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    <a class="code hl_define" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> <span class="keywordtype">float</span> lowest_weight[<a class="code hl_variable" href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a>];</div>
<div class="line"><span class="lineno">  251</span>    <a class="code hl_define" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> int32_t weight_span[<a class="code hl_variable" href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a>];</div>
<div class="line"><span class="lineno">  252</span>    <a class="code hl_define" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> <span class="keywordtype">float</span> error[<a class="code hl_variable" href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a>];</div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_define" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> <span class="keywordtype">float</span> cut_low_weight_error[<a class="code hl_variable" href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a>];</div>
<div class="line"><span class="lineno">  254</span>    <a class="code hl_define" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> <span class="keywordtype">float</span> cut_high_weight_error[<a class="code hl_variable" href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a>];</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    <a class="code hl_function" href="#a32b24429143eb7c5b7050885943aad1b">compute_lowest_and_highest_weight</a>(weight_count, dec_weight_ideal_value,</div>
<div class="line"><span class="lineno">  257</span>                                      max_angular_steps, max_quant_steps,</div>
<div class="line"><span class="lineno">  258</span>                                      angular_offsets, lowest_weight, weight_span, error,</div>
<div class="line"><span class="lineno">  259</span>                                      cut_low_weight_error, cut_high_weight_error);</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>    <span class="comment">// For each quantization level, find the best error terms. Use packed vectors so data-dependent</span></div>
<div class="line"><span class="lineno">  262</span>    <span class="comment">// branches can become selects. This involves some integer to float casts, but the values are</span></div>
<div class="line"><span class="lineno">  263</span>    <span class="comment">// small enough so they never round the wrong way.</span></div>
<div class="line"><span class="lineno">  264</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> best_results[36];</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>    <span class="comment">// Initialize the array to some safe defaults</span></div>
<div class="line"><span class="lineno">  267</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(max_quant_steps &gt; 0);</div>
<div class="line"><span class="lineno">  268</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; (max_quant_steps + 4); i++)</div>
<div class="line"><span class="lineno">  269</span>    {</div>
<div class="line"><span class="lineno">  270</span>        <span class="comment">// Lane&lt;0&gt; = Best error</span></div>
<div class="line"><span class="lineno">  271</span>        <span class="comment">// Lane&lt;1&gt; = Best scale; -1 indicates no solution found</span></div>
<div class="line"><span class="lineno">  272</span>        <span class="comment">// Lane&lt;2&gt; = Cut low weight</span></div>
<div class="line"><span class="lineno">  273</span>        best_results[i] = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(<a class="code hl_variable" href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a>, -1.0f, 0.0f, 0.0f);</div>
<div class="line"><span class="lineno">  274</span>    }</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(max_angular_steps &gt; 0);</div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; max_angular_steps; i++)</div>
<div class="line"><span class="lineno">  278</span>    {</div>
<div class="line"><span class="lineno">  279</span>        <span class="keywordtype">float</span> i_flt = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(i);</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordtype">int</span> idx_span = weight_span[i];</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>        <span class="keywordtype">float</span> error_cut_low = error[i] + cut_low_weight_error[i];</div>
<div class="line"><span class="lineno">  284</span>        <span class="keywordtype">float</span> error_cut_high = error[i] + cut_high_weight_error[i];</div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordtype">float</span> error_cut_low_high = error[i] + cut_low_weight_error[i] + cut_high_weight_error[i];</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>        <span class="comment">// Check best error against record N</span></div>
<div class="line"><span class="lineno">  288</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> best_result = best_results[idx_span];</div>
<div class="line"><span class="lineno">  289</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat4</a> new_result = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(error[i], i_flt, 0.0f, 0.0f);</div>
<div class="line"><span class="lineno">  290</span>        <a class="code hl_struct" href="structvmask4.html">vmask4</a> <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a> = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(best_result.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;0&gt;()) &gt; <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(error[i]);</div>
<div class="line"><span class="lineno">  291</span>        best_results[idx_span] = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(best_result, new_result, <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a>);</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>        <span class="comment">// Check best error against record N-1 with either cut low or cut high</span></div>
<div class="line"><span class="lineno">  294</span>        best_result = best_results[idx_span - 1];</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>        new_result = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(error_cut_low, i_flt, 1.0f, 0.0f);</div>
<div class="line"><span class="lineno">  297</span>        <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a> = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(best_result.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;0&gt;()) &gt; <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(error_cut_low);</div>
<div class="line"><span class="lineno">  298</span>        best_result = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(best_result, new_result, <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a>);</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>        new_result = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(error_cut_high, i_flt, 0.0f, 0.0f);</div>
<div class="line"><span class="lineno">  301</span>        <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a> = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(best_result.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;0&gt;()) &gt; <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(error_cut_high);</div>
<div class="line"><span class="lineno">  302</span>        best_results[idx_span - 1] = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(best_result, new_result, <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a>);</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>        <span class="comment">// Check best error against record N-2 with both cut low and high</span></div>
<div class="line"><span class="lineno">  305</span>        best_result = best_results[idx_span - 2];</div>
<div class="line"><span class="lineno">  306</span>        new_result = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(error_cut_low_high, i_flt, 1.0f, 0.0f);</div>
<div class="line"><span class="lineno">  307</span>        <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a> = <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(best_result.<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;0&gt;()) &gt; <a class="code hl_struct" href="structvfloat4.html">vfloat4</a>(error_cut_low_high);</div>
<div class="line"><span class="lineno">  308</span>        best_results[idx_span - 2] = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(best_result, new_result, <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a>);</div>
<div class="line"><span class="lineno">  309</span>    }</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt;= max_quant_level; i++)</div>
<div class="line"><span class="lineno">  312</span>    {</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> q = <a class="code hl_variable" href="#a03594d799b3a246b0005c6bbe4f5cd48">steps_for_quant_level</a>[i];</div>
<div class="line"><span class="lineno">  314</span>        <span class="keywordtype">int</span> bsi = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(best_results[q].<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;1&gt;());</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>        <span class="comment">// Did we find anything?</span></div>
<div class="line"><span class="lineno">  317</span><span class="preprocessor">#if defined(ASTCENC_DIAGNOSTICS)</span></div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">if</span> ((bsi &lt; 0) &amp;&amp; print_once)</div>
<div class="line"><span class="lineno">  319</span>        {</div>
<div class="line"><span class="lineno">  320</span>            print_once = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  321</span>            printf(<span class="stringliteral">&quot;INFO: Unable to find full encoding within search error limit.\n\n&quot;</span>);</div>
<div class="line"><span class="lineno">  322</span>        }</div>
<div class="line"><span class="lineno">  323</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>        bsi = <a class="code hl_function" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f">astc::max</a>(0, bsi);</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordtype">float</span> lwi = lowest_weight[bsi] + best_results[q].<a class="code hl_function" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">lane</a>&lt;2&gt;();</div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordtype">float</span> hwi = lwi + <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(q) - 1.0f;</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordtype">float</span> stepsize = 1.0f / (1.0f + <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(bsi));</div>
<div class="line"><span class="lineno">  331</span>        low_value[i]  = (angular_offsets[bsi] + lwi) * stepsize;</div>
<div class="line"><span class="lineno">  332</span>        high_value[i] = (angular_offsets[bsi] + hwi) * stepsize;</div>
<div class="line"><span class="lineno">  333</span>    }</div>
<div class="line"><span class="lineno">  334</span>}</div>
<div class="ttc" id="aastcenc__internal_8h_html_aaa341023bf98401423daebc6795e2c83"><div class="ttname"><a href="astcenc__internal_8h.html#aaa341023bf98401423daebc6795e2c83">ERROR_CALC_DEFAULT</a></div><div class="ttdeci">static constexpr float ERROR_CALC_DEFAULT</div><div class="ttdoc">The high default error used to initialize error trackers.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__internal_8h_source.html#l00120">astcenc_internal.h:120</a></div></div>
<div class="ttc" id="aastcenc__mathlib_8h_html_adf60643d2894fb1d3cd00d4f907186e8"><div class="ttname"><a href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a></div><div class="ttdeci">#define ASTCENC_ALIGNAS</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00091">astcenc_mathlib.h:91</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a844ab5b69b84569f033be33bf5fb9fbc"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vint8 select(vint8 a, vint8 b, vmask8 cond)</div><div class="ttdoc">Return lanes from b if cond is set, else a.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00602">astcenc_vecmathlib_avx2_8.h:602</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_ad922a3ed6098767968916265154b6f82"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE unsigned int mask(vmask8 a)</div><div class="ttdoc">Return a 8-bit mask code indicating mask status.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00355">astcenc_vecmathlib_avx2_8.h:355</a></div></div>
<div class="ttc" id="aastcenc__weight__align_8cpp_html_a03594d799b3a246b0005c6bbe4f5cd48"><div class="ttname"><a href="#a03594d799b3a246b0005c6bbe4f5cd48">steps_for_quant_level</a></div><div class="ttdeci">static const uint8_t steps_for_quant_level[12]</div><div class="ttdef"><b>Definition</b> <a href="astcenc__weight__align_8cpp_source.html#l00059">astcenc_weight_align.cpp:59</a></div></div>
<div class="ttc" id="aastcenc__weight__align_8cpp_html_a0c47d820ffe2fa4159024202df47767f"><div class="ttname"><a href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a></div><div class="ttdeci">static constexpr unsigned int ANGULAR_STEPS</div><div class="ttdoc">Functions for angular-sum algorithm for weight alignment.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__weight__align_8cpp_source.html#l00047">astcenc_weight_align.cpp:47</a></div></div>
<div class="ttc" id="aastcenc__weight__align_8cpp_html_a32b24429143eb7c5b7050885943aad1b"><div class="ttname"><a href="#a32b24429143eb7c5b7050885943aad1b">compute_lowest_and_highest_weight</a></div><div class="ttdeci">static void compute_lowest_and_highest_weight(unsigned int weight_count, const float *dec_weight_ideal_value, unsigned int max_angular_steps, unsigned int max_quant_steps, const float *offsets, float *lowest_weight, int *weight_span, float *error, float *cut_low_weight_error, float *cut_high_weight_error)</div><div class="ttdoc">For a given step size compute the lowest and highest weight.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__weight__align_8cpp_source.html#l00152">astcenc_weight_align.cpp:152</a></div></div>
<div class="ttc" id="aastcenc__weight__align_8cpp_html_a54fb7b3aab0c6f60a65ce3dd07b088da"><div class="ttname"><a href="#a54fb7b3aab0c6f60a65ce3dd07b088da">compute_angular_offsets</a></div><div class="ttdeci">static void compute_angular_offsets(unsigned int weight_count, const float *dec_weight_ideal_value, unsigned int max_angular_steps, float *offsets)</div><div class="ttdoc">Compute the angular alignment factors and offsets.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__weight__align_8cpp_source.html#l00093">astcenc_weight_align.cpp:93</a></div></div>
<div class="ttc" id="anamespaceastc_html_a83a55552d03399cdff6cf2fed8312c9f"><div class="ttname"><a href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f">astc::max</a></div><div class="ttdeci">static T max(T p, T q)</div><div class="ttdoc">Return the maximum of two values.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00210">astcenc_mathlib.h:210</a></div></div>
<div class="ttc" id="astructvfloat4_html"><div class="ttname"><a href="structvfloat4.html">vfloat4</a></div><div class="ttdoc">4x32-bit vectors, implemented using Armv8-A NEON.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00050">astcenc_vecmathlib_neon_4.h:51</a></div></div>
<div class="ttc" id="astructvfloat4_html_a04462a7815432c6bc3ce1b5e5d11e4fc"><div class="ttname"><a href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc">vfloat4::lane</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE float lane() const</div><div class="ttdoc">Get the scalar value of a single lane.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00100">astcenc_vecmathlib_neon_4.h:100</a></div></div>
<div class="ttc" id="astructvmask4_html"><div class="ttname"><a href="structvmask4.html">vmask4</a></div><div class="ttdoc">Data type for 4-wide control plane masks.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00313">astcenc_vecmathlib_neon_4.h:314</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__weight__align_8cpp_a52f057b7da5fc35adac361b3696ac963_cgraph.png" border="0" usemap="#aastcenc__weight__align_8cpp_a52f057b7da5fc35adac361b3696ac963_cgraph" alt=""/></div>
<map name="aastcenc__weight__align_8cpp_a52f057b7da5fc35adac361b3696ac963_cgraph" id="aastcenc__weight__align_8cpp_a52f057b7da5fc35adac361b3696ac963_cgraph">
<area shape="rect" title="The main function for the angular algorithm." alt="" coords="5,574,189,614"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a54fb7b3aab0c6f60a65ce3dd07b088da" title="Compute the angular alignment factors and offsets." alt="" coords="237,159,404,184"/>
<area shape="poly" title=" " alt="" coords="107,572,304,195,309,198,112,575"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc" title="Return lanes from b if cond is set, else a." alt="" coords="776,308,833,333"/>
<area shape="poly" title=" " alt="" coords="185,611,267,623,362,628,412,626,462,620,511,609,558,592,599,568,638,539,673,506,705,470,755,400,788,345,793,347,760,403,709,474,677,510,642,543,602,573,560,596,513,614,463,625,413,632,362,634,266,629,184,617"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a32b24429143eb7c5b7050885943aad1b" title="For a given step size compute the lowest and highest weight." alt="" coords="249,375,393,415"/>
<area shape="poly" title=" " alt="" coords="119,572,285,423,288,427,123,576"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82" title="Return a 8&#45;bit mask code indicating mask status." alt="" coords="478,556,533,581"/>
<area shape="poly" title=" " alt="" coords="189,586,464,569,464,574,190,591"/>
<area shape="rect" href="structvfloat4.html#a04462a7815432c6bc3ce1b5e5d11e4fc" title="Get the scalar value of a single lane." alt="" coords="275,657,366,683"/>
<area shape="poly" title=" " alt="" coords="158,612,270,650,269,655,156,617"/>
<area shape="rect" href="namespaceastc.html#a83a55552d03399cdff6cf2fed8312c9f" title="Return the maximum of two values." alt="" coords="281,707,361,732"/>
<area shape="poly" title=" " alt="" coords="123,612,174,653,239,693,268,705,266,710,236,698,171,657,119,616"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a0d4a4b324b23d5b82c16b03e83a2d056" title="Return fast, but approximate, vector atan2(x, y)." alt="" coords="478,108,533,133"/>
<area shape="poly" title=" " alt="" coords="367,156,464,129,465,134,369,161"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a5c2db475754d8da42d9b685a45c48ab8" title="Return a float value as an integer bit pattern (i.e. no conversion)." alt="" coords="900,5,988,31"/>
<area shape="poly" title=" " alt="" coords="340,156,389,125,451,93,533,58,600,36,668,22,757,13,805,11,852,13,886,13,886,19,852,18,805,16,758,18,669,28,601,41,535,63,453,98,392,130,343,161"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a" title="Store a vector to a 16B aligned memory address." alt="" coords="476,208,535,233"/>
<area shape="poly" title=" " alt="" coords="370,181,464,207,462,212,368,187"/>
<area shape="rect" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae" title="Factory that returns a vector of zeros." alt="" coords="460,159,551,184"/>
<area shape="poly" title=" " alt="" coords="404,169,446,169,446,174,404,174"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aeac50750508168aeab5115733d3ee63c" title="Return the absolute value of the float vector." alt="" coords="783,81,826,107"/>
<area shape="poly" title=" " alt="" coords="532,109,567,99,606,91,695,86,770,89,769,94,695,92,607,97,568,104,534,114"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a57f123f6c9bc31cdb2da321b778954a2" title="Return fast, but approximate, vector atan(x)." alt="" coords="635,156,681,181"/>
<area shape="poly" title=" " alt="" coords="534,126,622,155,621,160,532,132"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#aa88e9d6b0f056012a4fc61c558f99c2e" title="Return a with lanes negated if the b lane is negative." alt="" coords="757,156,852,181"/>
<area shape="poly" title=" " alt="" coords="534,129,560,144,575,157,584,170,593,181,608,190,646,199,686,199,725,193,759,183,760,189,726,198,687,205,646,205,606,195,589,185,579,173,571,161,557,148,532,134"/>
<area shape="poly" title=" " alt="" coords="528,105,564,88,606,71,681,52,757,37,886,20,887,25,757,42,682,57,607,77,566,93,531,110"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a0c89452ffbab98a181c44460db41cae8" title="Return lanes from b if MSB of cond is set, else a." alt="" coords="613,107,703,132"/>
<area shape="poly" title=" " alt="" coords="533,118,599,117,599,123,533,123"/>
<area shape="poly" title=" " alt="" coords="681,155,708,141,770,109,772,113,711,146,683,160"/>
<area shape="poly" title=" " alt="" coords="682,166,744,166,744,171,682,171"/>
<area shape="poly" title=" " alt="" coords="674,180,784,296,780,300,670,183"/>
<area shape="poly" title=" " alt="" coords="816,154,850,116,920,39,924,43,854,120,820,158"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ac584d4929db078403c58549bafd3c1cd" title="Return a integer value as a float bit pattern (i.e. no conversion)." alt="" coords="900,156,988,181"/>
<area shape="poly" title=" " alt="" coords="852,166,886,166,886,171,852,171"/>
<area shape="rect" href="structvfloat4.html#a9df51cb30b68d6d51ca607e64aa1ebf0" title="Construct from zero&#45;initialized value." alt="" coords="607,257,709,283"/>
<area shape="poly" title=" " alt="" coords="540,182,560,193,585,214,608,236,625,248,622,252,605,240,581,218,557,198,537,186"/>
<area shape="poly" title=" " alt="" coords="366,373,407,357,451,345,537,330,623,322,762,317,762,323,624,327,538,336,453,350,409,362,368,378"/>
<area shape="poly" title=" " alt="" coords="333,373,381,311,414,275,450,243,462,235,465,239,454,247,417,279,385,314,337,376"/>
<area shape="poly" title=" " alt="" coords="328,374,346,337,373,289,408,238,450,193,455,189,459,194,454,197,412,242,377,292,351,339,333,376"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#afdaab5e0b4a39a5dd28fb5b40642e57d" title="Return a integer value for a float vector, using truncation." alt="" coords="463,408,548,433"/>
<area shape="poly" title=" " alt="" coords="393,403,449,410,448,416,393,408"/>
<area shape="rect" href="structvfloat4.html#a13edfd5bac159c8a65e10a3bd9355b4d" title="Factory that returns a vector containing the lane IDs." alt="" coords="452,257,559,283"/>
<area shape="poly" title=" " alt="" coords="347,373,451,300,469,288,472,292,453,304,351,377"/>
<area shape="poly" title=" " alt="" coords="338,414,385,476,417,511,454,543,467,551,464,556,450,547,414,515,381,479,333,417"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aa162915c044e97cc1f6d630338761fd3" title="Return the max vector of two vectors." alt="" coords="482,457,529,483"/>
<area shape="poly" title=" " alt="" coords="372,413,470,453,468,458,370,418"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a165b3db4e7ced1551e1880a01a01150b" title="Return the min vector of two vectors." alt="" coords="484,507,527,532"/>
<area shape="poly" title=" " alt="" coords="347,413,394,452,453,493,473,503,470,508,451,498,391,457,343,418"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a0cc9d8a88b3c39b3ea66e52d515ac661" title="Return a float rounded to the nearest integer value." alt="" coords="478,359,533,384"/>
<area shape="poly" title=" " alt="" coords="393,383,464,374,464,379,393,389"/>
<area shape="poly" title=" " alt="" coords="559,267,593,267,593,273,559,273"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__weight__align_8cpp_a52f057b7da5fc35adac361b3696ac963_icgraph.png" border="0" usemap="#aastcenc__weight__align_8cpp_a52f057b7da5fc35adac361b3696ac963_icgraph" alt=""/></div>
<map name="aastcenc__weight__align_8cpp_a52f057b7da5fc35adac361b3696ac963_icgraph" id="aastcenc__weight__align_8cpp_a52f057b7da5fc35adac361b3696ac963_icgraph">
<area shape="rect" title="The main function for the angular algorithm." alt="" coords="1471,37,1655,77"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#af1b151d02c3af92eb002dc7172111233" title="Compute the angular endpoints for one plane for each block mode." alt="" coords="1239,5,1423,45"/>
<area shape="poly" title=" " alt="" coords="1456,45,1423,41,1423,35,1457,40"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a571d7379fd52446338ef4fa7e700cb42" title="Compute the angular endpoints for two planes for each block mode." alt="" coords="1239,69,1423,109"/>
<area shape="poly" title=" " alt="" coords="1457,75,1423,79,1423,74,1456,69"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af5f518a15600c71922e69267dea2db99" title="Compress a block using a chosen partitioning and 1 plane of weights." alt="" coords="1015,5,1191,45"/>
<area shape="poly" title=" " alt="" coords="1225,28,1191,28,1191,23,1225,23"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a579b9a2ceeecda2fb3abe63b8311df1c" title="Compress an image block into a physical block." alt="" coords="849,45,967,70"/>
<area shape="poly" title=" " alt="" coords="1002,45,967,50,966,45,1001,39"/>
<area shape="rect" href="astcenc__entry_8cpp.html#acbecfd32ce013d567cac16a877c20f42" title="Compress an image, after any preflight has completed." alt="" coords="680,45,801,70"/>
<area shape="poly" title=" " alt="" coords="835,60,802,60,802,55,835,55"/>
<area shape="rect" href="astcenc__entry_8cpp.html#ad762aa055eed75156c99309158a40e90" title="Compress an image." alt="" coords="457,45,632,70"/>
<area shape="poly" title=" " alt="" coords="666,60,632,60,632,55,666,55"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,45,207,70"/>
<area shape="poly" title=" " alt="" coords="444,57,409,56,255,56,207,58,207,52,255,51,409,51,444,51"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa" title="Runner callback function for a compression worker thread." alt="" coords="255,65,409,105"/>
<area shape="poly" title=" " alt="" coords="444,73,410,78,409,73,443,68"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,45,56,70"/>
<area shape="poly" title=" " alt="" coords="90,60,57,60,57,55,90,55"/>
<area shape="poly" title=" " alt="" coords="241,74,206,68,207,63,242,68"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af11a976c8ea386db054bef472ce0667c" title="Compress a block using a chosen partitioning and 2 planes of weights." alt="" coords="1015,69,1191,109"/>
<area shape="poly" title=" " alt="" coords="1225,92,1191,92,1191,87,1225,87"/>
<area shape="poly" title=" " alt="" coords="1001,75,966,70,967,64,1002,70"/>
</map>
</div>

</div>
</div>
<a id="a54fb7b3aab0c6f60a65ce3dd07b088da" name="a54fb7b3aab0c6f60a65ce3dd07b088da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54fb7b3aab0c6f60a65ce3dd07b088da">&#9670;&#160;</a></span>compute_angular_offsets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void compute_angular_offsets </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>weight_count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *</td>          <td class="paramname"><span class="paramname"><em>dec_weight_ideal_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>max_angular_steps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>offsets</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the angular alignment factors and offsets. </p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">weight_count</td><td>The number of (decimated) weights. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dec_weight_ideal_value</td><td>The ideal decimated unquantized weight values. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_angular_steps</td><td>The maximum number of steps to be tested. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">offsets</td><td>The output angular offsets array. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenc__weight__align_8cpp_source.html">astcenc_weight_align.cpp</a> 파일의 <a class="el" href="astcenc__weight__align_8cpp_source.html#l00093">93</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>  {</div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(weight_count &gt; 0);</div>
<div class="line"><span class="lineno">  100</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(max_angular_steps &gt; 0);</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_define" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> <span class="keywordtype">int</span> isamplev[<a class="code hl_variable" href="astcenc__internal_8h.html#aa069d5d400baafe528bce4778aba6c45">BLOCK_MAX_WEIGHTS</a>];</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>    <span class="comment">// Precompute isample; arrays are always allocated 64 elements long</span></div>
<div class="line"><span class="lineno">  105</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; weight_count; i += <a class="code hl_define" href="astcenc__vecmathlib_8h.html#aaf679f3389069313db808a4ebd6af8ad">ASTCENC_SIMD_WIDTH</a>)</div>
<div class="line"><span class="lineno">  106</span>    {</div>
<div class="line"><span class="lineno">  107</span>        <span class="comment">// Add 2^23 and interpreting bits extracts round-to-nearest int</span></div>
<div class="line"><span class="lineno">  108</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> sample = <a class="code hl_variable" href="astcenc__vecmathlib_8h.html#a535908f39a759651e1adb70d750a96f7">loada</a>(dec_weight_ideal_value + i) * (<a class="code hl_variable" href="#ac88e8350ec82ce924a219860a9ac558e">SINCOS_STEPS</a> - 1.0f) + <a class="code hl_typedef" href="astcenc__vecmathlib_8h.html#a3a29c3b15144cf0836ca0f4740b73d00">vfloat</a>(12582912.0f);</div>
<div class="line"><span class="lineno">  109</span>        <a class="code hl_struct" href="structvint4.html">vint</a> isample = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a5c2db475754d8da42d9b685a45c48ab8">float_as_int</a>(sample) &amp; <a class="code hl_typedef" href="astcenc__vecmathlib_8h.html#a1d994704cca1a088c460bd5a3058e3bc">vint</a>((<a class="code hl_variable" href="#ac88e8350ec82ce924a219860a9ac558e">SINCOS_STEPS</a> - 1));</div>
<div class="line"><span class="lineno">  110</span>        <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a">storea</a>(isample, isamplev + i);</div>
<div class="line"><span class="lineno">  111</span>    }</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>    <span class="comment">// Arrays are multiple of SIMD width (ANGULAR_STEPS), safe to overshoot max</span></div>
<div class="line"><span class="lineno">  114</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat</a> mult = <a class="code hl_typedef" href="astcenc__vecmathlib_8h.html#a3a29c3b15144cf0836ca0f4740b73d00">vfloat</a>(1.0f / (2.0f * <a class="code hl_variable" href="namespaceastc.html#a7b7581e8dda9382d1d6effd9c4925065">astc::PI</a>));</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; max_angular_steps; i += <a class="code hl_define" href="astcenc__vecmathlib_8h.html#aaf679f3389069313db808a4ebd6af8ad">ASTCENC_SIMD_WIDTH</a>)</div>
<div class="line"><span class="lineno">  117</span>    {</div>
<div class="line"><span class="lineno">  118</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> anglesum_x = <a class="code hl_function" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae">vfloat::zero</a>();</div>
<div class="line"><span class="lineno">  119</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> anglesum_y = <a class="code hl_function" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae">vfloat::zero</a>();</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; weight_count; j++)</div>
<div class="line"><span class="lineno">  122</span>        {</div>
<div class="line"><span class="lineno">  123</span>            <span class="keywordtype">int</span> isample = isamplev[j];</div>
<div class="line"><span class="lineno">  124</span>            anglesum_x += <a class="code hl_variable" href="astcenc__vecmathlib_8h.html#a535908f39a759651e1adb70d750a96f7">loada</a>(<a class="code hl_variable" href="#a3a16cc5209c93b9b81783d37a7566553">cos_table</a>[isample] + i);</div>
<div class="line"><span class="lineno">  125</span>            anglesum_y += <a class="code hl_variable" href="astcenc__vecmathlib_8h.html#a535908f39a759651e1adb70d750a96f7">loada</a>(<a class="code hl_variable" href="#a2300d1e0bcd154e01c2376d89ea3a91c">sin_table</a>[isample] + i);</div>
<div class="line"><span class="lineno">  126</span>        }</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> angle = <a class="code hl_function" href="astcenc__vecmathlib_8h.html#a0d4a4b324b23d5b82c16b03e83a2d056">atan2</a>(anglesum_y, anglesum_x);</div>
<div class="line"><span class="lineno">  129</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> ofs = angle * mult;</div>
<div class="line"><span class="lineno">  130</span>        <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a">storea</a>(ofs, offsets + i);</div>
<div class="line"><span class="lineno">  131</span>    }</div>
<div class="line"><span class="lineno">  132</span>}</div>
<div class="ttc" id="aastcenc__vecmathlib_8h_html_a0d4a4b324b23d5b82c16b03e83a2d056"><div class="ttname"><a href="astcenc__vecmathlib_8h.html#a0d4a4b324b23d5b82c16b03e83a2d056">atan2</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vfloat atan2(vfloat y, vfloat x)</div><div class="ttdoc">Return fast, but approximate, vector atan2(x, y).</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib_8h_source.html#l00239">astcenc_vecmathlib.h:239</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib_8h_html_a1d994704cca1a088c460bd5a3058e3bc"><div class="ttname"><a href="astcenc__vecmathlib_8h.html#a1d994704cca1a088c460bd5a3058e3bc">vint</a></div><div class="ttdeci">vint4 vint</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib_8h_source.html#l00150">astcenc_vecmathlib.h:150</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib_8h_html_a3a29c3b15144cf0836ca0f4740b73d00"><div class="ttname"><a href="astcenc__vecmathlib_8h.html#a3a29c3b15144cf0836ca0f4740b73d00">vfloat</a></div><div class="ttdeci">vfloat4 vfloat</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib_8h_source.html#l00148">astcenc_vecmathlib.h:148</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib_8h_html_a535908f39a759651e1adb70d750a96f7"><div class="ttname"><a href="astcenc__vecmathlib_8h.html#a535908f39a759651e1adb70d750a96f7">loada</a></div><div class="ttdeci">constexpr auto loada</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib_8h_source.html#l00153">astcenc_vecmathlib.h:153</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib_8h_html_aaf679f3389069313db808a4ebd6af8ad"><div class="ttname"><a href="astcenc__vecmathlib_8h.html#aaf679f3389069313db808a4ebd6af8ad">ASTCENC_SIMD_WIDTH</a></div><div class="ttdeci">#define ASTCENC_SIMD_WIDTH</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib_8h_source.html#l00146">astcenc_vecmathlib.h:146</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a5c2db475754d8da42d9b685a45c48ab8"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a5c2db475754d8da42d9b685a45c48ab8">float_as_int</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vint8 float_as_int(vfloat8 a)</div><div class="ttdoc">Return a float value as an integer bit pattern (i.e. no conversion).</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l01031">astcenc_vecmathlib_avx2_8.h:1031</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_ad4c0a7bde35d6fe9c54531e1e0652f4a"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a">storea</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE void storea(vint8 a, int *p)</div><div class="ttdoc">Store a vector to a 16B aligned memory address.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00549">astcenc_vecmathlib_avx2_8.h:549</a></div></div>
<div class="ttc" id="aastcenc__weight__align_8cpp_html_a2300d1e0bcd154e01c2376d89ea3a91c"><div class="ttname"><a href="#a2300d1e0bcd154e01c2376d89ea3a91c">sin_table</a></div><div class="ttdeci">static ASTCENC_ALIGNAS float sin_table[SINCOS_STEPS][ANGULAR_STEPS]</div><div class="ttdef"><b>Definition</b> <a href="astcenc__weight__align_8cpp_source.html#l00063">astcenc_weight_align.cpp:63</a></div></div>
<div class="ttc" id="aastcenc__weight__align_8cpp_html_a3a16cc5209c93b9b81783d37a7566553"><div class="ttname"><a href="#a3a16cc5209c93b9b81783d37a7566553">cos_table</a></div><div class="ttdeci">static ASTCENC_ALIGNAS float cos_table[SINCOS_STEPS][ANGULAR_STEPS]</div><div class="ttdef"><b>Definition</b> <a href="astcenc__weight__align_8cpp_source.html#l00064">astcenc_weight_align.cpp:64</a></div></div>
<div class="ttc" id="aastcenc__weight__align_8cpp_html_ac88e8350ec82ce924a219860a9ac558e"><div class="ttname"><a href="#ac88e8350ec82ce924a219860a9ac558e">SINCOS_STEPS</a></div><div class="ttdeci">static constexpr unsigned int SINCOS_STEPS</div><div class="ttdef"><b>Definition</b> <a href="astcenc__weight__align_8cpp_source.html#l00057">astcenc_weight_align.cpp:57</a></div></div>
<div class="ttc" id="anamespaceastc_html_a7b7581e8dda9382d1d6effd9c4925065"><div class="ttname"><a href="namespaceastc.html#a7b7581e8dda9382d1d6effd9c4925065">astc::PI</a></div><div class="ttdeci">static const float PI</div><div class="ttdef"><b>Definition</b> <a href="astcenc__mathlib_8h_source.html#l00121">astcenc_mathlib.h:121</a></div></div>
<div class="ttc" id="astructvfloat4_html_a04b5f338012dab6be0b2bd7910fcbcae"><div class="ttname"><a href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae">vfloat4::zero</a></div><div class="ttdeci">static ASTCENC_SIMD_INLINE vfloat4 zero()</div><div class="ttdoc">Factory that returns a vector of zeros.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00116">astcenc_vecmathlib_neon_4.h:116</a></div></div>
<div class="ttc" id="astructvint4_html"><div class="ttname"><a href="structvint4.html">vint4</a></div><div class="ttdoc">Data type for 4-wide ints.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00183">astcenc_vecmathlib_neon_4.h:184</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__weight__align_8cpp_a54fb7b3aab0c6f60a65ce3dd07b088da_cgraph.png" border="0" usemap="#aastcenc__weight__align_8cpp_a54fb7b3aab0c6f60a65ce3dd07b088da_cgraph" alt=""/></div>
<map name="aastcenc__weight__align_8cpp_a54fb7b3aab0c6f60a65ce3dd07b088da_cgraph" id="aastcenc__weight__align_8cpp_a54fb7b3aab0c6f60a65ce3dd07b088da_cgraph">
<area shape="rect" title="Compute the angular alignment factors and offsets." alt="" coords="5,283,172,308"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a0d4a4b324b23d5b82c16b03e83a2d056" title="Return fast, but approximate, vector atan2(x, y)." alt="" coords="238,131,293,156"/>
<area shape="poly" title=" " alt="" coords="103,280,237,163,241,167,107,284"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a5c2db475754d8da42d9b685a45c48ab8" title="Return a float value as an integer bit pattern (i.e. no conversion)." alt="" coords="652,156,740,181"/>
<area shape="poly" title=" " alt="" coords="172,286,308,270,461,242,562,214,648,184,650,189,563,219,462,247,309,275,173,291"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a" title="Store a vector to a 16B aligned memory address." alt="" coords="236,308,295,333"/>
<area shape="poly" title=" " alt="" coords="173,305,223,312,222,317,172,310"/>
<area shape="rect" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae" title="Factory that returns a vector of zeros." alt="" coords="220,357,311,383"/>
<area shape="poly" title=" " alt="" coords="121,306,223,350,221,354,119,311"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aeac50750508168aeab5115733d3ee63c" title="Return the absolute value of the float vector." alt="" coords="535,5,578,31"/>
<area shape="poly" title=" " alt="" coords="272,129,304,84,329,59,357,40,400,24,444,15,521,13,521,18,444,20,401,29,360,44,332,63,309,87,276,132"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#a57f123f6c9bc31cdb2da321b778954a2" title="Return fast, but approximate, vector atan(x)." alt="" coords="387,55,433,80"/>
<area shape="poly" title=" " alt="" coords="289,128,373,83,376,88,292,133"/>
<area shape="rect" href="astcenc__vecmathlib_8h.html#aa88e9d6b0f056012a4fc61c558f99c2e" title="Return a with lanes negated if the b lane is negative." alt="" coords="509,105,604,131"/>
<area shape="poly" title=" " alt="" coords="293,138,495,121,496,126,293,144"/>
<area shape="poly" title=" " alt="" coords="293,142,638,163,638,168,293,148"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a0c89452ffbab98a181c44460db41cae8" title="Return lanes from b if MSB of cond is set, else a." alt="" coords="365,207,455,232"/>
<area shape="poly" title=" " alt="" coords="292,154,374,198,372,203,289,159"/>
<area shape="poly" title=" " alt="" coords="433,57,522,27,523,32,435,62"/>
<area shape="poly" title=" " alt="" coords="435,73,507,98,505,103,433,78"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc" title="Return lanes from b if cond is set, else a." alt="" coords="528,55,585,80"/>
<area shape="poly" title=" " alt="" coords="434,65,514,65,514,70,434,70"/>
<area shape="poly" title=" " alt="" coords="593,128,648,149,647,154,592,133"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ac584d4929db078403c58549bafd3c1cd" title="Return a integer value as a float bit pattern (i.e. no conversion)." alt="" coords="652,105,740,131"/>
<area shape="poly" title=" " alt="" coords="604,115,638,115,638,121,604,121"/>
<area shape="rect" href="structvfloat4.html#a9df51cb30b68d6d51ca607e64aa1ebf0" title="Construct from zero&#45;initialized value." alt="" coords="359,357,461,383"/>
<area shape="poly" title=" " alt="" coords="311,367,345,367,345,373,311,373"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__weight__align_8cpp_a54fb7b3aab0c6f60a65ce3dd07b088da_icgraph.png" border="0" usemap="#aastcenc__weight__align_8cpp_a54fb7b3aab0c6f60a65ce3dd07b088da_icgraph" alt=""/></div>
<map name="aastcenc__weight__align_8cpp_a54fb7b3aab0c6f60a65ce3dd07b088da_icgraph" id="aastcenc__weight__align_8cpp_a54fb7b3aab0c6f60a65ce3dd07b088da_icgraph">
<area shape="rect" title="Compute the angular alignment factors and offsets." alt="" coords="1703,45,1869,70"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a52f057b7da5fc35adac361b3696ac963" title="The main function for the angular algorithm." alt="" coords="1471,37,1655,77"/>
<area shape="poly" title=" " alt="" coords="1689,60,1655,60,1655,55,1689,55"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#af1b151d02c3af92eb002dc7172111233" title="Compute the angular endpoints for one plane for each block mode." alt="" coords="1239,5,1423,45"/>
<area shape="poly" title=" " alt="" coords="1456,45,1423,41,1423,35,1457,40"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a571d7379fd52446338ef4fa7e700cb42" title="Compute the angular endpoints for two planes for each block mode." alt="" coords="1239,69,1423,109"/>
<area shape="poly" title=" " alt="" coords="1457,75,1423,79,1423,74,1456,69"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af5f518a15600c71922e69267dea2db99" title="Compress a block using a chosen partitioning and 1 plane of weights." alt="" coords="1015,5,1191,45"/>
<area shape="poly" title=" " alt="" coords="1225,28,1191,28,1191,23,1225,23"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a579b9a2ceeecda2fb3abe63b8311df1c" title="Compress an image block into a physical block." alt="" coords="849,45,967,70"/>
<area shape="poly" title=" " alt="" coords="1002,45,967,50,966,45,1001,39"/>
<area shape="rect" href="astcenc__entry_8cpp.html#acbecfd32ce013d567cac16a877c20f42" title="Compress an image, after any preflight has completed." alt="" coords="680,45,801,70"/>
<area shape="poly" title=" " alt="" coords="835,60,802,60,802,55,835,55"/>
<area shape="rect" href="astcenc__entry_8cpp.html#ad762aa055eed75156c99309158a40e90" title="Compress an image." alt="" coords="457,45,632,70"/>
<area shape="poly" title=" " alt="" coords="666,60,632,60,632,55,666,55"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,45,207,70"/>
<area shape="poly" title=" " alt="" coords="444,57,409,56,255,56,207,58,207,52,255,51,409,51,444,51"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa" title="Runner callback function for a compression worker thread." alt="" coords="255,65,409,105"/>
<area shape="poly" title=" " alt="" coords="444,73,410,78,409,73,443,68"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,45,56,70"/>
<area shape="poly" title=" " alt="" coords="90,60,57,60,57,55,90,55"/>
<area shape="poly" title=" " alt="" coords="241,74,206,68,207,63,242,68"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af11a976c8ea386db054bef472ce0667c" title="Compress a block using a chosen partitioning and 2 planes of weights." alt="" coords="1015,69,1191,109"/>
<area shape="poly" title=" " alt="" coords="1225,92,1191,92,1191,87,1225,87"/>
<area shape="poly" title=" " alt="" coords="1001,75,966,70,967,64,1002,70"/>
</map>
</div>

</div>
</div>
<a id="a32b24429143eb7c5b7050885943aad1b" name="a32b24429143eb7c5b7050885943aad1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b24429143eb7c5b7050885943aad1b">&#9670;&#160;</a></span>compute_lowest_and_highest_weight()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void compute_lowest_and_highest_weight </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>weight_count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *</td>          <td class="paramname"><span class="paramname"><em>dec_weight_ideal_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>max_angular_steps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>max_quant_steps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *</td>          <td class="paramname"><span class="paramname"><em>offsets</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>lowest_weight</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>weight_span</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>error</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>cut_low_weight_error</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>cut_high_weight_error</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For a given step size compute the lowest and highest weight. </p>
<p>Compute the lowest and highest weight that results from quantizing using the given stepsize and offset, and then compute the resulting error. The cut errors indicate the error that results from forcing samples that should have had one weight value one step up or down.</p>
<dl class="params"><dt>매개변수</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">weight_count</td><td>The number of (decimated) weights. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dec_weight_ideal_value</td><td>The ideal decimated unquantized weight values. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_angular_steps</td><td>The maximum number of steps to be tested. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_quant_steps</td><td>The maximum quantization level to be tested. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">offsets</td><td>The angular offsets array. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lowest_weight</td><td>Per angular step, the lowest weight. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">weight_span</td><td>Per angular step, the span between lowest and highest weight. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Per angular step, the error. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cut_low_weight_error</td><td>Per angular step, the low weight cut error. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cut_high_weight_error</td><td>Per angular step, the high weight cut error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition"><a class="el" href="astcenc__weight__align_8cpp_source.html">astcenc_weight_align.cpp</a> 파일의 <a class="el" href="astcenc__weight__align_8cpp_source.html#l00152">152</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  163</span>  {</div>
<div class="line"><span class="lineno">  164</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(weight_count &gt; 0);</div>
<div class="line"><span class="lineno">  165</span>    <a class="code hl_define" href="astcenc__internal_8h.html#a2cce51c3362aa0b5040437ac0e7f8969">promise</a>(max_angular_steps &gt; 0);</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <a class="code hl_struct" href="structvfloat4.html">vfloat</a> rcp_stepsize = <a class="code hl_function" href="structvfloat4.html#a13edfd5bac159c8a65e10a3bd9355b4d">vfloat::lane_id</a>() + <a class="code hl_typedef" href="astcenc__vecmathlib_8h.html#a3a29c3b15144cf0836ca0f4740b73d00">vfloat</a>(1.0f);</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <span class="comment">// Arrays are ANGULAR_STEPS long, so always safe to run full vectors</span></div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sp = 0; sp &lt; max_angular_steps; sp += <a class="code hl_define" href="astcenc__vecmathlib_8h.html#aaf679f3389069313db808a4ebd6af8ad">ASTCENC_SIMD_WIDTH</a>)</div>
<div class="line"><span class="lineno">  171</span>    {</div>
<div class="line"><span class="lineno">  172</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> minidx(128.0f);</div>
<div class="line"><span class="lineno">  173</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> maxidx(-128.0f);</div>
<div class="line"><span class="lineno">  174</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> errval = <a class="code hl_function" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae">vfloat::zero</a>();</div>
<div class="line"><span class="lineno">  175</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> cut_low_weight_err = <a class="code hl_function" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae">vfloat::zero</a>();</div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> cut_high_weight_err = <a class="code hl_function" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae">vfloat::zero</a>();</div>
<div class="line"><span class="lineno">  177</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> offset = <a class="code hl_variable" href="astcenc__vecmathlib_8h.html#a535908f39a759651e1adb70d750a96f7">loada</a>(offsets + sp);</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; weight_count; j++)</div>
<div class="line"><span class="lineno">  180</span>        {</div>
<div class="line"><span class="lineno">  181</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat</a> sval = <a class="code hl_variable" href="astcenc__vecmathlib_8h.html#ac9c9ecce219189fd272c1a9d6cb9c4d2">load1</a>(dec_weight_ideal_value + j) * rcp_stepsize - offset;</div>
<div class="line"><span class="lineno">  182</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat</a> svalrte = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a0cc9d8a88b3c39b3ea66e52d515ac661">round</a>(sval);</div>
<div class="line"><span class="lineno">  183</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat</a> diff = sval - svalrte;</div>
<div class="line"><span class="lineno">  184</span>            errval += diff * diff;</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>            <span class="comment">// Reset tracker on min hit</span></div>
<div class="line"><span class="lineno">  187</span>            <a class="code hl_struct" href="structvmask4.html">vmask</a> <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a> = svalrte &lt; minidx;</div>
<div class="line"><span class="lineno">  188</span>            minidx = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(minidx, svalrte, <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a>);</div>
<div class="line"><span class="lineno">  189</span>            cut_low_weight_err = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(cut_low_weight_err, <a class="code hl_function" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae">vfloat::zero</a>(), <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a>);</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>            <span class="comment">// Accumulate on min hit</span></div>
<div class="line"><span class="lineno">  192</span>            <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a> = svalrte == minidx;</div>
<div class="line"><span class="lineno">  193</span>            <a class="code hl_struct" href="structvfloat4.html">vfloat</a> accum = cut_low_weight_err + <a class="code hl_typedef" href="astcenc__vecmathlib_8h.html#a3a29c3b15144cf0836ca0f4740b73d00">vfloat</a>(1.0f) - <a class="code hl_typedef" href="astcenc__vecmathlib_8h.html#a3a29c3b15144cf0836ca0f4740b73d00">vfloat</a>(2.0f) * diff;</div>
<div class="line"><span class="lineno">  194</span>            cut_low_weight_err = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(cut_low_weight_err, accum, <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a>);</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>            <span class="comment">// Reset tracker on max hit</span></div>
<div class="line"><span class="lineno">  197</span>            <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a> = svalrte &gt; maxidx;</div>
<div class="line"><span class="lineno">  198</span>            maxidx = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(maxidx, svalrte, <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a>);</div>
<div class="line"><span class="lineno">  199</span>            cut_high_weight_err = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(cut_high_weight_err, <a class="code hl_function" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae">vfloat::zero</a>(), <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a>);</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>            <span class="comment">// Accumulate on max hit</span></div>
<div class="line"><span class="lineno">  202</span>            <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a> = svalrte == maxidx;</div>
<div class="line"><span class="lineno">  203</span>            accum = cut_high_weight_err + <a class="code hl_typedef" href="astcenc__vecmathlib_8h.html#a3a29c3b15144cf0836ca0f4740b73d00">vfloat</a>(1.0f) + <a class="code hl_typedef" href="astcenc__vecmathlib_8h.html#a3a29c3b15144cf0836ca0f4740b73d00">vfloat</a>(2.0f) * diff;</div>
<div class="line"><span class="lineno">  204</span>            cut_high_weight_err = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc">select</a>(cut_high_weight_err, accum, <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82">mask</a>);</div>
<div class="line"><span class="lineno">  205</span>        }</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>        <span class="comment">// Write out min weight and weight span; clamp span to a usable range</span></div>
<div class="line"><span class="lineno">  208</span>        <a class="code hl_struct" href="structvint4.html">vint</a> span = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#afdaab5e0b4a39a5dd28fb5b40642e57d">float_to_int</a>(maxidx - minidx + <a class="code hl_typedef" href="astcenc__vecmathlib_8h.html#a3a29c3b15144cf0836ca0f4740b73d00">vfloat</a>(1));</div>
<div class="line"><span class="lineno">  209</span>        span = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#a165b3db4e7ced1551e1880a01a01150b">min</a>(span, <a class="code hl_typedef" href="astcenc__vecmathlib_8h.html#a1d994704cca1a088c460bd5a3058e3bc">vint</a>(max_quant_steps + 3));</div>
<div class="line"><span class="lineno">  210</span>        span = <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#aa162915c044e97cc1f6d630338761fd3">max</a>(span, <a class="code hl_typedef" href="astcenc__vecmathlib_8h.html#a1d994704cca1a088c460bd5a3058e3bc">vint</a>(2));</div>
<div class="line"><span class="lineno">  211</span>        <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a">storea</a>(minidx, lowest_weight + sp);</div>
<div class="line"><span class="lineno">  212</span>        <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a">storea</a>(span, weight_span + sp);</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        <span class="comment">// The cut_(lowest/highest)_weight_error indicate the error that results from  forcing</span></div>
<div class="line"><span class="lineno">  215</span>        <span class="comment">// samples that should have had the weight value one step (up/down).</span></div>
<div class="line"><span class="lineno">  216</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> ssize = 1.0f / rcp_stepsize;</div>
<div class="line"><span class="lineno">  217</span>        <a class="code hl_struct" href="structvfloat4.html">vfloat</a> errscale = ssize * ssize;</div>
<div class="line"><span class="lineno">  218</span>        <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a">storea</a>(errval * errscale, error + sp);</div>
<div class="line"><span class="lineno">  219</span>        <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a">storea</a>(cut_low_weight_err * errscale, cut_low_weight_error + sp);</div>
<div class="line"><span class="lineno">  220</span>        <a class="code hl_function" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a">storea</a>(cut_high_weight_err * errscale, cut_high_weight_error + sp);</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>        rcp_stepsize = rcp_stepsize + <a class="code hl_typedef" href="astcenc__vecmathlib_8h.html#a3a29c3b15144cf0836ca0f4740b73d00">vfloat</a>(<a class="code hl_define" href="astcenc__vecmathlib_8h.html#aaf679f3389069313db808a4ebd6af8ad">ASTCENC_SIMD_WIDTH</a>);</div>
<div class="line"><span class="lineno">  223</span>    }</div>
<div class="line"><span class="lineno">  224</span>}</div>
<div class="ttc" id="aastcenc__vecmathlib_8h_html_ac9c9ecce219189fd272c1a9d6cb9c4d2"><div class="ttname"><a href="astcenc__vecmathlib_8h.html#ac9c9ecce219189fd272c1a9d6cb9c4d2">load1</a></div><div class="ttdeci">constexpr auto load1</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib_8h_source.html#l00154">astcenc_vecmathlib.h:154</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a0cc9d8a88b3c39b3ea66e52d515ac661"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a0cc9d8a88b3c39b3ea66e52d515ac661">round</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vfloat8 round(vfloat8 a)</div><div class="ttdoc">Return a float rounded to the nearest integer value.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00826">astcenc_vecmathlib_avx2_8.h:826</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_a165b3db4e7ced1551e1880a01a01150b"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#a165b3db4e7ced1551e1880a01a01150b">min</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vint8 min(vint8 a, vint8 b)</div><div class="ttdoc">Return the min vector of two vectors.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00503">astcenc_vecmathlib_avx2_8.h:503</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_aa162915c044e97cc1f6d630338761fd3"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#aa162915c044e97cc1f6d630338761fd3">max</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vint8 max(vint8 a, vint8 b)</div><div class="ttdoc">Return the max vector of two vectors.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l00511">astcenc_vecmathlib_avx2_8.h:511</a></div></div>
<div class="ttc" id="aastcenc__vecmathlib__avx2__8_8h_html_afdaab5e0b4a39a5dd28fb5b40642e57d"><div class="ttname"><a href="astcenc__vecmathlib__avx2__8_8h.html#afdaab5e0b4a39a5dd28fb5b40642e57d">float_to_int</a></div><div class="ttdeci">ASTCENC_SIMD_INLINE vint8 float_to_int(vfloat8 a)</div><div class="ttdoc">Return a integer value for a float vector, using truncation.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__avx2__8_8h_source.html#l01001">astcenc_vecmathlib_avx2_8.h:1001</a></div></div>
<div class="ttc" id="astructvfloat4_html_a13edfd5bac159c8a65e10a3bd9355b4d"><div class="ttname"><a href="structvfloat4.html#a13edfd5bac159c8a65e10a3bd9355b4d">vfloat4::lane_id</a></div><div class="ttdeci">static ASTCENC_SIMD_INLINE vfloat4 lane_id()</div><div class="ttdoc">Factory that returns a vector containing the lane IDs.</div><div class="ttdef"><b>Definition</b> <a href="astcenc__vecmathlib__neon__4_8h_source.html#l00140">astcenc_vecmathlib_neon_4.h:140</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__weight__align_8cpp_a32b24429143eb7c5b7050885943aad1b_cgraph.png" border="0" usemap="#aastcenc__weight__align_8cpp_a32b24429143eb7c5b7050885943aad1b_cgraph" alt=""/></div>
<map name="aastcenc__weight__align_8cpp_a32b24429143eb7c5b7050885943aad1b_cgraph" id="aastcenc__weight__align_8cpp_a32b24429143eb7c5b7050885943aad1b_cgraph">
<area shape="rect" title="For a given step size compute the lowest and highest weight." alt="" coords="5,195,149,235"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#afdaab5e0b4a39a5dd28fb5b40642e57d" title="Return a integer value for a float vector, using truncation." alt="" coords="208,5,293,31"/>
<area shape="poly" title=" " alt="" coords="86,194,127,121,158,78,196,40,201,36,205,40,199,44,162,81,132,123,90,196"/>
<area shape="rect" href="structvfloat4.html#a13edfd5bac159c8a65e10a3bd9355b4d" title="Factory that returns a vector containing the lane IDs." alt="" coords="197,55,304,80"/>
<area shape="poly" title=" " alt="" coords="92,193,136,143,164,115,196,89,203,85,206,89,199,93,168,119,140,146,96,197"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad922a3ed6098767968916265154b6f82" title="Return a 8&#45;bit mask code indicating mask status." alt="" coords="223,104,278,129"/>
<area shape="poly" title=" " alt="" coords="107,193,196,138,210,131,212,136,199,143,110,197"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#aa162915c044e97cc1f6d630338761fd3" title="Return the max vector of two vectors." alt="" coords="227,153,274,179"/>
<area shape="poly" title=" " alt="" coords="147,193,213,174,215,179,149,198"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a165b3db4e7ced1551e1880a01a01150b" title="Return the min vector of two vectors." alt="" coords="229,203,272,228"/>
<area shape="poly" title=" " alt="" coords="150,213,215,213,215,218,150,218"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a0cc9d8a88b3c39b3ea66e52d515ac661" title="Return a float rounded to the nearest integer value." alt="" coords="223,252,278,277"/>
<area shape="poly" title=" " alt="" coords="149,233,211,251,209,256,147,238"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#a844ab5b69b84569f033be33bf5fb9fbc" title="Return lanes from b if cond is set, else a." alt="" coords="222,301,279,327"/>
<area shape="poly" title=" " alt="" coords="111,233,199,286,211,293,208,297,196,291,108,238"/>
<area shape="rect" href="astcenc__vecmathlib__avx2__8_8h.html#ad4c0a7bde35d6fe9c54531e1e0652f4a" title="Store a vector to a 16B aligned memory address." alt="" coords="221,351,280,376"/>
<area shape="poly" title=" " alt="" coords="97,234,140,283,199,336,211,343,208,348,196,340,136,287,93,237"/>
<area shape="rect" href="structvfloat4.html#a04b5f338012dab6be0b2bd7910fcbcae" title="Factory that returns a vector of zeros." alt="" coords="205,400,296,425"/>
<area shape="poly" title=" " alt="" coords="91,235,132,307,163,348,199,385,206,391,203,395,196,389,159,352,128,310,86,237"/>
<area shape="rect" href="structvfloat4.html#a9df51cb30b68d6d51ca607e64aa1ebf0" title="Construct from zero&#45;initialized value." alt="" coords="352,228,455,253"/>
<area shape="poly" title=" " alt="" coords="288,78,306,89,335,119,359,153,393,214,389,217,355,156,331,123,302,93,285,82"/>
<area shape="poly" title=" " alt="" coords="284,398,302,385,330,356,354,324,388,264,393,267,359,327,334,360,306,389,286,402"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__weight__align_8cpp_a32b24429143eb7c5b7050885943aad1b_icgraph.png" border="0" usemap="#aastcenc__weight__align_8cpp_a32b24429143eb7c5b7050885943aad1b_icgraph" alt=""/></div>
<map name="aastcenc__weight__align_8cpp_a32b24429143eb7c5b7050885943aad1b_icgraph" id="aastcenc__weight__align_8cpp_a32b24429143eb7c5b7050885943aad1b_icgraph">
<area shape="rect" title="For a given step size compute the lowest and highest weight." alt="" coords="1703,37,1847,77"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a52f057b7da5fc35adac361b3696ac963" title="The main function for the angular algorithm." alt="" coords="1471,37,1655,77"/>
<area shape="poly" title=" " alt="" coords="1689,60,1655,60,1655,55,1689,55"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#af1b151d02c3af92eb002dc7172111233" title="Compute the angular endpoints for one plane for each block mode." alt="" coords="1239,5,1423,45"/>
<area shape="poly" title=" " alt="" coords="1456,45,1423,41,1423,35,1457,40"/>
<area shape="rect" href="astcenc__weight__align_8cpp.html#a571d7379fd52446338ef4fa7e700cb42" title="Compute the angular endpoints for two planes for each block mode." alt="" coords="1239,69,1423,109"/>
<area shape="poly" title=" " alt="" coords="1457,75,1423,79,1423,74,1456,69"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af5f518a15600c71922e69267dea2db99" title="Compress a block using a chosen partitioning and 1 plane of weights." alt="" coords="1015,5,1191,45"/>
<area shape="poly" title=" " alt="" coords="1225,28,1191,28,1191,23,1225,23"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#a579b9a2ceeecda2fb3abe63b8311df1c" title="Compress an image block into a physical block." alt="" coords="849,45,967,70"/>
<area shape="poly" title=" " alt="" coords="1002,45,967,50,966,45,1001,39"/>
<area shape="rect" href="astcenc__entry_8cpp.html#acbecfd32ce013d567cac16a877c20f42" title="Compress an image, after any preflight has completed." alt="" coords="680,45,801,70"/>
<area shape="poly" title=" " alt="" coords="835,60,802,60,802,55,835,55"/>
<area shape="rect" href="astcenc__entry_8cpp.html#ad762aa055eed75156c99309158a40e90" title="Compress an image." alt="" coords="457,45,632,70"/>
<area shape="poly" title=" " alt="" coords="666,60,632,60,632,55,666,55"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,45,207,70"/>
<area shape="poly" title=" " alt="" coords="444,57,409,56,255,56,207,58,207,52,255,51,409,51,444,51"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a57bafe66bbd689a53aad2d190fe7a3fa" title="Runner callback function for a compression worker thread." alt="" coords="255,65,409,105"/>
<area shape="poly" title=" " alt="" coords="444,73,410,78,409,73,443,68"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,45,56,70"/>
<area shape="poly" title=" " alt="" coords="90,60,57,60,57,55,90,55"/>
<area shape="poly" title=" " alt="" coords="241,74,206,68,207,63,242,68"/>
<area shape="rect" href="astcenc__compress__symbolic_8cpp.html#af11a976c8ea386db054bef472ce0667c" title="Compress a block using a chosen partitioning and 2 planes of weights." alt="" coords="1015,69,1191,109"/>
<area shape="poly" title=" " alt="" coords="1225,92,1191,92,1191,87,1225,87"/>
<area shape="poly" title=" " alt="" coords="1001,75,966,70,967,64,1002,70"/>
</map>
</div>

</div>
</div>
<a id="acbcb48fd316ab1025cf7e456a5df014f" name="acbcb48fd316ab1025cf7e456a5df014f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbcb48fd316ab1025cf7e456a5df014f">&#9670;&#160;</a></span>prepare_angular_tables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepare_angular_tables </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expand the angular tables needed for the alternative to PCA that we use. </p>

<p class="definition"><a class="el" href="astcenc__weight__align_8cpp_source.html">astcenc_weight_align.cpp</a> 파일의 <a class="el" href="astcenc__weight__align_8cpp_source.html#l00071">71</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   72</span>{</div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a>; i++)</div>
<div class="line"><span class="lineno">   74</span>    {</div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordtype">float</span> angle_step = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(i + 1);</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="#ac88e8350ec82ce924a219860a9ac558e">SINCOS_STEPS</a>; j++)</div>
<div class="line"><span class="lineno">   78</span>        {</div>
<div class="line"><span class="lineno">   79</span>            <a class="code hl_variable" href="#a2300d1e0bcd154e01c2376d89ea3a91c">sin_table</a>[j][i] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(sinf((2.0f * <a class="code hl_variable" href="namespaceastc.html#a7b7581e8dda9382d1d6effd9c4925065">astc::PI</a> / (<a class="code hl_variable" href="#ac88e8350ec82ce924a219860a9ac558e">SINCOS_STEPS</a> - 1.0f)) * angle_step * <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(j)));</div>
<div class="line"><span class="lineno">   80</span>            <a class="code hl_variable" href="#a3a16cc5209c93b9b81783d37a7566553">cos_table</a>[j][i] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(cosf((2.0f * <a class="code hl_variable" href="namespaceastc.html#a7b7581e8dda9382d1d6effd9c4925065">astc::PI</a> / (<a class="code hl_variable" href="#ac88e8350ec82ce924a219860a9ac558e">SINCOS_STEPS</a> - 1.0f)) * angle_step * <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(j)));</div>
<div class="line"><span class="lineno">   81</span>        }</div>
<div class="line"><span class="lineno">   82</span>    }</div>
<div class="line"><span class="lineno">   83</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="astcenc__weight__align_8cpp_acbcb48fd316ab1025cf7e456a5df014f_icgraph.png" border="0" usemap="#aastcenc__weight__align_8cpp_acbcb48fd316ab1025cf7e456a5df014f_icgraph" alt=""/></div>
<map name="aastcenc__weight__align_8cpp_acbcb48fd316ab1025cf7e456a5df014f_icgraph" id="aastcenc__weight__align_8cpp_acbcb48fd316ab1025cf7e456a5df014f_icgraph">
<area shape="rect" title="Expand the angular tables needed for the alternative to PCA that we use." alt="" coords="455,5,611,31"/>
<area shape="rect" href="astcenc__entry_8cpp.html#a823234313a697f5b4cdbd2cd6caaef4a" title="Allocate a new codec context based on a config." alt="" coords="255,5,407,31"/>
<area shape="poly" title=" " alt="" coords="441,21,407,21,407,15,441,15"/>
<area shape="rect" href="astcenccli__toplevel_8cpp.html#a073d18880f24fd648661b01d2e20340e" title="Application entry point." alt="" coords="104,5,207,31"/>
<area shape="poly" title=" " alt="" coords="241,21,207,21,207,15,241,15"/>
<area shape="rect" href="astcenccli__entry_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,56,31"/>
<area shape="poly" title=" " alt="" coords="90,21,57,21,57,15,90,15"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">변수 문서화</h2>
<a id="a0c47d820ffe2fa4159024202df47767f" name="a0c47d820ffe2fa4159024202df47767f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c47d820ffe2fa4159024202df47767f">&#9670;&#160;</a></span>ANGULAR_STEPS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ANGULAR_STEPS { 32 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Functions for angular-sum algorithm for weight alignment. </p>
<p>This algorithm works as follows:</p><ul>
<li>we compute a complex number P as (cos s*i, sin s*i) for each weight, where i is the input value and s is a scaling factor based on the spacing between the weights.</li>
<li>we then add together complex numbers for all the weights.</li>
<li>we then compute the length and angle of the resulting sum.</li>
</ul>
<p>This should produce the following results:</p><ul>
<li>perfect alignment results in a vector whose length is equal to the sum of lengths of all inputs</li>
<li>even distribution results in a vector of length 0.</li>
<li>all samples identical results in perfect alignment for every scaling.</li>
</ul>
<p>For each scaling factor within a given set, we compute an alignment factor from 0 to 1. This should then result in some scalings standing out as having particularly good alignment factors; we can use this to produce a set of candidate scale/shift values for various quantization levels; we should then actually try them and see what happens. </p>

<p class="definition"><a class="el" href="astcenc__weight__align_8cpp_source.html">astcenc_weight_align.cpp</a> 파일의 <a class="el" href="astcenc__weight__align_8cpp_source.html#l00047">47</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span>{ 32 };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3a16cc5209c93b9b81783d37a7566553" name="a3a16cc5209c93b9b81783d37a7566553"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a16cc5209c93b9b81783d37a7566553">&#9670;&#160;</a></span>cos_table</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> float cos_table[<a class="el" href="#ac88e8350ec82ce924a219860a9ac558e">SINCOS_STEPS</a>][<a class="el" href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="astcenc__weight__align_8cpp_source.html">astcenc_weight_align.cpp</a> 파일의 <a class="el" href="astcenc__weight__align_8cpp_source.html#l00064">64</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a2300d1e0bcd154e01c2376d89ea3a91c" name="a2300d1e0bcd154e01c2376d89ea3a91c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2300d1e0bcd154e01c2376d89ea3a91c">&#9670;&#160;</a></span>sin_table</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="astcenc__mathlib_8h.html#adf60643d2894fb1d3cd00d4f907186e8">ASTCENC_ALIGNAS</a> float sin_table[<a class="el" href="#ac88e8350ec82ce924a219860a9ac558e">SINCOS_STEPS</a>][<a class="el" href="#a0c47d820ffe2fa4159024202df47767f">ANGULAR_STEPS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="astcenc__weight__align_8cpp_source.html">astcenc_weight_align.cpp</a> 파일의 <a class="el" href="astcenc__weight__align_8cpp_source.html#l00063">63</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ac88e8350ec82ce924a219860a9ac558e" name="ac88e8350ec82ce924a219860a9ac558e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac88e8350ec82ce924a219860a9ac558e">&#9670;&#160;</a></span>SINCOS_STEPS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int SINCOS_STEPS { 64 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="astcenc__weight__align_8cpp_source.html">astcenc_weight_align.cpp</a> 파일의 <a class="el" href="astcenc__weight__align_8cpp_source.html#l00057">57</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>{ 64 };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a03594d799b3a246b0005c6bbe4f5cd48" name="a03594d799b3a246b0005c6bbe4f5cd48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03594d799b3a246b0005c6bbe4f5cd48">&#9670;&#160;</a></span>steps_for_quant_level</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t steps_for_quant_level[12]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>초기값:</b><div class="fragment"><div class="line">{</div>
<div class="line">    2, 3, 4, 5, 6, 8, 10, 12, 16, 20, 24, 32</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition"><a class="el" href="astcenc__weight__align_8cpp_source.html">astcenc_weight_align.cpp</a> 파일의 <a class="el" href="astcenc__weight__align_8cpp_source.html#l00059">59</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">   59</span>                                               {</div>
<div class="line"><span class="lineno">   60</span>    2, 3, 4, 5, 6, 8, 10, 12, 16, 20, 24, 32</div>
<div class="line"><span class="lineno">   61</span>};</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_211b531afad3b7391864460492782af6.html">astc-encoder-main</a></li><li class="navelem"><a class="el" href="dir_7df889ea08e038e0b05c337eccc30153.html">Source</a></li><li class="navelem"><a class="el" href="astcenc__weight__align_8cpp.html">astcenc_weight_align.cpp</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
