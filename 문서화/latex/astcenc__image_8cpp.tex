\doxysection{C\+:/\+Users/inhyu/\+One\+Drive/바탕 화면/랩실 내용/astc-\/encoder-\/main/\+Source/astcenc\+\_\+image.cpp 파일 참조}
\hypertarget{astcenc__image_8cpp}{}\label{astcenc__image_8cpp}\index{C:/Users/inhyu/OneDrive/바탕 화면/랩실 내용/astc-\/encoder-\/main/Source/astcenc\_image.cpp@{C:/Users/inhyu/OneDrive/바탕 화면/랩실 내용/astc-\/encoder-\/main/Source/astcenc\_image.cpp}}
{\ttfamily \#include $<$cassert$>$}\newline
{\ttfamily \#include $<$cstring$>$}\newline
{\ttfamily \#include "{}astcenc\+\_\+internal.\+h"{}}\newline
astcenc\+\_\+image.\+cpp에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp__incl}
\end{center}
\end{figure}
\doxysubsubsection*{타입정의}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{astcenc__image_8cpp_a4e5b59c110b5d31bd2f460e042635bde}{pixel\+\_\+loader}} = \mbox{\hyperlink{structvfloat4}{vfloat4}}(\texorpdfstring{$\ast$}{*})(const void\texorpdfstring{$\ast$}{*}, int)
\begin{DoxyCompactList}\small\item\em Functions for creating in-\/memory ASTC image structures. \end{DoxyCompactList}\item 
using \mbox{\hyperlink{astcenc__image_8cpp_a89334f721967f5d4f857eedd7763e696}{pixel\+\_\+swizzler}} = \mbox{\hyperlink{structvfloat4}{vfloat4}}(\texorpdfstring{$\ast$}{*})(\mbox{\hyperlink{structvfloat4}{vfloat4}}, const \mbox{\hyperlink{structastcenc__swizzle}{astcenc\+\_\+swizzle}}\&)
\begin{DoxyCompactList}\small\item\em Loader pipeline function type for swizzling data in a vector. \end{DoxyCompactList}\item 
using \mbox{\hyperlink{astcenc__image_8cpp_a63daf469691fbe3abdbefcd2a0f4d22f}{pixel\+\_\+converter}} = \mbox{\hyperlink{structvfloat4}{vfloat4}}(\texorpdfstring{$\ast$}{*})(\mbox{\hyperlink{structvfloat4}{vfloat4}}, \mbox{\hyperlink{structvmask4}{vmask4}})
\begin{DoxyCompactList}\small\item\em Loader pipeline function type for converting data in a vector to LNS. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{함수}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} \mbox{\hyperlink{astcenc__image_8cpp_a3308fe6e3772f49620b4b20258e7a28c}{load\+\_\+texel\+\_\+u8}} (const void \texorpdfstring{$\ast$}{*}data, int base\+\_\+offset)
\begin{DoxyCompactList}\small\item\em Load a 8-\/bit UNORM texel from a data array. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} \mbox{\hyperlink{astcenc__image_8cpp_ad2ea4a92f4b88093986f54423a11d6a5}{load\+\_\+texel\+\_\+f16}} (const void \texorpdfstring{$\ast$}{*}data, int base\+\_\+offset)
\begin{DoxyCompactList}\small\item\em Load a 16-\/bit fp16 texel from a data array. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} \mbox{\hyperlink{astcenc__image_8cpp_a8d442e093c3f3dc33123fa3ecbe6dece}{load\+\_\+texel\+\_\+f32}} (const void \texorpdfstring{$\ast$}{*}data, int base\+\_\+offset)
\begin{DoxyCompactList}\small\item\em Load a 32-\/bit float texel from a data array. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} \mbox{\hyperlink{astcenc__image_8cpp_a358236c706b6ba8cf35879bfdf56ab67}{swz\+\_\+texel\+\_\+skip}} (\mbox{\hyperlink{structvfloat4}{vfloat4}} data, const \mbox{\hyperlink{structastcenc__swizzle}{astcenc\+\_\+swizzle}} \&swz)
\begin{DoxyCompactList}\small\item\em Dummy no-\/op swizzle function. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} \mbox{\hyperlink{astcenc__image_8cpp_ae572e9ecb56b0cc2f5eba2a767010c33}{swz\+\_\+texel}} (\mbox{\hyperlink{structvfloat4}{vfloat4}} data, const \mbox{\hyperlink{structastcenc__swizzle}{astcenc\+\_\+swizzle}} \&swz)
\begin{DoxyCompactList}\small\item\em Swizzle a texel into a new arrangement. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} \mbox{\hyperlink{astcenc__image_8cpp_a94c9a0ba5f46a781280e3d102b1c9179}{encode\+\_\+texel\+\_\+unorm}} (\mbox{\hyperlink{structvfloat4}{vfloat4}} data, \mbox{\hyperlink{structvmask4}{vmask4}} lns\+\_\+mask)
\begin{DoxyCompactList}\small\item\em Encode a texel that is entirely LDR linear. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} \mbox{\hyperlink{astcenc__image_8cpp_ab1928a8877d97e7fca94c20dff6d3326}{encode\+\_\+texel\+\_\+lns}} (\mbox{\hyperlink{structvfloat4}{vfloat4}} data, \mbox{\hyperlink{structvmask4}{vmask4}} lns\+\_\+mask)
\begin{DoxyCompactList}\small\item\em Encode a texel that includes at least some HDR LNS texels. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{astcenc__image_8cpp_ac38601dc2481e26c57906255523f7262}{load\+\_\+image\+\_\+block}} (\mbox{\hyperlink{astcenc_8h_adf71df2e9f79916ccc02886ba1bdeb29}{astcenc\+\_\+profile}} decode\+\_\+mode, const \mbox{\hyperlink{structastcenc__image}{astcenc\+\_\+image}} \&img, \mbox{\hyperlink{structimage__block}{image\+\_\+block}} \&blk, const \mbox{\hyperlink{structblock__size__descriptor}{block\+\_\+size\+\_\+descriptor}} \&bsd, unsigned int xpos, unsigned int ypos, unsigned int zpos, const \mbox{\hyperlink{structastcenc__swizzle}{astcenc\+\_\+swizzle}} \&swz)
\begin{DoxyCompactList}\small\item\em Load a single image block from the input image. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{astcenc__image_8cpp_a04e3f01eb10a8a494e1d07b39c496bde}{load\+\_\+image\+\_\+block\+\_\+fast\+\_\+ldr}} (\mbox{\hyperlink{astcenc_8h_adf71df2e9f79916ccc02886ba1bdeb29}{astcenc\+\_\+profile}} decode\+\_\+mode, const \mbox{\hyperlink{structastcenc__image}{astcenc\+\_\+image}} \&img, \mbox{\hyperlink{structimage__block}{image\+\_\+block}} \&blk, const \mbox{\hyperlink{structblock__size__descriptor}{block\+\_\+size\+\_\+descriptor}} \&bsd, unsigned int xpos, unsigned int ypos, unsigned int zpos, const \mbox{\hyperlink{structastcenc__swizzle}{astcenc\+\_\+swizzle}} \&swz)
\begin{DoxyCompactList}\small\item\em Load a single image block from the input image. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{astcenc__image_8cpp_a987bc85f97f6168e6c99aa60879622f5}{store\+\_\+image\+\_\+block}} (\mbox{\hyperlink{structastcenc__image}{astcenc\+\_\+image}} \&img, const \mbox{\hyperlink{structimage__block}{image\+\_\+block}} \&blk, const \mbox{\hyperlink{structblock__size__descriptor}{block\+\_\+size\+\_\+descriptor}} \&bsd, unsigned int xpos, unsigned int ypos, unsigned int zpos, const \mbox{\hyperlink{structastcenc__swizzle}{astcenc\+\_\+swizzle}} \&swz)
\begin{DoxyCompactList}\small\item\em Store a single image block to the output image. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{타입정의 문서화}
\Hypertarget{astcenc__image_8cpp_a63daf469691fbe3abdbefcd2a0f4d22f}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!pixel\_converter@{pixel\_converter}}
\index{pixel\_converter@{pixel\_converter}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{pixel\_converter}{pixel\_converter}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_a63daf469691fbe3abdbefcd2a0f4d22f} 
using \mbox{\hyperlink{astcenc__image_8cpp_a63daf469691fbe3abdbefcd2a0f4d22f}{pixel\+\_\+converter}} = \mbox{\hyperlink{structvfloat4}{vfloat4}}(\texorpdfstring{$\ast$}{*})(\mbox{\hyperlink{structvfloat4}{vfloat4}}, \mbox{\hyperlink{structvmask4}{vmask4}})}



Loader pipeline function type for converting data in a vector to LNS. 



\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00040}{40}} 번째 라인에서 정의되었습니다.

\Hypertarget{astcenc__image_8cpp_a4e5b59c110b5d31bd2f460e042635bde}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!pixel\_loader@{pixel\_loader}}
\index{pixel\_loader@{pixel\_loader}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{pixel\_loader}{pixel\_loader}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_a4e5b59c110b5d31bd2f460e042635bde} 
using \mbox{\hyperlink{astcenc__image_8cpp_a4e5b59c110b5d31bd2f460e042635bde}{pixel\+\_\+loader}} = \mbox{\hyperlink{structvfloat4}{vfloat4}}(\texorpdfstring{$\ast$}{*})(const void\texorpdfstring{$\ast$}{*}, int)}



Functions for creating in-\/memory ASTC image structures. 

Loader pipeline function type for data fetch from memory. 

\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00030}{30}} 번째 라인에서 정의되었습니다.

\Hypertarget{astcenc__image_8cpp_a89334f721967f5d4f857eedd7763e696}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!pixel\_swizzler@{pixel\_swizzler}}
\index{pixel\_swizzler@{pixel\_swizzler}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{pixel\_swizzler}{pixel\_swizzler}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_a89334f721967f5d4f857eedd7763e696} 
using \mbox{\hyperlink{astcenc__image_8cpp_a89334f721967f5d4f857eedd7763e696}{pixel\+\_\+swizzler}} = \mbox{\hyperlink{structvfloat4}{vfloat4}}(\texorpdfstring{$\ast$}{*})(\mbox{\hyperlink{structvfloat4}{vfloat4}}, const \mbox{\hyperlink{structastcenc__swizzle}{astcenc\+\_\+swizzle}}\&)}



Loader pipeline function type for swizzling data in a vector. 



\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00035}{35}} 번째 라인에서 정의되었습니다.



\doxysubsection{함수 문서화}
\Hypertarget{astcenc__image_8cpp_ab1928a8877d97e7fca94c20dff6d3326}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!encode\_texel\_lns@{encode\_texel\_lns}}
\index{encode\_texel\_lns@{encode\_texel\_lns}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{encode\_texel\_lns()}{encode\_texel\_lns()}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_ab1928a8877d97e7fca94c20dff6d3326} 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} encode\+\_\+texel\+\_\+lns (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvfloat4}{vfloat4}}}]{data}{, }\item[{\mbox{\hyperlink{structvmask4}{vmask4}}}]{lns\+\_\+mask}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Encode a texel that includes at least some HDR LNS texels. 


\begin{DoxyParams}{매개변수}
{\em data} & The RGBA data to encode. \\
\hline
{\em lns\+\_\+mask} & The mask for the HDR channels than need LNS encoding. \\
\hline
\end{DoxyParams}


\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00141}{141}} 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{00144\ \ \ \{}
\DoxyCodeLine{00145\ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ datav\_unorm\ =\ data\ *\ 65535.0f;}
\DoxyCodeLine{00146\ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ datav\_lns\ =\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a31e34e7d35ae75fd745c6d9117d7eabb}{float\_to\_lns}}(data);}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a844ab5b69b84569f033be33bf5fb9fbc}{select}}(datav\_unorm,\ datav\_lns,\ lns\_mask);}
\DoxyCodeLine{00148\ \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_ab1928a8877d97e7fca94c20dff6d3326_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_ab1928a8877d97e7fca94c20dff6d3326_icgraph}
\end{center}
\end{figure}
\Hypertarget{astcenc__image_8cpp_a94c9a0ba5f46a781280e3d102b1c9179}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!encode\_texel\_unorm@{encode\_texel\_unorm}}
\index{encode\_texel\_unorm@{encode\_texel\_unorm}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{encode\_texel\_unorm()}{encode\_texel\_unorm()}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_a94c9a0ba5f46a781280e3d102b1c9179} 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} encode\+\_\+texel\+\_\+unorm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvfloat4}{vfloat4}}}]{data}{, }\item[{\mbox{\hyperlink{structvmask4}{vmask4}}}]{lns\+\_\+mask}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Encode a texel that is entirely LDR linear. 


\begin{DoxyParams}{매개변수}
{\em data} & The RGBA data to encode. \\
\hline
{\em lns\+\_\+mask} & The mask for the HDR channels than need LNS encoding. \\
\hline
\end{DoxyParams}


\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00127}{127}} 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{00130\ \ \ \{}
\DoxyCodeLine{00131\ \ \ \ \ (void)lns\_mask;}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordflow}{return}\ data\ *\ 65535.0f;}
\DoxyCodeLine{00133\ \}}

\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_a94c9a0ba5f46a781280e3d102b1c9179_icgraph}
\end{center}
\end{figure}
\Hypertarget{astcenc__image_8cpp_ac38601dc2481e26c57906255523f7262}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!load\_image\_block@{load\_image\_block}}
\index{load\_image\_block@{load\_image\_block}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{load\_image\_block()}{load\_image\_block()}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_ac38601dc2481e26c57906255523f7262} 
void load\+\_\+image\+\_\+block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{astcenc_8h_adf71df2e9f79916ccc02886ba1bdeb29}{astcenc\+\_\+profile}}}]{decode\+\_\+mode}{, }\item[{const \mbox{\hyperlink{structastcenc__image}{astcenc\+\_\+image}} \&}]{img}{, }\item[{\mbox{\hyperlink{structimage__block}{image\+\_\+block}} \&}]{blk}{, }\item[{const \mbox{\hyperlink{structblock__size__descriptor}{block\+\_\+size\+\_\+descriptor}} \&}]{bsd}{, }\item[{unsigned int}]{xpos}{, }\item[{unsigned int}]{ypos}{, }\item[{unsigned int}]{zpos}{, }\item[{const \mbox{\hyperlink{structastcenc__swizzle}{astcenc\+\_\+swizzle}} \&}]{swz}{}\end{DoxyParamCaption})}



Load a single image block from the input image. 


\begin{DoxyParams}[1]{매개변수}
 & {\em decode\+\_\+mode} & The compression color profile. \\
\hline
 & {\em img} & The input image data. \\
\hline
\mbox{\texttt{ out}}  & {\em blk} & The image block to populate. \\
\hline
 & {\em bsd} & The block size information. \\
\hline
 & {\em xpos} & The block X coordinate in the input image. \\
\hline
 & {\em ypos} & The block Y coordinate in the input image. \\
\hline
 & {\em zpos} & The block Z coordinate in the input image. \\
\hline
 & {\em swz} & The swizzle to apply on load. \\
\hline
\end{DoxyParams}


\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00151}{151}} 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{00160\ \ \ \{}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ xsize\ =\ img.\mbox{\hyperlink{structastcenc__image_a8bb8eebb59215778176674951c6da70a}{dim\_x}};}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ ysize\ =\ img.\mbox{\hyperlink{structastcenc__image_a3a62fbbc3a16a390eca3b03b6e489750}{dim\_y}};}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ zsize\ =\ img.\mbox{\hyperlink{structastcenc__image_a9c71edbb23f1cca0de775c508b6219ee}{dim\_z}};}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a352aaf95790a294ff0b8b037b49def86}{xpos}}\ =\ xpos;}
\DoxyCodeLine{00166\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a77a79aa3bc8909bb34673e86ee30584f}{ypos}}\ =\ ypos;}
\DoxyCodeLine{00167\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_aef3e6199531833e9b855f7fde1d06593}{zpos}}\ =\ zpos;}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{comment}{//\ True\ if\ any\ non-\/identity\ swizzle}}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordtype}{bool}\ needs\_swz\ =\ (swz.\mbox{\hyperlink{structastcenc__swizzle_a0c0124d7a26431ae7bbbf51a0e8f0c66}{r}}\ !=\ \mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a2766a38ed1e99377723a4efb3510acd3}{ASTCENC\_SWZ\_R}})\ ||\ (swz.\mbox{\hyperlink{structastcenc__swizzle_ad778143342dc318f61fe2570823bfce7}{g}}\ !=\ \mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687ad07f821ba0081fbbfcc5b59ebb744b3d}{ASTCENC\_SWZ\_G}})\ ||}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (swz.\mbox{\hyperlink{structastcenc__swizzle_a202d334af15a226b53da716e5cb32b8c}{b}}\ !=\ \mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687aa90469ed153f096e4db49d557b5ed3f0}{ASTCENC\_SWZ\_B}})\ ||\ (swz.\mbox{\hyperlink{structastcenc__swizzle_a5a3d3c986b4b4242ce83bf6ec04f72aa}{a}}\ !=\ \mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a0fa7695144b4779ee0270c590765c713}{ASTCENC\_SWZ\_A}});}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordtype}{int}\ idx\ =\ 0;}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ data\_min(1e38f);}
\DoxyCodeLine{00176\ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ data\_mean(0.0f);}
\DoxyCodeLine{00177\ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ data\_mean\_scale(1.0f\ /\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(bsd.\mbox{\hyperlink{structblock__size__descriptor_a0df466b2eda6958f2e5f8a4f147367e4}{texel\_count}}));}
\DoxyCodeLine{00178\ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ data\_max(-\/1e38f);}
\DoxyCodeLine{00179\ \ \ \ \ \mbox{\hyperlink{structvmask4}{vmask4}}\ grayscalev(\textcolor{keyword}{true});}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{comment}{//\ This\ works\ because\ we\ impose\ the\ same\ choice\ everywhere\ during\ encode}}
\DoxyCodeLine{00182\ \ \ \ \ uint8\_t\ rgb\_lns\ =\ (decode\_mode\ ==\ \mbox{\hyperlink{astcenc_8h_adf71df2e9f79916ccc02886ba1bdeb29a4493639842d745d4bccd6a94836d2ca9}{ASTCENC\_PRF\_HDR}})\ ||}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (decode\_mode\ ==\ \mbox{\hyperlink{astcenc_8h_adf71df2e9f79916ccc02886ba1bdeb29a9043bc19a890aeff156f664ccbef677f}{ASTCENC\_PRF\_HDR\_RGB\_LDR\_A}})\ ?\ 1\ :\ 0;}
\DoxyCodeLine{00184\ \ \ \ \ uint8\_t\ a\_lns\ =\ decode\_mode\ ==\ \mbox{\hyperlink{astcenc_8h_adf71df2e9f79916ccc02886ba1bdeb29a4493639842d745d4bccd6a94836d2ca9}{ASTCENC\_PRF\_HDR}}\ ?\ 1\ :\ 0;}
\DoxyCodeLine{00185\ \ \ \ \ \mbox{\hyperlink{structvint4}{vint4}}\ use\_lns(rgb\_lns,\ rgb\_lns,\ rgb\_lns,\ a\_lns);}
\DoxyCodeLine{00186\ \ \ \ \ \mbox{\hyperlink{structvmask4}{vmask4}}\ lns\_mask\ =\ use\_lns\ !=\ \mbox{\hyperlink{structvint4_a9dfa1c40a3c4dbc0858567dc629a80b8}{vint4::zero}}();}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{comment}{//\ Set\ up\ the\ function\ pointers\ for\ loading\ pipeline\ as\ needed}}
\DoxyCodeLine{00189\ \ \ \ \ \mbox{\hyperlink{astcenc__image_8cpp_a4e5b59c110b5d31bd2f460e042635bde}{pixel\_loader}}\ loader\ =\ \mbox{\hyperlink{astcenc__image_8cpp_a3308fe6e3772f49620b4b20258e7a28c}{load\_texel\_u8}};}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordflow}{if}\ (img.\mbox{\hyperlink{structastcenc__image_a5ce29ab112fff72151cbffcb3c8fdb16}{data\_type}}\ ==\ \mbox{\hyperlink{astcenc_8h_a7aeb732fb3426e390fa669957d7a109aad39e16b7f2e55ed676ce400619f0759d}{ASTCENC\_TYPE\_F16}})}
\DoxyCodeLine{00191\ \ \ \ \ \{}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ loader\ =\ \mbox{\hyperlink{astcenc__image_8cpp_ad2ea4a92f4b88093986f54423a11d6a5}{load\_texel\_f16}};}
\DoxyCodeLine{00193\ \ \ \ \ \}}
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ \ (img.\mbox{\hyperlink{structastcenc__image_a5ce29ab112fff72151cbffcb3c8fdb16}{data\_type}}\ ==\ \mbox{\hyperlink{astcenc_8h_a7aeb732fb3426e390fa669957d7a109aaf996e38de0e0ac57175c09da275c6062}{ASTCENC\_TYPE\_F32}})}
\DoxyCodeLine{00195\ \ \ \ \ \{}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ loader\ =\ \mbox{\hyperlink{astcenc__image_8cpp_a8d442e093c3f3dc33123fa3ecbe6dece}{load\_texel\_f32}};}
\DoxyCodeLine{00197\ \ \ \ \ \}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \ \ \mbox{\hyperlink{astcenc__image_8cpp_a89334f721967f5d4f857eedd7763e696}{pixel\_swizzler}}\ swizzler\ =\ \mbox{\hyperlink{astcenc__image_8cpp_a358236c706b6ba8cf35879bfdf56ab67}{swz\_texel\_skip}};}
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_swz)}
\DoxyCodeLine{00201\ \ \ \ \ \{}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ swizzler\ =\ \mbox{\hyperlink{astcenc__image_8cpp_ae572e9ecb56b0cc2f5eba2a767010c33}{swz\_texel}};}
\DoxyCodeLine{00203\ \ \ \ \ \}}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{astcenc__image_8cpp_a63daf469691fbe3abdbefcd2a0f4d22f}{pixel\_converter}}\ converter\ =\ \mbox{\hyperlink{astcenc__image_8cpp_a94c9a0ba5f46a781280e3d102b1c9179}{encode\_texel\_unorm}};}
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a1fcb81537a701f246e75fa622c2dd8ee}{any}}(lns\_mask))}
\DoxyCodeLine{00207\ \ \ \ \ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ converter\ =\ \mbox{\hyperlink{astcenc__image_8cpp_ab1928a8877d97e7fca94c20dff6d3326}{encode\_texel\_lns}};}
\DoxyCodeLine{00209\ \ \ \ \ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ z\ =\ 0;\ z\ <\ bsd.\mbox{\hyperlink{structblock__size__descriptor_afc7428efe69cba2425ae335d9d266714}{zdim}};\ z++)}
\DoxyCodeLine{00212\ \ \ \ \ \{}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ zi\ =\ \mbox{\hyperlink{namespaceastc_af78c0d31374aa9923633a3a2abf8d738}{astc::min}}(zpos\ +\ z,\ zsize\ -\/\ 1);}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ plane\ =\ img.\mbox{\hyperlink{structastcenc__image_ac2487bc635b3c9eced65f2c551e759f2}{data}}[zi];}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y\ =\ 0;\ y\ <\ bsd.\mbox{\hyperlink{structblock__size__descriptor_a44583f2512e5ae120df42bfc4270fa03}{ydim}};\ y++)}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ yi\ =\ \mbox{\hyperlink{namespaceastc_af78c0d31374aa9923633a3a2abf8d738}{astc::min}}(ypos\ +\ y,\ ysize\ -\/\ 1);}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ bsd.\mbox{\hyperlink{structblock__size__descriptor_aa00a247a5ba4c0501174c3ff6ecb9145}{xdim}};\ x++)}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ xi\ =\ \mbox{\hyperlink{namespaceastc_af78c0d31374aa9923633a3a2abf8d738}{astc::min}}(xpos\ +\ x,\ xsize\ -\/\ 1);}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ datav\ =\ loader(plane,\ (4\ *\ xsize\ *\ yi)\ +\ (4\ *\ xi));}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ datav\ =\ swizzler(datav,\ swz);}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ datav\ =\ converter(datav,\ lns\_mask);}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Compute\ block\ metadata}}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_min\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a165b3db4e7ced1551e1880a01a01150b}{min}}(data\_min,\ datav);}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_mean\ +=\ datav\ *\ data\_mean\_scale;}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_max\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_aa162915c044e97cc1f6d630338761fd3}{max}}(data\_max,\ datav);}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ grayscalev\ =\ grayscalev\ \&\ (datav.\mbox{\hyperlink{structvfloat4_a0a3e390831722cc8e54f29155699f3a5}{swz}}<0,0,0,0>()\ ==\ datav.\mbox{\hyperlink{structvfloat4_a0a3e390831722cc8e54f29155699f3a5}{swz}}<1,1,2,2>());}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_acd4ea54654959c7b325efe9d02aaeacc}{data\_r}}[idx]\ =\ datav.\mbox{\hyperlink{structvfloat4_a04462a7815432c6bc3ce1b5e5d11e4fc}{lane}}<0>();}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_abc5bc97aed6bb644726f952818ec74b5}{data\_g}}[idx]\ =\ datav.\mbox{\hyperlink{structvfloat4_a04462a7815432c6bc3ce1b5e5d11e4fc}{lane}}<1>();}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a298273079b0de525a0c12ced8bf98d13}{data\_b}}[idx]\ =\ datav.\mbox{\hyperlink{structvfloat4_a04462a7815432c6bc3ce1b5e5d11e4fc}{lane}}<2>();}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a602c8c88dc1ceef33e833f6d6cbc09ea}{data\_a}}[idx]\ =\ datav.\mbox{\hyperlink{structvfloat4_a04462a7815432c6bc3ce1b5e5d11e4fc}{lane}}<3>();}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_af1a9e601f3d03dc488993b81258058e0}{rgb\_lns}}[idx]\ =\ rgb\_lns;}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_ade6f78d73e016d4e9222cbe89f5b1eec}{alpha\_lns}}[idx]\ =\ a\_lns;}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ idx++;}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00246\ \ \ \ \ \}}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{comment}{//\ Reverse\ the\ encoding\ so\ we\ store\ origin\ block\ in\ the\ original\ format}}
\DoxyCodeLine{00249\ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ data\_enc\ =\ blk.\mbox{\hyperlink{structimage__block_af99de7d75e1e380b31d70d131509caa9}{texel}}(0);}
\DoxyCodeLine{00250\ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ data\_enc\_unorm\ =\ data\_enc\ /\ 65535.0f;}
\DoxyCodeLine{00251\ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ data\_enc\_lns\ =\ \mbox{\hyperlink{structvfloat4_a04b5f338012dab6be0b2bd7910fcbcae}{vfloat4::zero}}();}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{keywordflow}{if}\ (rgb\_lns\ ||\ a\_lns)}
\DoxyCodeLine{00254\ \ \ \ \ \{}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ data\_enc\_lns\ =\ \mbox{\hyperlink{astcenc__vecmathlib__neon__4_8h_afd7aa2069bdf377067c3abaca1256432}{float16\_to\_float}}(\mbox{\hyperlink{astcenc__vecmathlib_8h_aa1ab2044e5354115ee71324e30fba1ed}{lns\_to\_sf16}}(\mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_afdaab5e0b4a39a5dd28fb5b40642e57d}{float\_to\_int}}(data\_enc)));}
\DoxyCodeLine{00256\ \ \ \ \ \}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a111c7f9821d5ebe6e9d0140f800c6bc2}{origin\_texel}}\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a844ab5b69b84569f033be33bf5fb9fbc}{select}}(data\_enc\_unorm,\ data\_enc\_lns,\ lns\_mask);}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{comment}{//\ Store\ block\ metadata}}
\DoxyCodeLine{00261\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a4222fc6e5a97194fd342700adff483db}{data\_min}}\ =\ data\_min;}
\DoxyCodeLine{00262\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_ac6bd4890338be887b61f857e37d23459}{data\_mean}}\ =\ data\_mean;}
\DoxyCodeLine{00263\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_af1b03600b295cf8dc02a333db04871fc}{data\_max}}\ =\ data\_max;}
\DoxyCodeLine{00264\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a3250483facfd20ef4d418bd5f3ef4acb}{grayscale}}\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_ad93dff3341cbbeed568d4bd6dc4ef87c}{all}}(grayscalev);}
\DoxyCodeLine{00265\ \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_ac38601dc2481e26c57906255523f7262_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_ac38601dc2481e26c57906255523f7262_icgraph}
\end{center}
\end{figure}
\Hypertarget{astcenc__image_8cpp_a04e3f01eb10a8a494e1d07b39c496bde}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!load\_image\_block\_fast\_ldr@{load\_image\_block\_fast\_ldr}}
\index{load\_image\_block\_fast\_ldr@{load\_image\_block\_fast\_ldr}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{load\_image\_block\_fast\_ldr()}{load\_image\_block\_fast\_ldr()}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_a04e3f01eb10a8a494e1d07b39c496bde} 
void load\+\_\+image\+\_\+block\+\_\+fast\+\_\+ldr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{astcenc_8h_adf71df2e9f79916ccc02886ba1bdeb29}{astcenc\+\_\+profile}}}]{decode\+\_\+mode}{, }\item[{const \mbox{\hyperlink{structastcenc__image}{astcenc\+\_\+image}} \&}]{img}{, }\item[{\mbox{\hyperlink{structimage__block}{image\+\_\+block}} \&}]{blk}{, }\item[{const \mbox{\hyperlink{structblock__size__descriptor}{block\+\_\+size\+\_\+descriptor}} \&}]{bsd}{, }\item[{unsigned int}]{xpos}{, }\item[{unsigned int}]{ypos}{, }\item[{unsigned int}]{zpos}{, }\item[{const \mbox{\hyperlink{structastcenc__swizzle}{astcenc\+\_\+swizzle}} \&}]{swz}{}\end{DoxyParamCaption})}



Load a single image block from the input image. 

This specialized variant can be used only if the block is 2D LDR U8 data, with no swizzle.


\begin{DoxyParams}[1]{매개변수}
 & {\em decode\+\_\+mode} & The compression color profile. \\
\hline
 & {\em img} & The input image data. \\
\hline
\mbox{\texttt{ out}}  & {\em blk} & The image block to populate. \\
\hline
 & {\em bsd} & The block size information. \\
\hline
 & {\em xpos} & The block X coordinate in the input image. \\
\hline
 & {\em ypos} & The block Y coordinate in the input image. \\
\hline
 & {\em zpos} & The block Z coordinate in the input image. \\
\hline
 & {\em swz} & The swizzle to apply on load. \\
\hline
\end{DoxyParams}


\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00268}{268}} 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{00277\ \ \ \{}
\DoxyCodeLine{00278\ \ \ \ \ (void)swz;}
\DoxyCodeLine{00279\ \ \ \ \ (void)decode\_mode;}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ xsize\ =\ img.\mbox{\hyperlink{structastcenc__image_a8bb8eebb59215778176674951c6da70a}{dim\_x}};}
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ ysize\ =\ img.\mbox{\hyperlink{structastcenc__image_a3a62fbbc3a16a390eca3b03b6e489750}{dim\_y}};}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a352aaf95790a294ff0b8b037b49def86}{xpos}}\ =\ xpos;}
\DoxyCodeLine{00285\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a77a79aa3bc8909bb34673e86ee30584f}{ypos}}\ =\ ypos;}
\DoxyCodeLine{00286\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_aef3e6199531833e9b855f7fde1d06593}{zpos}}\ =\ zpos;}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ data\_min(1e38f);}
\DoxyCodeLine{00289\ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ data\_mean\ =\ \mbox{\hyperlink{structvfloat4_a04b5f338012dab6be0b2bd7910fcbcae}{vfloat4::zero}}();}
\DoxyCodeLine{00290\ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ data\_max(-\/1e38f);}
\DoxyCodeLine{00291\ \ \ \ \ \mbox{\hyperlink{structvmask4}{vmask4}}\ grayscalev(\textcolor{keyword}{true});}
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{keywordtype}{int}\ idx\ =\ 0;}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{keyword}{const}\ uint8\_t*\ plane\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }uint8\_t*\textcolor{keyword}{>}(img.\mbox{\hyperlink{structastcenc__image_ac2487bc635b3c9eced65f2c551e759f2}{data}}[0]);}
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y\ =\ ypos;\ y\ <\ ypos\ +\ bsd.\mbox{\hyperlink{structblock__size__descriptor_a44583f2512e5ae120df42bfc4270fa03}{ydim}};\ y++)}
\DoxyCodeLine{00296\ \ \ \ \ \{}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ yi\ =\ \mbox{\hyperlink{namespaceastc_af78c0d31374aa9923633a3a2abf8d738}{astc::min}}(y,\ ysize\ -\/\ 1);}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ x\ =\ xpos;\ x\ <\ xpos\ +\ bsd.\mbox{\hyperlink{structblock__size__descriptor_aa00a247a5ba4c0501174c3ff6ecb9145}{xdim}};\ x++)}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ xi\ =\ \mbox{\hyperlink{namespaceastc_af78c0d31374aa9923633a3a2abf8d738}{astc::min}}(x,\ xsize\ -\/\ 1);}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvint4}{vint4}}\ datavi\ =\ \mbox{\hyperlink{structvint4}{vint4}}(plane\ +\ (4\ *\ xsize\ *\ yi)\ +\ (4\ *\ xi));}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ datav\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a3a2ce0fb403294db7fe126a6b3e87ab7}{int\_to\_float}}(datavi)\ *\ (65535.0f\ /\ 255.0f);}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Compute\ block\ metadata}}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \ \ \ \ data\_min\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a165b3db4e7ced1551e1880a01a01150b}{min}}(data\_min,\ datav);}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ data\_mean\ +=\ datav;}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ data\_max\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_aa162915c044e97cc1f6d630338761fd3}{max}}(data\_max,\ datav);}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ grayscalev\ =\ grayscalev\ \&\ (datav.\mbox{\hyperlink{structvfloat4_a0a3e390831722cc8e54f29155699f3a5}{swz}}<0,0,0,0>()\ ==\ datav.\mbox{\hyperlink{structvfloat4_a0a3e390831722cc8e54f29155699f3a5}{swz}}<1,1,2,2>());}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_acd4ea54654959c7b325efe9d02aaeacc}{data\_r}}[idx]\ =\ datav.\mbox{\hyperlink{structvfloat4_a04462a7815432c6bc3ce1b5e5d11e4fc}{lane}}<0>();}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_abc5bc97aed6bb644726f952818ec74b5}{data\_g}}[idx]\ =\ datav.\mbox{\hyperlink{structvfloat4_a04462a7815432c6bc3ce1b5e5d11e4fc}{lane}}<1>();}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a298273079b0de525a0c12ced8bf98d13}{data\_b}}[idx]\ =\ datav.\mbox{\hyperlink{structvfloat4_a04462a7815432c6bc3ce1b5e5d11e4fc}{lane}}<2>();}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a602c8c88dc1ceef33e833f6d6cbc09ea}{data\_a}}[idx]\ =\ datav.\mbox{\hyperlink{structvfloat4_a04462a7815432c6bc3ce1b5e5d11e4fc}{lane}}<3>();}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \ \ \ \ idx++;}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00320\ \ \ \ \ \}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{comment}{//\ Reverse\ the\ encoding\ so\ we\ store\ origin\ block\ in\ the\ original\ format}}
\DoxyCodeLine{00323\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a111c7f9821d5ebe6e9d0140f800c6bc2}{origin\_texel}}\ =\ blk.\mbox{\hyperlink{structimage__block_af99de7d75e1e380b31d70d131509caa9}{texel}}(0)\ /\ 65535.0f;}
\DoxyCodeLine{00324\ }
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{comment}{//\ Store\ block\ metadata}}
\DoxyCodeLine{00326\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_af1a9e601f3d03dc488993b81258058e0}{rgb\_lns}}[0]\ =\ 0;}
\DoxyCodeLine{00327\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_ade6f78d73e016d4e9222cbe89f5b1eec}{alpha\_lns}}[0]\ =\ 0;}
\DoxyCodeLine{00328\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a4222fc6e5a97194fd342700adff483db}{data\_min}}\ =\ data\_min;}
\DoxyCodeLine{00329\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_ac6bd4890338be887b61f857e37d23459}{data\_mean}}\ =\ data\_mean\ /\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(bsd.\mbox{\hyperlink{structblock__size__descriptor_a0df466b2eda6958f2e5f8a4f147367e4}{texel\_count}});}
\DoxyCodeLine{00330\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_af1b03600b295cf8dc02a333db04871fc}{data\_max}}\ =\ data\_max;}
\DoxyCodeLine{00331\ \ \ \ \ blk.\mbox{\hyperlink{structimage__block_a3250483facfd20ef4d418bd5f3ef4acb}{grayscale}}\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_ad93dff3341cbbeed568d4bd6dc4ef87c}{all}}(grayscalev);}
\DoxyCodeLine{00332\ \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_a04e3f01eb10a8a494e1d07b39c496bde_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_a04e3f01eb10a8a494e1d07b39c496bde_icgraph}
\end{center}
\end{figure}
\Hypertarget{astcenc__image_8cpp_ad2ea4a92f4b88093986f54423a11d6a5}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!load\_texel\_f16@{load\_texel\_f16}}
\index{load\_texel\_f16@{load\_texel\_f16}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{load\_texel\_f16()}{load\_texel\_f16()}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_ad2ea4a92f4b88093986f54423a11d6a5} 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} load\+\_\+texel\+\_\+f16 (\begin{DoxyParamCaption}\item[{const void \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{int}]{base\+\_\+offset}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Load a 16-\/bit fp16 texel from a data array. 


\begin{DoxyParams}{매개변수}
{\em data} & The data pointer. \\
\hline
{\em base\+\_\+offset} & The index offset to the start of the pixel. \\
\hline
\end{DoxyParams}


\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00062}{62}} 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{00065\ \ \ \{}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{const}\ uint16\_t*\ data16\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }uint16\_t*\textcolor{keyword}{>}(data);}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordtype}{int}\ r\ =\ data16[base\_offset\ \ \ \ ];}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{int}\ g\ =\ data16[base\_offset\ +\ 1];}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordtype}{int}\ b\ =\ data16[base\_offset\ +\ 2];}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{int}\ a\ =\ data16[base\_offset\ +\ 3];}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{astcenc__vecmathlib__neon__4_8h_afd7aa2069bdf377067c3abaca1256432}{float16\_to\_float}}(\mbox{\hyperlink{structvint4}{vint4}}(r,\ g,\ b,\ a));}
\DoxyCodeLine{00072\ \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=277pt]{astcenc__image_8cpp_ad2ea4a92f4b88093986f54423a11d6a5_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_ad2ea4a92f4b88093986f54423a11d6a5_icgraph}
\end{center}
\end{figure}
\Hypertarget{astcenc__image_8cpp_a8d442e093c3f3dc33123fa3ecbe6dece}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!load\_texel\_f32@{load\_texel\_f32}}
\index{load\_texel\_f32@{load\_texel\_f32}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{load\_texel\_f32()}{load\_texel\_f32()}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_a8d442e093c3f3dc33123fa3ecbe6dece} 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} load\+\_\+texel\+\_\+f32 (\begin{DoxyParamCaption}\item[{const void \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{int}]{base\+\_\+offset}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Load a 32-\/bit float texel from a data array. 


\begin{DoxyParams}{매개변수}
{\em data} & The data pointer. \\
\hline
{\em base\+\_\+offset} & The index offset to the start of the pixel. \\
\hline
\end{DoxyParams}


\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00080}{80}} 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{00083\ \ \ \{}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ data32\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{float}*\textcolor{keyword}{>}(data);}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvfloat4}{vfloat4}}(data32\ +\ base\_offset);}
\DoxyCodeLine{00086\ \}}

\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_a8d442e093c3f3dc33123fa3ecbe6dece_icgraph}
\end{center}
\end{figure}
\Hypertarget{astcenc__image_8cpp_a3308fe6e3772f49620b4b20258e7a28c}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!load\_texel\_u8@{load\_texel\_u8}}
\index{load\_texel\_u8@{load\_texel\_u8}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{load\_texel\_u8()}{load\_texel\_u8()}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_a3308fe6e3772f49620b4b20258e7a28c} 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} load\+\_\+texel\+\_\+u8 (\begin{DoxyParamCaption}\item[{const void \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{int}]{base\+\_\+offset}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Load a 8-\/bit UNORM texel from a data array. 


\begin{DoxyParams}{매개변수}
{\em data} & The data pointer. \\
\hline
{\em base\+\_\+offset} & The index offset to the start of the pixel. \\
\hline
\end{DoxyParams}


\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00048}{48}} 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{00051\ \ \ \{}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keyword}{const}\ uint8\_t*\ data8\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }uint8\_t*\textcolor{keyword}{>}(data);}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a3a2ce0fb403294db7fe126a6b3e87ab7}{int\_to\_float}}(\mbox{\hyperlink{structvint4}{vint4}}(data8\ +\ base\_offset))\ /\ 255.0f;}
\DoxyCodeLine{00054\ \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=257pt]{astcenc__image_8cpp_a3308fe6e3772f49620b4b20258e7a28c_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_a3308fe6e3772f49620b4b20258e7a28c_icgraph}
\end{center}
\end{figure}
\Hypertarget{astcenc__image_8cpp_a987bc85f97f6168e6c99aa60879622f5}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!store\_image\_block@{store\_image\_block}}
\index{store\_image\_block@{store\_image\_block}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{store\_image\_block()}{store\_image\_block()}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_a987bc85f97f6168e6c99aa60879622f5} 
void store\+\_\+image\+\_\+block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structastcenc__image}{astcenc\+\_\+image}} \&}]{img}{, }\item[{const \mbox{\hyperlink{structimage__block}{image\+\_\+block}} \&}]{blk}{, }\item[{const \mbox{\hyperlink{structblock__size__descriptor}{block\+\_\+size\+\_\+descriptor}} \&}]{bsd}{, }\item[{unsigned int}]{xpos}{, }\item[{unsigned int}]{ypos}{, }\item[{unsigned int}]{zpos}{, }\item[{const \mbox{\hyperlink{structastcenc__swizzle}{astcenc\+\_\+swizzle}} \&}]{swz}{}\end{DoxyParamCaption})}



Store a single image block to the output image. 


\begin{DoxyParams}[1]{매개변수}
\mbox{\texttt{ out}}  & {\em img} & The output image data. \\
\hline
 & {\em blk} & The image block to export. \\
\hline
 & {\em bsd} & The block size information. \\
\hline
 & {\em xpos} & The block X coordinate in the input image. \\
\hline
 & {\em ypos} & The block Y coordinate in the input image. \\
\hline
 & {\em zpos} & The block Z coordinate in the input image. \\
\hline
 & {\em swz} & The swizzle to apply on store. \\
\hline
\end{DoxyParams}


\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00335}{335}} 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{00343\ \ \ \{}
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ x\_size\ =\ img.\mbox{\hyperlink{structastcenc__image_a8bb8eebb59215778176674951c6da70a}{dim\_x}};}
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ x\_start\ =\ xpos;}
\DoxyCodeLine{00346\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ x\_end\ =\ \mbox{\hyperlink{namespaceastc_af78c0d31374aa9923633a3a2abf8d738}{astc::min}}(x\_size,\ xpos\ +\ bsd.\mbox{\hyperlink{structblock__size__descriptor_aa00a247a5ba4c0501174c3ff6ecb9145}{xdim}});}
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ x\_count\ =\ x\_end\ -\/\ x\_start;}
\DoxyCodeLine{00348\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ x\_nudge\ =\ bsd.\mbox{\hyperlink{structblock__size__descriptor_aa00a247a5ba4c0501174c3ff6ecb9145}{xdim}}\ -\/\ x\_count;}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y\_size\ =\ img.\mbox{\hyperlink{structastcenc__image_a3a62fbbc3a16a390eca3b03b6e489750}{dim\_y}};}
\DoxyCodeLine{00351\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y\_start\ =\ ypos;}
\DoxyCodeLine{00352\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y\_end\ =\ \mbox{\hyperlink{namespaceastc_af78c0d31374aa9923633a3a2abf8d738}{astc::min}}(y\_size,\ ypos\ +\ bsd.\mbox{\hyperlink{structblock__size__descriptor_a44583f2512e5ae120df42bfc4270fa03}{ydim}});}
\DoxyCodeLine{00353\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y\_count\ =\ y\_end\ -\/\ y\_start;}
\DoxyCodeLine{00354\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y\_nudge\ =\ (bsd.\mbox{\hyperlink{structblock__size__descriptor_a44583f2512e5ae120df42bfc4270fa03}{ydim}}\ -\/\ y\_count)\ *\ bsd.\mbox{\hyperlink{structblock__size__descriptor_aa00a247a5ba4c0501174c3ff6ecb9145}{xdim}};}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ z\_size\ =\ img.\mbox{\hyperlink{structastcenc__image_a9c71edbb23f1cca0de775c508b6219ee}{dim\_z}};}
\DoxyCodeLine{00357\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ z\_start\ =\ zpos;}
\DoxyCodeLine{00358\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ z\_end\ =\ \mbox{\hyperlink{namespaceastc_af78c0d31374aa9923633a3a2abf8d738}{astc::min}}(z\_size,\ zpos\ +\ bsd.\mbox{\hyperlink{structblock__size__descriptor_afc7428efe69cba2425ae335d9d266714}{zdim}});}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \ \ \ \ \textcolor{comment}{//\ True\ if\ any\ non-\/identity\ swizzle}}
\DoxyCodeLine{00361\ \ \ \ \ \textcolor{keywordtype}{bool}\ needs\_swz\ =\ (swz.\mbox{\hyperlink{structastcenc__swizzle_a0c0124d7a26431ae7bbbf51a0e8f0c66}{r}}\ !=\ \mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a2766a38ed1e99377723a4efb3510acd3}{ASTCENC\_SWZ\_R}})\ ||\ (swz.\mbox{\hyperlink{structastcenc__swizzle_ad778143342dc318f61fe2570823bfce7}{g}}\ !=\ \mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687ad07f821ba0081fbbfcc5b59ebb744b3d}{ASTCENC\_SWZ\_G}})\ ||}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (swz.\mbox{\hyperlink{structastcenc__swizzle_a202d334af15a226b53da716e5cb32b8c}{b}}\ !=\ \mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687aa90469ed153f096e4db49d557b5ed3f0}{ASTCENC\_SWZ\_B}})\ ||\ (swz.\mbox{\hyperlink{structastcenc__swizzle_a5a3d3c986b4b4242ce83bf6ec04f72aa}{a}}\ !=\ \mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a0fa7695144b4779ee0270c590765c713}{ASTCENC\_SWZ\_A}});}
\DoxyCodeLine{00363\ }
\DoxyCodeLine{00364\ \ \ \ \ \textcolor{comment}{//\ True\ if\ any\ swizzle\ uses\ Z\ reconstruct}}
\DoxyCodeLine{00365\ \ \ \ \ \textcolor{keywordtype}{bool}\ needs\_z\ =\ (swz.\mbox{\hyperlink{structastcenc__swizzle_a0c0124d7a26431ae7bbbf51a0e8f0c66}{r}}\ ==\ \mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a865a6b0c084162fcd67976b4c4c457d0}{ASTCENC\_SWZ\_Z}})\ ||\ (swz.\mbox{\hyperlink{structastcenc__swizzle_ad778143342dc318f61fe2570823bfce7}{g}}\ ==\ \mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a865a6b0c084162fcd67976b4c4c457d0}{ASTCENC\_SWZ\_Z}})\ ||}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (swz.\mbox{\hyperlink{structastcenc__swizzle_a202d334af15a226b53da716e5cb32b8c}{b}}\ ==\ \mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a865a6b0c084162fcd67976b4c4c457d0}{ASTCENC\_SWZ\_Z}})\ ||\ (swz.\mbox{\hyperlink{structastcenc__swizzle_a5a3d3c986b4b4242ce83bf6ec04f72aa}{a}}\ ==\ \mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a865a6b0c084162fcd67976b4c4c457d0}{ASTCENC\_SWZ\_Z}});}
\DoxyCodeLine{00367\ }
\DoxyCodeLine{00368\ \ \ \ \ \textcolor{keywordtype}{int}\ idx\ =\ 0;}
\DoxyCodeLine{00369\ \ \ \ \ \textcolor{keywordflow}{if}\ (img.\mbox{\hyperlink{structastcenc__image_a5ce29ab112fff72151cbffcb3c8fdb16}{data\_type}}\ ==\ \mbox{\hyperlink{astcenc_8h_a7aeb732fb3426e390fa669957d7a109aa91ac7b6329d0a39c879dff7a1bcdf759}{ASTCENC\_TYPE\_U8}})}
\DoxyCodeLine{00370\ \ \ \ \ \{}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ z\ =\ z\_start;\ z\ <\ z\_end;\ z++)}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Fetch\ the\ image\ plane}}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t*\ data8\ =\ \textcolor{keyword}{static\_cast<}uint8\_t*\textcolor{keyword}{>}(img.\mbox{\hyperlink{structastcenc__image_ac2487bc635b3c9eced65f2c551e759f2}{data}}[z]);}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y\ =\ y\_start;\ y\ <\ y\_end;\ y++)}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t*\ data8\_row\ =\ data8\ +\ (4\ *\ x\_size\ *\ y)\ +\ (4\ *\ x\_start);}
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ x\_count;\ x\ +=\ \mbox{\hyperlink{astcenc__vecmathlib_8h_aaf679f3389069313db808a4ebd6af8ad}{ASTCENC\_SIMD\_WIDTH}})}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ max\_texels\ =\ \mbox{\hyperlink{astcenc__vecmathlib_8h_aaf679f3389069313db808a4ebd6af8ad}{ASTCENC\_SIMD\_WIDTH}};}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ used\_texels\ =\ \mbox{\hyperlink{namespaceastc_af78c0d31374aa9923633a3a2abf8d738}{astc::min}}(x\_count\ -\/\ x,\ max\_texels);}
\DoxyCodeLine{00384\ }
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Unaligned\ load\ as\ rows\ are\ not\ always\ SIMD\_WIDTH\ long}}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat}}\ data\_r(blk.\mbox{\hyperlink{structimage__block_acd4ea54654959c7b325efe9d02aaeacc}{data\_r}}\ +\ idx);}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat}}\ data\_g(blk.\mbox{\hyperlink{structimage__block_abc5bc97aed6bb644726f952818ec74b5}{data\_g}}\ +\ idx);}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat}}\ data\_b(blk.\mbox{\hyperlink{structimage__block_a298273079b0de525a0c12ced8bf98d13}{data\_b}}\ +\ idx);}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat}}\ data\_a(blk.\mbox{\hyperlink{structimage__block_a602c8c88dc1ceef33e833f6d6cbc09ea}{data\_a}}\ +\ idx);}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvint4}{vint}}\ data\_ri\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a598d6ea3ba27a788b12341a5263c7881}{float\_to\_int\_rtn}}(\mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a165b3db4e7ced1551e1880a01a01150b}{min}}(data\_r,\ 1.0f)\ *\ 255.0f);}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvint4}{vint}}\ data\_gi\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a598d6ea3ba27a788b12341a5263c7881}{float\_to\_int\_rtn}}(\mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a165b3db4e7ced1551e1880a01a01150b}{min}}(data\_g,\ 1.0f)\ *\ 255.0f);}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvint4}{vint}}\ data\_bi\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a598d6ea3ba27a788b12341a5263c7881}{float\_to\_int\_rtn}}(\mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a165b3db4e7ced1551e1880a01a01150b}{min}}(data\_b,\ 1.0f)\ *\ 255.0f);}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvint4}{vint}}\ data\_ai\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a598d6ea3ba27a788b12341a5263c7881}{float\_to\_int\_rtn}}(\mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a165b3db4e7ced1551e1880a01a01150b}{min}}(data\_a,\ 1.0f)\ *\ 255.0f);}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_swz)}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvint4}{vint}}\ swizzle\_table[7];}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ swizzle\_table[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a57fb016aa14a558856f737b35d6a0c17}{ASTCENC\_SWZ\_0}}]\ =\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a1d994704cca1a088c460bd5a3058e3bc}{vint}}(0);}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ swizzle\_table[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a6c62cc90aa131c1d547561c2833eb0d7}{ASTCENC\_SWZ\_1}}]\ =\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a1d994704cca1a088c460bd5a3058e3bc}{vint}}(255);}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ swizzle\_table[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a2766a38ed1e99377723a4efb3510acd3}{ASTCENC\_SWZ\_R}}]\ =\ data\_ri;}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ swizzle\_table[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687ad07f821ba0081fbbfcc5b59ebb744b3d}{ASTCENC\_SWZ\_G}}]\ =\ data\_gi;}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ swizzle\_table[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687aa90469ed153f096e4db49d557b5ed3f0}{ASTCENC\_SWZ\_B}}]\ =\ data\_bi;}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ swizzle\_table[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a0fa7695144b4779ee0270c590765c713}{ASTCENC\_SWZ\_A}}]\ =\ data\_ai;}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_z)}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat}}\ data\_x\ =\ (data\_r\ *\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a3a29c3b15144cf0836ca0f4740b73d00}{vfloat}}(2.0f))\ -\/\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a3a29c3b15144cf0836ca0f4740b73d00}{vfloat}}(1.0f);}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat}}\ data\_y\ =\ (data\_a\ *\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a3a29c3b15144cf0836ca0f4740b73d00}{vfloat}}(2.0f))\ -\/\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a3a29c3b15144cf0836ca0f4740b73d00}{vfloat}}(1.0f);}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat}}\ data\_z\ =\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a3a29c3b15144cf0836ca0f4740b73d00}{vfloat}}(1.0f)\ -\/\ (data\_x\ *\ data\_x)\ -\/\ (data\_y\ *\ data\_y);}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_z\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_aa162915c044e97cc1f6d630338761fd3}{max}}(data\_z,\ 0.0f);}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_z\ =\ (\mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a46b31b19ff13c14adb023db4b5df8e52}{sqrt}}(data\_z)\ *\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a3a29c3b15144cf0836ca0f4740b73d00}{vfloat}}(0.5f))\ +\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a3a29c3b15144cf0836ca0f4740b73d00}{vfloat}}(0.5f);}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ swizzle\_table[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a865a6b0c084162fcd67976b4c4c457d0}{ASTCENC\_SWZ\_Z}}]\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a598d6ea3ba27a788b12341a5263c7881}{float\_to\_int\_rtn}}(\mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a165b3db4e7ced1551e1880a01a01150b}{min}}(data\_z,\ 1.0f)\ *\ 255.0f);}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00416\ }
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_ri\ =\ swizzle\_table[swz.\mbox{\hyperlink{structastcenc__swizzle_a0c0124d7a26431ae7bbbf51a0e8f0c66}{r}}];}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_gi\ =\ swizzle\_table[swz.\mbox{\hyperlink{structastcenc__swizzle_ad778143342dc318f61fe2570823bfce7}{g}}];}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_bi\ =\ swizzle\_table[swz.\mbox{\hyperlink{structastcenc__swizzle_a202d334af15a226b53da716e5cb32b8c}{b}}];}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_ai\ =\ swizzle\_table[swz.\mbox{\hyperlink{structastcenc__swizzle_a5a3d3c986b4b4242ce83bf6ec04f72aa}{a}}];}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Errors\ are\ NaN\ encoded\ -\/\ convert\ to\ magenta\ error\ color}}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Branch\ is\ OK\ here\ -\/\ it\ is\ almost\ never\ true\ so\ predicts\ well}}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvmask4}{vmask}}\ nan\_mask\ =\ data\_r\ !=\ data\_r;}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a1fcb81537a701f246e75fa622c2dd8ee}{any}}(nan\_mask))}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_ri\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a844ab5b69b84569f033be33bf5fb9fbc}{select}}(data\_ri,\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a1d994704cca1a088c460bd5a3058e3bc}{vint}}(0xFF),\ nan\_mask);}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_gi\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a844ab5b69b84569f033be33bf5fb9fbc}{select}}(data\_gi,\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a1d994704cca1a088c460bd5a3058e3bc}{vint}}(0x00),\ nan\_mask);}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_bi\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a844ab5b69b84569f033be33bf5fb9fbc}{select}}(data\_bi,\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a1d994704cca1a088c460bd5a3058e3bc}{vint}}(0xFF),\ nan\_mask);}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_ai\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a844ab5b69b84569f033be33bf5fb9fbc}{select}}(data\_ai,\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a1d994704cca1a088c460bd5a3058e3bc}{vint}}(0xFF),\ nan\_mask);}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvint4}{vint}}\ data\_rgbai\ =\ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a635c0c8b5f0ea77a88ccc25f53eab588}{interleave\_rgba8}}(data\_ri,\ data\_gi,\ data\_bi,\ data\_ai);}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvmask4}{vmask}}\ store\_mask\ =\ \mbox{\hyperlink{structvint4_a21e3d111e37da1aaaeb5ba21a831c863}{vint::lane\_id}}()\ <\ \mbox{\hyperlink{astcenc__vecmathlib_8h_a1d994704cca1a088c460bd5a3058e3bc}{vint}}(used\_texels);}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a2766c60947c6dea0a84cd8d86806c6eb}{store\_lanes\_masked}}(data8\_row,\ data\_rgbai,\ store\_mask);}
\DoxyCodeLine{00437\ }
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data8\_row\ +=\ \mbox{\hyperlink{astcenc__vecmathlib_8h_aaf679f3389069313db808a4ebd6af8ad}{ASTCENC\_SIMD\_WIDTH}}\ *\ 4;}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ idx\ +=\ used\_texels;}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ idx\ +=\ x\_nudge;}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \ \ \ \ idx\ +=\ y\_nudge;}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00445\ \ \ \ \ \}}
\DoxyCodeLine{00446\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (img.\mbox{\hyperlink{structastcenc__image_a5ce29ab112fff72151cbffcb3c8fdb16}{data\_type}}\ ==\ \mbox{\hyperlink{astcenc_8h_a7aeb732fb3426e390fa669957d7a109aad39e16b7f2e55ed676ce400619f0759d}{ASTCENC\_TYPE\_F16}})}
\DoxyCodeLine{00447\ \ \ \ \ \{}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ z\ =\ z\_start;\ z\ <\ z\_end;\ z++)}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Fetch\ the\ image\ plane}}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t*\ data16\ =\ \textcolor{keyword}{static\_cast<}uint16\_t*\textcolor{keyword}{>}(img.\mbox{\hyperlink{structastcenc__image_ac2487bc635b3c9eced65f2c551e759f2}{data}}[z]);}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y\ =\ y\_start;\ y\ <\ y\_end;\ y++)}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t*\ data16\_row\ =\ data16\ +\ (4\ *\ x\_size\ *\ y)\ +\ (4\ *\ x\_start);}
\DoxyCodeLine{00456\ }
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ x\_count;\ x++)}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvint4}{vint4}}\ color;}
\DoxyCodeLine{00460\ }
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NaNs\ are\ handled\ inline\ -\/\ no\ need\ to\ special\ case}}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_swz)}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ data[7];}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a57fb016aa14a558856f737b35d6a0c17}{ASTCENC\_SWZ\_0}}]\ =\ 0.0f;}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a6c62cc90aa131c1d547561c2833eb0d7}{ASTCENC\_SWZ\_1}}]\ =\ 1.0f;}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a2766a38ed1e99377723a4efb3510acd3}{ASTCENC\_SWZ\_R}}]\ =\ blk.\mbox{\hyperlink{structimage__block_acd4ea54654959c7b325efe9d02aaeacc}{data\_r}}[idx];}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687ad07f821ba0081fbbfcc5b59ebb744b3d}{ASTCENC\_SWZ\_G}}]\ =\ blk.\mbox{\hyperlink{structimage__block_abc5bc97aed6bb644726f952818ec74b5}{data\_g}}[idx];}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687aa90469ed153f096e4db49d557b5ed3f0}{ASTCENC\_SWZ\_B}}]\ =\ blk.\mbox{\hyperlink{structimage__block_a298273079b0de525a0c12ced8bf98d13}{data\_b}}[idx];}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a0fa7695144b4779ee0270c590765c713}{ASTCENC\_SWZ\_A}}]\ =\ blk.\mbox{\hyperlink{structimage__block_a602c8c88dc1ceef33e833f6d6cbc09ea}{data\_a}}[idx];}
\DoxyCodeLine{00471\ }
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_z)}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ xN\ =\ (data[0]\ *\ 2.0f)\ -\/\ 1.0f;}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ yN\ =\ (data[3]\ *\ 2.0f)\ -\/\ 1.0f;}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ zN\ =\ 1.0f\ -\/\ xN\ *\ xN\ -\/\ yN\ *\ yN;}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (zN\ <\ 0.0f)}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ zN\ =\ 0.0f;}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a865a6b0c084162fcd67976b4c4c457d0}{ASTCENC\_SWZ\_Z}}]\ =\ (\mbox{\hyperlink{namespaceastc_a31e63d01af92a8a63ffdee93d6f342ae}{astc::sqrt}}(zN)\ *\ 0.5f)\ +\ 0.5f;}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00483\ }
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ colorf(data[swz.\mbox{\hyperlink{structastcenc__swizzle_a0c0124d7a26431ae7bbbf51a0e8f0c66}{r}}],\ data[swz.\mbox{\hyperlink{structastcenc__swizzle_ad778143342dc318f61fe2570823bfce7}{g}}],\ data[swz.\mbox{\hyperlink{structastcenc__swizzle_a202d334af15a226b53da716e5cb32b8c}{b}}],\ data[swz.\mbox{\hyperlink{structastcenc__swizzle_a5a3d3c986b4b4242ce83bf6ec04f72aa}{a}}]);}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ color\ =\ \mbox{\hyperlink{astcenc__vecmathlib__neon__4_8h_ae8701a3f44d7b99016d54c3d6ee27581}{float\_to\_float16}}(colorf);}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ colorf\ =\ blk.\mbox{\hyperlink{structimage__block_af99de7d75e1e380b31d70d131509caa9}{texel}}(idx);}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ color\ =\ \mbox{\hyperlink{astcenc__vecmathlib__neon__4_8h_ae8701a3f44d7b99016d54c3d6ee27581}{float\_to\_float16}}(colorf);}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00492\ }
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ Vectorize\ with\ store\ N\ shorts?}}
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data16\_row[0]\ =\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(color.\mbox{\hyperlink{structvint4_a01e3f7debf73dc6c757fa36d585c9d17}{lane}}<0>());}
\DoxyCodeLine{00495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data16\_row[1]\ =\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(color.\mbox{\hyperlink{structvint4_a01e3f7debf73dc6c757fa36d585c9d17}{lane}}<1>());}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data16\_row[2]\ =\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(color.\mbox{\hyperlink{structvint4_a01e3f7debf73dc6c757fa36d585c9d17}{lane}}<2>());}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data16\_row[3]\ =\ \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>}(color.\mbox{\hyperlink{structvint4_a01e3f7debf73dc6c757fa36d585c9d17}{lane}}<3>());}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data16\_row\ +=\ 4;}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ idx++;}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ idx\ +=\ x\_nudge;}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \ \ \ \ idx\ +=\ y\_nudge;}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00505\ \ \ \ \ \}}
\DoxyCodeLine{00506\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{comment}{//\ if\ (img.data\_type\ ==\ ASTCENC\_TYPE\_F32)}}
\DoxyCodeLine{00507\ \ \ \ \ \{}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ assert(img.\mbox{\hyperlink{structastcenc__image_a5ce29ab112fff72151cbffcb3c8fdb16}{data\_type}}\ ==\ \mbox{\hyperlink{astcenc_8h_a7aeb732fb3426e390fa669957d7a109aaf996e38de0e0ac57175c09da275c6062}{ASTCENC\_TYPE\_F32}});}
\DoxyCodeLine{00509\ }
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ z\ =\ z\_start;\ z\ <\ z\_end;\ z++)}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Fetch\ the\ image\ plane}}
\DoxyCodeLine{00513\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}*\ data32\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}*\textcolor{keyword}{>}(img.\mbox{\hyperlink{structastcenc__image_ac2487bc635b3c9eced65f2c551e759f2}{data}}[z]);}
\DoxyCodeLine{00514\ }
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y\ =\ y\_start;\ y\ <\ y\_end;\ y++)}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}*\ data32\_row\ =\ data32\ +\ (4\ *\ x\_size\ *\ y)\ +\ (4\ *\ x\_start);}
\DoxyCodeLine{00518\ }
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ x\_count;\ x++)}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvfloat4}{vfloat4}}\ color\ =\ blk.\mbox{\hyperlink{structimage__block_af99de7d75e1e380b31d70d131509caa9}{texel}}(idx);}
\DoxyCodeLine{00522\ }
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NaNs\ are\ handled\ inline\ -\/\ no\ need\ to\ special\ case}}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_swz)}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ data[7];}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a57fb016aa14a558856f737b35d6a0c17}{ASTCENC\_SWZ\_0}}]\ =\ 0.0f;}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a6c62cc90aa131c1d547561c2833eb0d7}{ASTCENC\_SWZ\_1}}]\ =\ 1.0f;}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a2766a38ed1e99377723a4efb3510acd3}{ASTCENC\_SWZ\_R}}]\ =\ color.\mbox{\hyperlink{structvfloat4_a04462a7815432c6bc3ce1b5e5d11e4fc}{lane}}<0>();}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687ad07f821ba0081fbbfcc5b59ebb744b3d}{ASTCENC\_SWZ\_G}}]\ =\ color.\mbox{\hyperlink{structvfloat4_a04462a7815432c6bc3ce1b5e5d11e4fc}{lane}}<1>();}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687aa90469ed153f096e4db49d557b5ed3f0}{ASTCENC\_SWZ\_B}}]\ =\ color.\mbox{\hyperlink{structvfloat4_a04462a7815432c6bc3ce1b5e5d11e4fc}{lane}}<2>();}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a0fa7695144b4779ee0270c590765c713}{ASTCENC\_SWZ\_A}}]\ =\ color.\mbox{\hyperlink{structvfloat4_a04462a7815432c6bc3ce1b5e5d11e4fc}{lane}}<3>();}
\DoxyCodeLine{00533\ }
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_z)}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ xN\ =\ (data[0]\ *\ 2.0f)\ -\/\ 1.0f;}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ yN\ =\ (data[3]\ *\ 2.0f)\ -\/\ 1.0f;}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ zN\ =\ 1.0f\ -\/\ xN\ *\ xN\ -\/\ yN\ *\ yN;}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (zN\ <\ 0.0f)}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ zN\ =\ 0.0f;}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a865a6b0c084162fcd67976b4c4c457d0}{ASTCENC\_SWZ\_Z}}]\ =\ (\mbox{\hyperlink{namespaceastc_a31e63d01af92a8a63ffdee93d6f342ae}{astc::sqrt}}(zN)\ *\ 0.5f)\ +\ 0.5f;}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00545\ }
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ color\ =\ \mbox{\hyperlink{structvfloat4}{vfloat4}}(data[swz.\mbox{\hyperlink{structastcenc__swizzle_a0c0124d7a26431ae7bbbf51a0e8f0c66}{r}}],\ data[swz.\mbox{\hyperlink{structastcenc__swizzle_ad778143342dc318f61fe2570823bfce7}{g}}],\ data[swz.\mbox{\hyperlink{structastcenc__swizzle_a202d334af15a226b53da716e5cb32b8c}{b}}],\ data[swz.\mbox{\hyperlink{structastcenc__swizzle_a5a3d3c986b4b4242ce83bf6ec04f72aa}{a}}]);}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00548\ }
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_a61add2970baac5cf6b04177472ae1ed1}{store}}(color,\ data32\_row);}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data32\_row\ +=\ 4;}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ idx++;}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ idx\ +=\ x\_nudge;}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \ \ \ \ idx\ +=\ y\_nudge;}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00557\ \ \ \ \ \}}
\DoxyCodeLine{00558\ \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_a987bc85f97f6168e6c99aa60879622f5_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_a987bc85f97f6168e6c99aa60879622f5_icgraph}
\end{center}
\end{figure}
\Hypertarget{astcenc__image_8cpp_ae572e9ecb56b0cc2f5eba2a767010c33}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!swz\_texel@{swz\_texel}}
\index{swz\_texel@{swz\_texel}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{swz\_texel()}{swz\_texel()}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_ae572e9ecb56b0cc2f5eba2a767010c33} 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} swz\+\_\+texel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvfloat4}{vfloat4}}}]{data}{, }\item[{const \mbox{\hyperlink{structastcenc__swizzle}{astcenc\+\_\+swizzle}} \&}]{swz}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Swizzle a texel into a new arrangement. 


\begin{DoxyParams}{매개변수}
{\em data} & The source RGBA vector to swizzle. \\
\hline
{\em swz} & The swizzle to use. \\
\hline
\end{DoxyParams}


\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00108}{108}} 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{00111\ \ \ \{}
\DoxyCodeLine{00112\ \ \ \ \ \mbox{\hyperlink{astcenc__mathlib_8h_adf60643d2894fb1d3cd00d4f907186e8}{ASTCENC\_ALIGNAS}}\ \textcolor{keywordtype}{float}\ datas[6];}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \mbox{\hyperlink{astcenc__vecmathlib__avx2__8_8h_ad4c0a7bde35d6fe9c54531e1e0652f4a}{storea}}(data,\ datas);}
\DoxyCodeLine{00115\ \ \ \ \ datas[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a57fb016aa14a558856f737b35d6a0c17}{ASTCENC\_SWZ\_0}}]\ =\ 0.0f;}
\DoxyCodeLine{00116\ \ \ \ \ datas[\mbox{\hyperlink{astcenc_8h_ade8fdcd2d40237f88e4bfe1230b9b687a6c62cc90aa131c1d547561c2833eb0d7}{ASTCENC\_SWZ\_1}}]\ =\ 1.0f;}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structvfloat4}{vfloat4}}(datas[swz.\mbox{\hyperlink{structastcenc__swizzle_a0c0124d7a26431ae7bbbf51a0e8f0c66}{r}}],\ datas[swz.\mbox{\hyperlink{structastcenc__swizzle_ad778143342dc318f61fe2570823bfce7}{g}}],\ datas[swz.\mbox{\hyperlink{structastcenc__swizzle_a202d334af15a226b53da716e5cb32b8c}{b}}],\ datas[swz.\mbox{\hyperlink{structastcenc__swizzle_a5a3d3c986b4b4242ce83bf6ec04f72aa}{a}}]);}
\DoxyCodeLine{00119\ \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{astcenc__image_8cpp_ae572e9ecb56b0cc2f5eba2a767010c33_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_ae572e9ecb56b0cc2f5eba2a767010c33_icgraph}
\end{center}
\end{figure}
\Hypertarget{astcenc__image_8cpp_a358236c706b6ba8cf35879bfdf56ab67}\index{astcenc\_image.cpp@{astcenc\_image.cpp}!swz\_texel\_skip@{swz\_texel\_skip}}
\index{swz\_texel\_skip@{swz\_texel\_skip}!astcenc\_image.cpp@{astcenc\_image.cpp}}
\doxysubsubsection{\texorpdfstring{swz\_texel\_skip()}{swz\_texel\_skip()}}
{\footnotesize\ttfamily \label{astcenc__image_8cpp_a358236c706b6ba8cf35879bfdf56ab67} 
static \mbox{\hyperlink{structvfloat4}{vfloat4}} swz\+\_\+texel\+\_\+skip (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvfloat4}{vfloat4}}}]{data}{, }\item[{const \mbox{\hyperlink{structastcenc__swizzle}{astcenc\+\_\+swizzle}} \&}]{swz}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Dummy no-\/op swizzle function. 


\begin{DoxyParams}{매개변수}
{\em data} & The source RGBA vector to swizzle. \\
\hline
{\em swz} & The swizzle to use. \\
\hline
\end{DoxyParams}


\mbox{\hyperlink{astcenc__image_8cpp_source}{astcenc\+\_\+image.\+cpp}} 파일의 \mbox{\hyperlink{astcenc__image_8cpp_source_l00094}{94}} 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{00097\ \ \ \{}
\DoxyCodeLine{00098\ \ \ \ \ (void)swz;}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordflow}{return}\ data;}
\DoxyCodeLine{00100\ \}}

\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{astcenc__image_8cpp_a358236c706b6ba8cf35879bfdf56ab67_icgraph}
\end{center}
\end{figure}
